<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><title>第二章 TypeScript3的新特性</title>
<link rel="stylesheet" href="/css/layout.css">
<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="/css/vendors/rabbit-lyrics.css">
<link rel="shortcut icon" href="/img/favicon.ico"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="简单易懂の现代魔法" type="application/atom+xml">
</head><body><header class="base-menu"><div class="menu-wrapper"><div class="menu-layout-bg"></div><nav class="menu-content"><ul class="menu-list"><li class="menu-item"><a class="menu-link" href="/">简单易懂の现代魔法</a></li><li class="menu-item"><a class="menu-link" href="/maths/">Maths</a></li><li class="menu-item"><a class="menu-link" href="/projects/">Projects</a></li><li class="menu-item"><a class="menu-link" href="/archives/">Archives</a></li><li class="menu-item"><a class="menu-link" target="_blank" rel="noopener" href="http://weibo.com/u/2360401155">Weibo</a></li><li class="menu-item"><a class="menu-link" href="/about">About</a></li><li class="menu-item"><a class="menu-link" href="/atom.xml">Rss</a></li></ul></nav></div></header><header class="base-mobile-menu"><div class="mobile-menu-wrapper"><div class="menu-layout-bg"></div><nav class="menu-content"><ul class="menu-list"><li class="menu-item"><a class="menu-link" href="/">简单易懂の现代魔法</a></li><li class="menu-item"><a class="menu-link" href="/maths/">Maths</a></li><li class="menu-item"><a class="menu-link" href="/projects/">Projects</a></li><li class="menu-item"><a class="menu-link" href="/archives/">Archives</a></li><li class="menu-item"><a class="menu-link" target="_blank" rel="noopener" href="http://weibo.com/u/2360401155">Weibo</a></li><li class="menu-item"><a class="menu-link" href="/about">About</a></li><li class="menu-item"><a class="menu-link" href="/atom.xml">Rss</a></li></ul></nav><div class="toggle-menu" id="mobile-menu-toggle"><span class="menu-bar"></span><span class="menu-bar"> </span><span class="menu-bar"></span></div></div></header><div class="base-content"><div class="base-content-main"><article class="article-main"><h1 class="article-title">第二章 TypeScript3的新特性</h1><div class="article-meta"><p class="meta-item meta-time"><span class="meta-item-title"></span><i class="icon-calendar"> </i>2019-11-27</p><p class="meta-item meta-tag"><span class="meta-item-title"></span><i class="icon-tags"> </i><a class="tag-link" href="/tags/react/">react<span class="tag">, </span></a><a class="tag-link" href="/tags/typescript/">typescript</a></p><p class="meta-item meta-category"><span class="meta-item-title"></span><i class="icon-bookmark"> </i><a class="category-link" href="/categories/react/">react</a></p></div><div class="article-content"><ul>
<li>Tuples</li>
<li>The unknown type</li>
<li>Project references</li>
<li>Default JSX properties</li>
</ul>
<h2 id="Tuples"><a class="header-anchor" href="#Tuples">¶</a>Tuples</h2>
<p>元组类型用中括号表示，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">product</span>: [<span class="built_in">string</span>, <span class="built_in">number</span>];</span><br><span class="line"></span><br><span class="line">product = [<span class="string">&quot;Table&quot;</span>, <span class="number">500</span>];</span><br></pre></td></tr></table></figure>
<h2 id="JavaScript-的rest扩展语法"><a class="header-anchor" href="#JavaScript-的rest扩展语法">¶</a>JavaScript 的rest扩展语法</h2>
<p>在JavaScript中，一个<code>rest</code>参数就是汇集多个参数以一个参数表示。因此它称为<code>rest</code>(剩余的、)。不要跟RESTful混淆。</p>
<p>TS中用三个点表示这种<code>rest</code>参数，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">logScores</span>(<span class="params">...scores</span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(scores);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Open-ended-tuples"><a class="header-anchor" href="#Open-ended-tuples">¶</a>Open-ended tuples</h3>
<p>结合rest的扩展，tuple可以写成，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Scores</span> = [<span class="built_in">string</span>, ...<span class="built_in">number</span>[]];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">billyScores</span>: <span class="title class_">Scores</span> = [<span class="string">&quot;Billy&quot;</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">75</span>];</span><br></pre></td></tr></table></figure>
<h3 id="Tuple-function-parameters"><a class="header-anchor" href="#Tuple-function-parameters">¶</a>Tuple function parameters</h3>
<p>除了rest扩展写法，TS3支持带上参数类型，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">logScores</span>(<span class="params">...<span class="attr">scores</span>: [...<span class="built_in">number</span>[]]</span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(scores);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>或者，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Scores</span> = [<span class="built_in">string</span>, ...<span class="built_in">number</span>[]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logNameAndScores</span>(<span class="params">...<span class="attr">scores</span>: <span class="title class_">Scores</span></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(scores);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">logNameAndScores</span>(<span class="string">&quot;Sally&quot;</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">75</span>, <span class="number">70</span>);</span><br></pre></td></tr></table></figure>
<h3 id="Spread-expressions"><a class="header-anchor" href="#Spread-expressions">¶</a>Spread expressions</h3>
<p>TS3中允许使用扩展语法，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">logScore</span>(<span class="params"><span class="attr">score1</span>: <span class="built_in">number</span>, <span class="attr">score2</span>: <span class="built_in">number</span>, <span class="attr">score3</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(score1, score2, score3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">scores</span>: [<span class="built_in">number</span>, <span class="built_in">number</span>, <span class="built_in">number</span>] = [<span class="number">75</span>, <span class="number">65</span>, <span class="number">80</span>];</span><br><span class="line"></span><br><span class="line"><span class="title function_">logScore</span>(...scores);</span><br></pre></td></tr></table></figure>
<p>但不支持open-ended tuples，因此下面代码编译出错，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">scoresUnlimited</span>: [...<span class="built_in">number</span>[]] = [<span class="number">75</span>, <span class="number">65</span>, <span class="number">80</span>];</span><br><span class="line"><span class="title function_">logScore</span>(...scoresUnlimited);</span><br></pre></td></tr></table></figure>
<h3 id="Empty-tuples"><a class="header-anchor" href="#Empty-tuples">¶</a>Empty tuples</h3>
<p>TS3中可以定义空tuple，</p>
<p>对于类型别名，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Empty</span> = [];</span><br></pre></td></tr></table></figure>
<p>声明该类型的一个变量，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">empty</span>: <span class="title class_">Empty</span> = [];</span><br></pre></td></tr></table></figure>
<p>如果尝试给该类型指派一个非空值，会出现编译错误，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">notEmpty</span>: <span class="title class_">Empty</span> = [<span class="string">&quot;Billy&quot;</span>];</span><br></pre></td></tr></table></figure>
<p>空tuple可能没什么用，它的主要用处在于作为联合类型(union type)的一部分。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Scores</span> = [] | [<span class="built_in">number</span>] | [<span class="built_in">number</span>, <span class="built_in">number</span>] | [<span class="built_in">number</span>, <span class="built_in">number</span>, <span class="built_in">number</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">benScores</span>: <span class="title class_">Scores</span> = [];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">samScores</span>: <span class="title class_">Scores</span> = [<span class="number">55</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">bobScores</span>: <span class="title class_">Scores</span> = [<span class="number">95</span>, <span class="number">75</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">jayneScores</span>: <span class="title class_">Scores</span> = [<span class="number">65</span>, <span class="number">50</span>, <span class="number">70</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">sarahScores</span>: <span class="title class_">Scores</span> = [<span class="number">95</span>, <span class="number">50</span>, <span class="number">75</span>, <span class="number">75</span>];		<span class="comment">// illegal </span></span><br></pre></td></tr></table></figure>
<h3 id="可选tuple元素"><a class="header-anchor" href="#可选tuple元素">¶</a>可选tuple元素</h3>
<p>TS中用<code>?</code>表示一个可选元素，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Scores</span> = [<span class="built_in">number</span>, <span class="built_in">number</span>?, <span class="built_in">number</span>?];</span><br></pre></td></tr></table></figure>
<p>这样就可以创建带一个到三个元素的变量，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">samScores</span>: <span class="title class_">Scores</span> = [<span class="number">55</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">bobScores</span>: <span class="title class_">Scores</span> = [<span class="number">95</span>, <span class="number">75</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">jayneScores</span>: <span class="title class_">Scores</span> = [<span class="number">65</span>, <span class="number">50</span>, <span class="number">70</span>];</span><br></pre></td></tr></table></figure>
<p>严格来说，TypeScript是把类型看做是“真实的”，因此对应Type Safe的层次也是看做是类型安全的，不匹配的类型将发生编译错误，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">sarahScores</span>: <span class="title class_">Scores</span> = [<span class="number">95</span>, <span class="number">50</span>, <span class="number">75</span>, <span class="number">75</span>];	<span class="comment">// illegal</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">benScores</span>: <span class="title class_">Scores</span> = [];					<span class="comment">// illegal</span></span><br></pre></td></tr></table></figure>
<h3 id="Unknown-type"><a class="header-anchor" href="#Unknown-type">¶</a>Unknown type</h3>
<p>TS中对未知类型使用<code>unknow</code>表示，<code>unknown</code>类型通常和<code>any</code>类型交替地使用，编译器不会对这种类型进行检查，因此，下面写法是正确的，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">logScores</span>(<span class="params"><span class="attr">scores</span>: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(scores.<span class="property">firstName</span>);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(scores.<span class="property">scores</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// call this function</span></span><br><span class="line"><span class="title function_">logScores</span>(&#123;</span><br><span class="line">	<span class="attr">name</span>: <span class="string">&quot;Billy&quot;</span>,</span><br><span class="line">	<span class="attr">scores</span>: [<span class="number">60</span>, <span class="number">70</span>, <span class="number">75</span>]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>但如果改为，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">logScoresBetter</span>(<span class="params"><span class="attr">socres</span>: <span class="built_in">unknown</span></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(scores.<span class="property">firstName</span>);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(scores.<span class="property">scores</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>立即获得一个编译器警告，带程序依然有效。</p>
<h3 id="Type-checking-with-a-type-redicate"><a class="header-anchor" href="#Type-checking-with-a-type-redicate">¶</a>Type checking with a type redicate</h3>
<p>顾名思义，就是用“谓语”对类型作检查，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> scoresCheck = (</span><br><span class="line">	<span class="attr">scores</span>: <span class="built_in">any</span></span><br><span class="line">): scores is &#123; <span class="attr">name</span>: <span class="built_in">string</span>; <span class="attr">scores</span>: <span class="built_in">number</span>[] &#125; =&gt; &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;name&quot;</span> <span class="keyword">in</span> socres &amp;&amp; <span class="string">&quot;scores&quot;</span> <span class="keyword">in</span> scores;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>这里的<code>scores</code>参数带有类型谓语，<code>scores is &#123; name: string; scores: number[] &#125;</code>，以确保它包含类型属性<code>name</code>和<code>scores</code>。</p>
<p>可以结合类型别名，提高可读性，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Scores</span> = &#123; <span class="attr">name</span>: <span class="built_in">string</span>; <span class="attr">scores</span>: <span class="built_in">number</span>[] &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> scoresCheck = (</span><br><span class="line">	<span class="attr">scores</span>: <span class="built_in">any</span></span><br><span class="line">): scores is <span class="title class_">Scores</span> =&gt; &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;name&quot;</span> <span class="keyword">in</span> scores &amp;&amp; <span class="string">&quot;scores&quot;</span> <span class="keyword">in</span> scores;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>类型谓语属于type guard的一种方式，还有其它几种实现type guard的方式。</p>
<h3 id="Type-narrowing-with-a-type-assertion"><a class="header-anchor" href="#Type-narrowing-with-a-type-assertion">¶</a>Type narrowing with a type assertion</h3>
<p>类型收缩(type narrowing)类似于Java的强制转换，通过类型断言的方式，使用<code>as</code>关键实现，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Scores</span> = &#123;</span><br><span class="line">	<span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">	<span class="attr">scores</span>: <span class="built_in">number</span>[]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logScores</span>(<span class="params"><span class="attr">scores</span>: <span class="built_in">unknown</span></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>((scores <span class="keyword">as</span> scores).<span class="property">name</span>);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>((scores <span class="keyword">as</span> <span class="title class_">Scores</span>).<span class="property">scores</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Project-reference"><a class="header-anchor" href="#Project-reference">¶</a>Project reference</h3>
<p>(略) 参考网上tsconfig.json内容，</p>
<h3 id="Default-JSX-properties"><a class="header-anchor" href="#Default-JSX-properties">¶</a>Default JSX properties</h3>
<p>在TS3之前，我们必须设置默认的Props属性，并检查是否为null，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IProps</span> &#123;</span><br><span class="line">	<span class="attr">text</span>: <span class="built_in">string</span>;</span><br><span class="line">	<span class="attr">delimiter</span>?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SplitText</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span>&lt;<span class="title class_">IProps</span>&gt; &#123;</span><br><span class="line">	<span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">	<span class="attr">delimiter</span>: <span class="string">&quot;,&quot;</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">const</span> bits = <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">text</span>.<span class="title function_">split</span>(<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">delimiter</span>!);</span><br><span class="line">		<span class="keyword">return</span> (</span><br><span class="line">			<span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			&#123;bits.map((bit: string) =&gt; (</span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;bit&#125;</span>&gt;</span>&#123;bit&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			))&#125;</span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">		);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = (<span class="params"></span>) =&gt; (</span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">SplitText</span> <span class="attr">text</span>=<span class="string">&quot;Fred,Jane,Bob&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>
<p>TS3之后，可以不必要将<code>delimiter</code>属性设置为optional的，</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IProps</span> &#123;</span><br><span class="line">	<span class="attr">text</span>: <span class="built_in">string</span>;</span><br><span class="line">	<span class="attr">delimiter</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SplitText</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span>&lt;<span class="title class_">IProps</span>&gt; &#123;</span><br><span class="line">	<span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">	<span class="attr">delimiter</span>: <span class="string">&quot;,&quot;</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">const</span> bits = <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">text</span>.<span class="title function_">split</span>(<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">delimiter</span>);</span><br><span class="line">		<span class="keyword">return</span> (</span><br><span class="line">			<span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			&#123;bits.map((bit: string) =&gt; (</span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;bit&#125;</span>&gt;</span>&#123;bit&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			))&#125;</span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">		);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="问题"><a class="header-anchor" href="#问题">¶</a>问题</h3>
<ol>
<li>怎么调用<code>drawPoint</code>这个函数，</li>
</ol>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">drawPoint</span>(<span class="params"><span class="attr">x</span>: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>, <span class="attr">z</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">point</span>: [<span class="built_in">number</span>, <span class="built_in">number</span>, <span class="built_in">number</span>] = [<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>];</span><br><span class="line"><span class="title function_">drawPoint</span>(...point);</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>
<p>创建另外一个版本的<code>drawPoint</code>，参数用<code>[number, number, number]</code>实现，</p>
</li>
<li>
<p>在问题2中，让<code>z</code>是可选的。</p>
</li>
</ol>
</div></article><nav class="article-nav"><div class="article-nav-prev"><a href="/2019/11/27/react-ts/chapter_3_Getting_Started_with_React_and_TypeScript/">第三章 开始在React中使用TS</a></div><div class="article-nav-next"><a href="/2019/11/27/react-ts/chapter_1_TypeScript_Basics/">第一章 基础</a></div></nav><div id="base-discus"><div id="disqus_thread"></div><script>var disqus_shortname = 'barudisshu-github-io';
var disqus_identifier = '2019/11/27/react-ts/chapter_2_TypeScript_3/';
var disqus_title = '第二章 TypeScript3的新特性';
var disqus_url = 'https://galudisu.info/2019/11/27/react-ts/chapter_2_TypeScript_3/';
(function () {
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//#{theme.disqus}.disqus.com/count.js" async>  </script></div></div></div><footer class="base-footer"><div class="footer-wrapper"><span>©2016 - 2025 <a href="https://galudisu.info">barudisshu</a>, unless otherwise noted.</span></div></footer><div class="dom-ready">
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>

<link rel="stylesheet" href="//cdn.bootcss.com/pace/1.0.2/themes/green/pace-theme-flash.min.css">

<script src="/js/base.js"></script>

<script src="/js/rabbit-lyrics.js"></script>
</div></body></html>