<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ç®€å•æ˜“æ‡‚ã®ç°ä»£é­”æ³•</title>
  
  
  <link href="https://galudisu.info/atom.xml" rel="self"/>
  
  <link href="https://galudisu.info/"/>
  <updated>2025-05-11T16:14:26.356Z</updated>
  <id>https://galudisu.info/</id>
  
  <author>
    <name>barudisshu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç­–ç•¥æ¨¡å¼(Strategy Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/Strategy/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/Strategy/</id>
    <published>2025-05-10T12:25:00.000Z</published>
    <updated>2025-05-11T16:14:26.356Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
</summary>
      
    
    
    <content src="https://galudisu.info/%3Cspan%20id=%22more%22%3E%3C/span%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="strategy" scheme="https://galudisu.info/tags/strategy/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç†æ¨¡å¼(Proxy Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Proxy/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Proxy/</id>
    <published>2025-05-10T10:25:06.000Z</published>
    <updated>2025-05-11T16:16:24.570Z</updated>
    
    
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="proxy" scheme="https://galudisu.info/tags/proxy/"/>
    
  </entry>
  
  <entry>
    <title>äº«å…ƒæ¨¡å¼(Flyweight Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Flyweight/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Flyweight/</id>
    <published>2025-05-10T10:25:05.000Z</published>
    <updated>2025-05-11T16:16:24.560Z</updated>
    
    
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="flyweight" scheme="https://galudisu.info/tags/flyweight/"/>
    
  </entry>
  
  <entry>
    <title>å¤–è§‚æ¨¡å¼(Facade Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Facade/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Facade/</id>
    <published>2025-05-10T10:25:04.000Z</published>
    <updated>2025-05-11T16:16:24.577Z</updated>
    
    
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="facade" scheme="https://galudisu.info/tags/facade/"/>
    
  </entry>
  
  <entry>
    <title>ç»„åˆæ¨¡å¼(Composite Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Composite/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Composite/</id>
    <published>2025-05-10T10:25:03.000Z</published>
    <updated>2025-05-11T16:16:24.557Z</updated>
    
    
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="composite" scheme="https://galudisu.info/tags/composite/"/>
    
  </entry>
  
  <entry>
    <title>è£…é¥°å™¨æ¨¡å¼(Decorator Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Decorator/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Decorator/</id>
    <published>2025-05-10T10:25:02.000Z</published>
    <updated>2025-05-11T16:16:24.567Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è‹¥è¦æ‰©å±•åŠŸèƒ½ï¼Œè£…é¥°è€…æä¾›äº†æ¯”é›†æˆæ›´æœ‰å¼¹æ€§çš„æ›¿ä»£æ–¹æ¡ˆï¼ŒåŠ¨æ€åœ°å°†è´£ä»»é™„åŠ åˆ°å¯¹è±¡ä¸Šã€‚</p></blockquote><img src="/assert/puml/02307d672ba01e2fed96d1b7c332747bc72a41cded1a754f25826829437fce6f.svg"/><span id="more"></span><h3 id="æ ¸å¿ƒç»“æ„"><a class="header-anchor" href="#æ ¸å¿ƒç»“æ„">Â¶</a>æ ¸å¿ƒç»“æ„</h3><p><strong>è£…é¥°å™¨æ¨¡å¼(Decorator Pattern)</strong> çš„æ ¸å¿ƒåœ¨äºåœ¨ä¸ä¿®æ”¹å·²æœ‰å®ç°çš„å‰æä¸‹ï¼Œå¯¹å…¶è¿›è¡Œå¢å¼ºã€‚è¿™é‡Œä½“ç°äº†ä¸€ä¸ªåŸåˆ™ï¼š<strong>ç±»åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</strong>ã€‚</p><h3 id="åº”ç”¨åœºæ™¯"><a class="header-anchor" href="#åº”ç”¨åœºæ™¯">Â¶</a>åº”ç”¨åœºæ™¯</h3><ul><li>å½“éœ€è¦åœ¨ä¸ä¿®æ”¹åŸæœ‰å¯¹è±¡çš„å‰æä¸‹ä¸ºå…¶æ·»åŠ æ–°åŠŸèƒ½æ—¶ã€‚</li><li>å½“å­ç±»æ‰©å±•ä¸åˆ‡å®é™…æ—¶(æ¯”å¦‚éœ€è¦å¤šä¸ªå¯é€‰åŠŸèƒ½ç»„åˆçš„æƒ…å†µ)ã€‚</li><li>åœ¨Java IOæµä¸­å¤§é‡ä½¿ç”¨äº†è£…é¥°å™¨æ¨¡å¼ï¼Œä¾‹å¦‚<code>BufferedInputStream(InputStream)</code>å°±æ˜¯å¯¹è¾“å…¥æµçš„ä¸€ç§è£…é¥°ã€‚</li></ul><h3 id="éœ€æ±‚"><a class="header-anchor" href="#éœ€æ±‚">Â¶</a>éœ€æ±‚</h3><p>è®¾è®¡æ¸¸æˆçš„è£…å¤‡ç³»ç»Ÿï¼Œè¦æ±‚å¯ä»¥è®¡ç®—å‡ºæ¯ç§è£…å¤‡åœ¨é•¶åµŒäº†å„ç§å®çŸ³åçš„æ”»å‡»åŠ›å’Œæè¿°ï¼š</p><ul><li>æŒ‰ç…§è¦æ±‚ï¼Œæ„å»ºå¦‚ä¸‹UMLç±»å›¾ï¼Œå…¶ä¸­åŒ…å«è£…å¤‡è¶…ç±»<code>Equip</code>ã€è£…é¥°è¶…ç±»<code>EquipDecorator</code>ã€æ¸¸æˆå±æ€§è§’è‰²å¦‚ä¸‹ï¼š</li></ul><table><thead><tr><th><strong>è£…å¤‡</strong></th><th>çº¢å®çŸ³(hp+)</th><th>è“å®çŸ³(mp+)</th><th>ç»¿å®çŸ³(sp+)</th><th>é»„å®çŸ³(ak+)</th><th>ç´«å®çŸ³(df+)</th></tr></thead><tbody><tr><td>å¸½å­ğŸ§¢</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>ä¸Šè¡£ğŸ‘”</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>æŠ¤ç”²ğŸ§¥</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>è£¤å­ğŸ‘–</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>é‹å­ğŸ‘¢</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>æ­¦å™¨ğŸ—¡</td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>æ ¹æ®å±æ€§æ ï¼Œè®¾è®¡è£…å¤‡å±æ€§ï¼Œæœ‰æ”»å‡»ã€æ•æ·ã€é˜²å¾¡ã€hp/mpå€¼ã€‚å…¶ä¸­çº¢å®çŸ³+hpï¼Œè“å®çŸ³+mpï¼Œç»¿å®çŸ³+æ•æ·ï¼Œé»„å®çŸ³+æ”»å‡»åŠ›ï¼Œç´«å®çŸ³+é˜²å¾¡åŠ›ã€‚</p><img src="/assert/puml/581374393200909de2218f08bbc1a1f3d60f03d252d409881b8a370d3dd77b5b.svg"/><p>è£…é¥°å™¨å¯ä»¥å¤šå±‚åµŒå¥—ï¼Œä¾‹å¦‚è·å–å¾—åˆ°çš„å®çŸ³éƒ½ç”¨åœ¨æ­¦å™¨çš„åŠ ç‚¹ä¸Šï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Equip</span> <span class="variable">levelUpWeapon</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RedGem</span>(<span class="keyword">new</span> <span class="title class_">BlueGem</span>(<span class="keyword">new</span> <span class="title class_">YellowGem</span>(<span class="keyword">new</span> <span class="title class_">GreenGem</span>(<span class="keyword">new</span> <span class="title class_">WwaponEquip</span>()))));</span><br><span class="line"><span class="comment">// åˆ›å»ºå‰‘å£«å¹¶ç©¿æˆ´è¯¥æ°ªé‡‘æ­¦å™¨</span></span><br><span class="line"><span class="type">Swordman</span> <span class="variable">swordman</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Swordman</span>();</span><br><span class="line">swordman.equip(levelUpWeapon);</span><br><span class="line"></span><br><span class="line">System.out.println(swordman);</span><br><span class="line"></span><br><span class="line">Swordman&#123;</span><br><span class="line">  attack=<span class="number">12</span>, </span><br><span class="line">  defense=<span class="number">0</span>, </span><br><span class="line">  speed=<span class="number">5</span>, </span><br><span class="line">  hp=<span class="number">5</span>, </span><br><span class="line">  mp=<span class="number">10</span>, </span><br><span class="line">  equipment=å·²è£…å¤‡æœ‰ï¼šğŸ—¡</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ç¤ºä¾‹ä»£ç çš„éƒ¨åˆ†å®ç°ï¼š</p><p>è¢«è£…é¥°çš„ç±»ä»¥åŠå…¶è¶…ç±»ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Equip</span> &#123;</span><br><span class="line">  EquipType <span class="title function_">getType</span><span class="params">()</span>;</span><br><span class="line">  <span class="type">int</span> <span class="title function_">attack</span><span class="params">()</span>;</span><br><span class="line">  <span class="type">int</span> <span class="title function_">speed</span><span class="params">()</span>;</span><br><span class="line">  <span class="type">int</span> <span class="title function_">defense</span><span class="params">()</span>;</span><br><span class="line">  <span class="type">int</span> <span class="title function_">hp</span><span class="params">()</span>;</span><br><span class="line">  <span class="type">int</span> <span class="title function_">mp</span><span class="params">()</span>;</span><br><span class="line">  String <span class="title function_">description</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeaponEquip</span> <span class="keyword">implements</span> <span class="title class_">Equip</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> EquipType <span class="title function_">getType</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> EquipType.WEAPON;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">attack</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">speed</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">defense</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hp</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mp</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">description</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ğŸ—¡&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç°å…¶è£…é¥°å™¨ï¼Œå¯ä»¥ä¸º<code>interface</code>æˆ–<code>abstract</code>ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">EquipDecorator</span> <span class="keyword">implements</span> <span class="title class_">Equip</span> &#123;</span><br><span class="line">  <span class="keyword">protected</span> Equip equip;</span><br><span class="line">  <span class="keyword">protected</span> <span class="title function_">EquipDecorator</span><span class="params">(Equip equip)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.equip = equip;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">attack</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.attack();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">speed</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.speed();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">defense</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.defense();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hp</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.hp();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mp</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.mp();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">description</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.description();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§å®šä¹‰ï¼Œ<strong>è£…é¥°å™¨æ¨¡å¼(decorator pattern)</strong> åœ¨ä¸æ”¹å˜å·²æœ‰ç±»çš„å‰æä¸‹ï¼Œå¯¹å…¶å®ç°å¢å¼ºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BlueGemEquipDecorator</span> <span class="keyword">extends</span> <span class="title class_">EquipDecorator</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">BlueGemEquipDecorator</span><span class="params">(Equip equip)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(equip);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mp</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.mp() + <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ul><li>å¼€é—­åŸåˆ™ï¼š ä¸ä¿®æ”¹å·²æœ‰çš„ç±»ã€‚</li><li>ç»„åˆä¼˜äºç»§æ‰¿ï¼šæ›´çµæ´»ï¼Œå¯ä»¥æ— é™å åŠ </li><li>è¿è¡Œæ—¶å¯å˜ï¼š å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æˆ–åˆ é™¤åŠŸèƒ½</li><li>é«˜å†…èšä½è€¦åˆï¼š æ¯ä¸ªè£…é¥°å™¨åªå…³æ³¨è‡ªå·±çš„å¢å¼ºé€»è¾‘</li></ul><h3 id="è£…é¥°å™¨æ¨¡å¼ä¸ä»£ç†æ¨¡å¼çš„åŒºåˆ«"><a class="header-anchor" href="#è£…é¥°å™¨æ¨¡å¼ä¸ä»£ç†æ¨¡å¼çš„åŒºåˆ«">Â¶</a>è£…é¥°å™¨æ¨¡å¼ä¸ä»£ç†æ¨¡å¼çš„åŒºåˆ«</h3><ol><li>ç›®çš„ä¸åŒï¼š è£…é¥°å™¨æ¨¡å¼æ˜¯ä½œ <strong>å¢å¼ºåŠŸèƒ½</strong>ï¼›ä»£ç†æ¨¡å¼åˆ™æ˜¯å®ç° <strong>æ§åˆ¶è®¿é—®</strong>ã€‚</li><li>å®ç°æ–¹å¼ç›¸åŒï¼š éƒ½æ˜¯é€šè¿‡ç»„åˆ+æ¥å£ä¸€è‡´æ€§æ–¹å¼ï¼Œéƒ½ç»§æ‰¿äº†ç›®æ ‡çš„æ¥å£ã€‚</li><li>å…³æ³¨ç‚¹ä¸åŒï¼š è£…é¥°å™¨æ¨¡å¼æ˜¯â€œæ·»åŠ èŒè´£â€ï¼›ä»£ç†æ¨¡å¼æ˜¯â€œå°è£…è®¿é—®â€œã€‚</li><li>æ˜¯å¦é€æ˜ï¼š å‰è€…é€æ˜å¹¶å¢å¼ºï¼›åè€…æ§åˆ¶è®¿é—®å‡å°‘é€æ˜åº¦</li></ol>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;è‹¥è¦æ‰©å±•åŠŸèƒ½ï¼Œè£…é¥°è€…æä¾›äº†æ¯”é›†æˆæ›´æœ‰å¼¹æ€§çš„æ›¿ä»£æ–¹æ¡ˆï¼ŒåŠ¨æ€åœ°å°†è´£ä»»é™„åŠ åˆ°å¯¹è±¡ä¸Šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/02307d672ba01e2fed96d1b7c332747bc72a41cded1a754f25826829437fce6f.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E8%8B%A5%E8%A6%81%E6%89%A9%E5%B1%95%E5%8A%9F%E8%83%BD%EF%BC%8C%E8%A3%85%E9%A5%B0%E8%80%85%E6%8F%90%E4%BE%9B%E4%BA%86%E6%AF%94%E9%9B%86%E6%88%90%E6%9B%B4%E6%9C%89%E5%BC%B9%E6%80%A7%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%EF%BC%8C%E5%8A%A8%E6%80%81%E5%9C%B0%E5%B0%86%E8%B4%A3%E4%BB%BB%E9%99%84%E5%8A%A0%E5%88%B0%E5%AF%B9%E8%B1%A1%E4%B8%8A%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/02307d672ba01e2fed96d1b7c332747bc72a41cded1a754f25826829437fce6f.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%22%3E%C2%B6%3C/a%3E%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%3C/h3%3E%3Cp%3E%3Cstrong%3E%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F(Decorator%20Pattern)%3C/strong%3E%20%E7%9A%84%E6%A0%B8%E5%BF%83%E5%9C%A8%E4%BA%8E%E5%9C%A8%E4%B8%8D%E4%BF%AE%E6%94%B9%E5%B7%B2%E6%9C%89%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%EF%BC%8C%E5%AF%B9%E5%85%B6%E8%BF%9B%E8%A1%8C%E5%A2%9E%E5%BC%BA%E3%80%82%E8%BF%99%E9%87%8C%E4%BD%93%E7%8E%B0%E4%BA%86%E4%B8%80%E4%B8%AA%E5%8E%9F%E5%88%99%EF%BC%9A%3Cstrong%3E%E7%B1%BB%E5%BA%94%E8%AF%A5%E5%AF%B9%E6%89%A9%E5%B1%95%E5%BC%80%E6%94%BE%EF%BC%8C%E5%AF%B9%E4%BF%AE%E6%94%B9%E5%85%B3%E9%97%AD%3C/strong%3E%E3%80%82%3C/p%3E%3Ch3%20id=%22%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%C2%B6%3C/a%3E%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%3C/h3%3E%3Cul%3E%3Cli%3E%E5%BD%93%E9%9C%80%E8%A6%81%E5%9C%A8%E4%B8%8D%E4%BF%AE%E6%94%B9%E5%8E%9F%E6%9C%89%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%E4%B8%BA%E5%85%B6%E6%B7%BB%E5%8A%A0%E6%96%B0%E5%8A%9F%E8%83%BD%E6%97%B6%E3%80%82%3C/li%3E%3Cli%3E%E5%BD%93%E5%AD%90%E7%B1%BB%E6%89%A9%E5%B1%95%E4%B8%8D%E5%88%87%E5%AE%9E%E9%99%85%E6%97%B6(%E6%AF%94%E5%A6%82%E9%9C%80%E8%A6%81%E5%A4%9A%E4%B8%AA%E5%8F%AF%E9%80%89%E5%8A%9F%E8%83%BD%E7%BB%84%E5%90%88%E7%9A%84%E6%83%85%E5%86%B5)%E3%80%82%3C/li%3E%3Cli%3E%E5%9C%A8Java%20IO%E6%B5%81%E4%B8%AD%E5%A4%A7%E9%87%8F%E4%BD%BF%E7%94%A8%E4%BA%86%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%EF%BC%8C%E4%BE%8B%E5%A6%82%3Ccode%3EBufferedInputStream(InputStream)%3C/code%3E%E5%B0%B1%E6%98%AF%E5%AF%B9%E8%BE%93%E5%85%A5%E6%B5%81%E7%9A%84%E4%B8%80%E7%A7%8D%E8%A3%85%E9%A5%B0%E3%80%82%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E9%9C%80%E6%B1%82%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%9C%80%E6%B1%82%22%3E%C2%B6%3C/a%3E%E9%9C%80%E6%B1%82%3C/h3%3E%3Cp%3E%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E7%9A%84%E8%A3%85%E5%A4%87%E7%B3%BB%E7%BB%9F%EF%BC%8C%E8%A6%81%E6%B1%82%E5%8F%AF%E4%BB%A5%E8%AE%A1%E7%AE%97%E5%87%BA%E6%AF%8F%E7%A7%8D%E8%A3%85%E5%A4%87%E5%9C%A8%E9%95%B6%E5%B5%8C%E4%BA%86%E5%90%84%E7%A7%8D%E5%AE%9D%E7%9F%B3%E5%90%8E%E7%9A%84%E6%94%BB%E5%87%BB%E5%8A%9B%E5%92%8C%E6%8F%8F%E8%BF%B0%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E6%8C%89%E7%85%A7%E8%A6%81%E6%B1%82%EF%BC%8C%E6%9E%84%E5%BB%BA%E5%A6%82%E4%B8%8BUML%E7%B1%BB%E5%9B%BE%EF%BC%8C%E5%85%B6%E4%B8%AD%E5%8C%85%E5%90%AB%E8%A3%85%E5%A4%87%E8%B6%85%E7%B1%BB%3Ccode%3EEquip%3C/code%3E%E3%80%81%E8%A3%85%E9%A5%B0%E8%B6%85%E7%B1%BB%3Ccode%3EEquipDecorator%3C/code%3E%E3%80%81%E6%B8%B8%E6%88%8F%E5%B1%9E%E6%80%A7%E8%A7%92%E8%89%B2%E5%A6%82%E4%B8%8B%EF%BC%9A%3C/li%3E%3C/ul%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%3Cstrong%3E%E8%A3%85%E5%A4%87%3C/strong%3E%3C/th%3E%3Cth%3E%E7%BA%A2%E5%AE%9D%E7%9F%B3(hp+)%3C/th%3E%3Cth%3E%E8%93%9D%E5%AE%9D%E7%9F%B3(mp+)%3C/th%3E%3Cth%3E%E7%BB%BF%E5%AE%9D%E7%9F%B3(sp+)%3C/th%3E%3Cth%3E%E9%BB%84%E5%AE%9D%E7%9F%B3(ak+)%3C/th%3E%3Cth%3E%E7%B4%AB%E5%AE%9D%E7%9F%B3(df+)%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3E%E5%B8%BD%E5%AD%90%F0%9F%A7%A2%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E4%B8%8A%E8%A1%A3%F0%9F%91%94%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E6%8A%A4%E7%94%B2%F0%9F%A7%A5%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E8%A3%A4%E5%AD%90%F0%9F%91%96%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E9%9E%8B%E5%AD%90%F0%9F%91%A2%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E6%AD%A6%E5%99%A8%F0%9F%97%A1%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Cp%3E%E6%A0%B9%E6%8D%AE%E5%B1%9E%E6%80%A7%E6%A0%8F%EF%BC%8C%E8%AE%BE%E8%AE%A1%E8%A3%85%E5%A4%87%E5%B1%9E%E6%80%A7%EF%BC%8C%E6%9C%89%E6%94%BB%E5%87%BB%E3%80%81%E6%95%8F%E6%8D%B7%E3%80%81%E9%98%B2%E5%BE%A1%E3%80%81hp/mp%E5%80%BC%E3%80%82%E5%85%B6%E4%B8%AD%E7%BA%A2%E5%AE%9D%E7%9F%B3+hp%EF%BC%8C%E8%93%9D%E5%AE%9D%E7%9F%B3+mp%EF%BC%8C%E7%BB%BF%E5%AE%9D%E7%9F%B3+%E6%95%8F%E6%8D%B7%EF%BC%8C%E9%BB%84%E5%AE%9D%E7%9F%B3+%E6%94%BB%E5%87%BB%E5%8A%9B%EF%BC%8C%E7%B4%AB%E5%AE%9D%E7%9F%B3+%E9%98%B2%E5%BE%A1%E5%8A%9B%E3%80%82%3C/p%3E%3Cimg%20src=%22/assert/puml/581374393200909de2218f08bbc1a1f3d60f03d252d409881b8a370d3dd77b5b.svg%22/%3E%3Cp%3E%E8%A3%85%E9%A5%B0%E5%99%A8%E5%8F%AF%E4%BB%A5%E5%A4%9A%E5%B1%82%E5%B5%8C%E5%A5%97%EF%BC%8C%E4%BE%8B%E5%A6%82%E8%8E%B7%E5%8F%96%E5%BE%97%E5%88%B0%E7%9A%84%E5%AE%9D%E7%9F%B3%E9%83%BD%E7%94%A8%E5%9C%A8%E6%AD%A6%E5%99%A8%E7%9A%84%E5%8A%A0%E7%82%B9%E4%B8%8A%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3EEquip%3C/span%3E%20%3Cspan%20class=%22variable%22%3ElevelUpWeapon%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERedGem%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EBlueGem%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EYellowGem%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EGreenGem%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EWwaponEquip%3C/span%3E()))));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20%E5%88%9B%E5%BB%BA%E5%89%91%E5%A3%AB%E5%B9%B6%E7%A9%BF%E6%88%B4%E8%AF%A5%E6%B0%AA%E9%87%91%E6%AD%A6%E5%99%A8%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3ESwordman%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eswordman%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESwordman%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Eswordman.equip(levelUpWeapon);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ESystem.out.println(swordman);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ESwordman&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20attack=%3Cspan%20class=%22number%22%3E12%3C/span%3E,%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20defense=%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20speed=%3Cspan%20class=%22number%22%3E5%3C/span%3E,%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20hp=%3Cspan%20class=%22number%22%3E5%3C/span%3E,%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20mp=%3Cspan%20class=%22number%22%3E10%3C/span%3E,%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20equipment=%E5%B7%B2%E8%A3%85%E5%A4%87%E6%9C%89%EF%BC%9A%F0%9F%97%A1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AF%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E7%9A%84%E9%83%A8%E5%88%86%E5%AE%9E%E7%8E%B0%EF%BC%9A%3C/p%3E%3Cp%3E%E8%A2%AB%E8%A3%85%E9%A5%B0%E7%9A%84%E7%B1%BB%E4%BB%A5%E5%8F%8A%E5%85%B6%E8%B6%85%E7%B1%BB%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEquip%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20EquipType%20%3Cspan%20class=%22title%20function_%22%3EgetType%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eattack%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Espeed%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edefense%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ehp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20String%20%3Cspan%20class=%22title%20function_%22%3Edescription%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EWeaponEquip%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEquip%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20EquipType%20%3Cspan%20class=%22title%20function_%22%3EgetType%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20EquipType.WEAPON;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eattack%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Espeed%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edefense%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ehp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20String%20%3Cspan%20class=%22title%20function_%22%3Edescription%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;%F0%9F%97%A1&amp;quot;%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%AE%9E%E7%8E%B0%E5%85%B6%E8%A3%85%E9%A5%B0%E5%99%A8%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%B8%BA%3Ccode%3Einterface%3C/code%3E%E6%88%96%3Ccode%3Eabstract%3C/code%3E%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEquipDecorator%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEquip%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20Equip%20equip;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EEquipDecorator%3C/span%3E%3Cspan%20class=%22params%22%3E(Equip%20equip)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.equip%20=%20equip;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eattack%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.attack();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Espeed%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.speed();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edefense%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.defense();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ehp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.hp();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.mp();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20String%20%3Cspan%20class=%22title%20function_%22%3Edescription%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.description();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%8C%89%E7%85%A7%E5%AE%9A%E4%B9%89%EF%BC%8C%3Cstrong%3E%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F(decorator%20pattern)%3C/strong%3E%20%E5%9C%A8%E4%B8%8D%E6%94%B9%E5%8F%98%E5%B7%B2%E6%9C%89%E7%B1%BB%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%EF%BC%8C%E5%AF%B9%E5%85%B6%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%BC%BA%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EBlueGemEquipDecorator%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEquipDecorator%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EBlueGemEquipDecorator%3C/span%3E%3Cspan%20class=%22params%22%3E(Equip%20equip)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(equip);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.mp()%20+%20%3Cspan%20class=%22number%22%3E10%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Cstrong%3E%E4%BC%98%E7%82%B9%3C/strong%3E%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%EF%BC%9A%20%E4%B8%8D%E4%BF%AE%E6%94%B9%E5%B7%B2%E6%9C%89%E7%9A%84%E7%B1%BB%E3%80%82%3C/li%3E%3Cli%3E%E7%BB%84%E5%90%88%E4%BC%98%E4%BA%8E%E7%BB%A7%E6%89%BF%EF%BC%9A%E6%9B%B4%E7%81%B5%E6%B4%BB%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%97%A0%E9%99%90%E5%8F%A0%E5%8A%A0%3C/li%3E%3Cli%3E%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8F%AF%E5%8F%98%EF%BC%9A%20%E5%8F%AF%E4%BB%A5%E5%9C%A8%E8%BF%90%E8%A1%8C%E6%97%B6%E6%B7%BB%E5%8A%A0%E6%88%96%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD%3C/li%3E%3Cli%3E%E9%AB%98%E5%86%85%E8%81%9A%E4%BD%8E%E8%80%A6%E5%90%88%EF%BC%9A%20%E6%AF%8F%E4%B8%AA%E8%A3%85%E9%A5%B0%E5%99%A8%E5%8F%AA%E5%85%B3%E6%B3%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A2%9E%E5%BC%BA%E9%80%BB%E8%BE%91%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E4%B8%8E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E4%B8%8E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%C2%B6%3C/a%3E%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E4%B8%8E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%3C/h3%3E%3Col%3E%3Cli%3E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%90%8C%EF%BC%9A%20%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E6%98%AF%E4%BD%9C%20%3Cstrong%3E%E5%A2%9E%E5%BC%BA%E5%8A%9F%E8%83%BD%3C/strong%3E%EF%BC%9B%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%88%99%E6%98%AF%E5%AE%9E%E7%8E%B0%20%3Cstrong%3E%E6%8E%A7%E5%88%B6%E8%AE%BF%E9%97%AE%3C/strong%3E%E3%80%82%3C/li%3E%3Cli%3E%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E7%9B%B8%E5%90%8C%EF%BC%9A%20%E9%83%BD%E6%98%AF%E9%80%9A%E8%BF%87%E7%BB%84%E5%90%88+%E6%8E%A5%E5%8F%A3%E4%B8%80%E8%87%B4%E6%80%A7%E6%96%B9%E5%BC%8F%EF%BC%8C%E9%83%BD%E7%BB%A7%E6%89%BF%E4%BA%86%E7%9B%AE%E6%A0%87%E7%9A%84%E6%8E%A5%E5%8F%A3%E3%80%82%3C/li%3E%3Cli%3E%E5%85%B3%E6%B3%A8%E7%82%B9%E4%B8%8D%E5%90%8C%EF%BC%9A%20%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E6%98%AF%E2%80%9C%E6%B7%BB%E5%8A%A0%E8%81%8C%E8%B4%A3%E2%80%9D%EF%BC%9B%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E6%98%AF%E2%80%9C%E5%B0%81%E8%A3%85%E8%AE%BF%E9%97%AE%E2%80%9C%E3%80%82%3C/li%3E%3Cli%3E%E6%98%AF%E5%90%A6%E9%80%8F%E6%98%8E%EF%BC%9A%20%E5%89%8D%E8%80%85%E9%80%8F%E6%98%8E%E5%B9%B6%E5%A2%9E%E5%BC%BA%EF%BC%9B%E5%90%8E%E8%80%85%E6%8E%A7%E5%88%B6%E8%AE%BF%E9%97%AE%E5%87%8F%E5%B0%91%E9%80%8F%E6%98%8E%E5%BA%A6%3C/li%3E%3C/ol%3E" type="image"/>
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="decorator" scheme="https://galudisu.info/tags/decorator/"/>
    
  </entry>
  
  <entry>
    <title>æ¡¥æ¥æ¨¡å¼(Bridge Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Bridge/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Bridge/</id>
    <published>2025-05-10T10:25:01.000Z</published>
    <updated>2025-05-11T16:16:24.580Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ¡¥æ¥(Bridge)æ˜¯<strong>ç”¨äºæŠŠæŠ½è±¡åŒ–ä¸å®ç°åŒ–è§£è€¦</strong>ï¼Œä½¿å¾—äºŒè€…å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚</p></blockquote><img src="/assert/puml/1c7fc28bdf3d3ce828d3a8e69309891daa6330aac3660ea3088ed78c46f2b8c6.svg"/><span id="more"></span><h3 id="é€‚ç”¨åœºæ™¯"><a class="header-anchor" href="#é€‚ç”¨åœºæ™¯">Â¶</a>é€‚ç”¨åœºæ™¯</h3><p>æœ‰å¤šç§å¯èƒ½å˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç”¨ç»§æ‰¿ä¼šé€ æˆç±»çˆ†ç‚¸é—®é¢˜ï¼Œæ‰©å±•èµ·æ¥ä¸çµæ´»ã€‚ä¾‹å¦‚ä¸€ä¸ªç±»å­˜åœ¨ä¸¤ä¸ªç»´åº¦ï¼Œä¸€ä¸ªç»´åº¦å¯ä»¥æ‰©å±•ä¸º2ä¸ªç»´åº¦ï¼Œä¸€ä¸ªç»´åº¦å¯ä»¥æ‰©å±•ä¸º3ä¸ªç»´åº¦ï¼Œæ’åˆ—ç»„åˆåå°±æ˜¯2x3ä¸ªå®ä¾‹ã€‚</p><p>ä»¥ç”»å›¾ä¸ºä¾‹ï¼Œè¦å®ç°ä¸€ä¸ªç”»å›¾å·¥å…·ï¼Œå‡è®¾å¯ä»¥ç”»åœ†å’ŒçŸ©å½¢ï¼Œä¹Ÿå¯ä»¥ç»™å…¶è¿›è¡Œé¢œè‰²å¡«å……ã€‚æŒ‰ç…§å®šä¹‰ï¼ŒæŠ½è±¡å’Œå®ç°å¿…é¡»åˆ†å¼€ï¼Œ</p><ul><li><strong>æŠ½è±¡ç»´åº¦</strong>ï¼š å›¾å½¢(åœ†ã€çŸ©å½¢ã€æ­£æ–¹å½¢)</li><li><strong>å®ç°ç»´åº¦</strong>ï¼š é¢œè‰²(çº¢ã€ç»¿ã€è“)</li></ul><img src="/assert/puml/9b2f07da92406fbd677399c71c6721fd7eb526cf336b4cf135bf322b116c6e4b.svg"/><p>å®šä¹‰ä¸åŒçš„é¢œè‰²ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Red</span> <span class="keyword">implements</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;fillin red&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Blue</span> <span class="keyword">implements</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;fillin blue&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Green</span> <span class="keyword">implements</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;fillin green&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰æ¡¥æ¥ç±»ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">  <span class="keyword">protected</span> Color color;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">protected</span> <span class="title function_">Shape</span><span class="params">(Color color)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.color = color;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> åˆ†ç¦»å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">(Color color)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(color);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Circle -&gt;&quot;</span>);</span><br><span class="line">    color.fill();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Rectangle</span><span class="params">(Color color)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(color);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Rectangle -&gt;&quot;</span>);</span><br><span class="line">    color.fill();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Square</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Square</span><span class="params">(Color color)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(color);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Square -&gt;&quot;</span>);</span><br><span class="line">    color.fill();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‰éœ€æ‰€å–ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Shape</span> <span class="variable">redCircle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="keyword">new</span> <span class="title class_">Red</span>());</span><br><span class="line">    <span class="type">Shape</span> <span class="variable">blueRectangle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rectangle</span>(<span class="keyword">new</span> <span class="title class_">Blue</span>());</span><br><span class="line">    <span class="type">Shape</span> <span class="variable">greenSquare</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Square</span>(<span class="keyword">new</span> <span class="title class_">Green</span>());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h2><p>æ¡¥æ¥æ¨¡å¼çš„æ ¸å¿ƒç‰¹å¾æ˜¯<strong>ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦</strong></p><blockquote><p>ğŸ”µ<strong>æŠ½è±¡éƒ¨åˆ†(Abstraction)</strong> å’Œ ğŸ”µ<strong>å®ç°éƒ¨åˆ†(Implementor)</strong> å¯ä»¥å„è‡ªç‹¬ç«‹æ‰©å±•ï¼Œäº’ä¸å¹²æ‰°ã€‚</p></blockquote><table><thead><tr><th>ç»´åº¦</th><th>æè¿°</th></tr></thead><tbody><tr><td>æŠ½è±¡éƒ¨åˆ†</td><td>å®šä¹‰é«˜å±‚æ“ä½œï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªç±»æˆ–æ¥å£ï¼Œå®ƒåŒ…å«å¯¹å®ç°éƒ¨åˆ†çš„å¼•ç”¨</td></tr><tr><td>å®ç°éƒ¨åˆ†</td><td>å®šä¹‰åœ°å±‚è¡Œä¸ºï¼Œé€šå¸¸æ˜¯æ¥å£æˆ–æŠ½è±¡ç±»ï¼Œç”¨äºè¢«å¤šä¸ªæŠ½è±¡ç±»ç»„åˆä½¿ç”¨</td></tr></tbody></table><p>å£è¯€ï¼š</p><blockquote><p>â€œä¸€ä¸ªç±»é‡Œç”±ä¸€ä¸ªæ¥å£å˜é‡ï¼Œå¹¶ä¸”è¿™ä¸ªæ¥å£å†³å®šäº†å®ƒçš„åº•å±‚å®ç°â€</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æ¡¥æ¥(Bridge)æ˜¯&lt;strong&gt;ç”¨äºæŠŠæŠ½è±¡åŒ–ä¸å®ç°åŒ–è§£è€¦&lt;/strong&gt;ï¼Œä½¿å¾—äºŒè€…å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/1c7fc28bdf3d3ce828d3a8e69309891daa6330aac3660ea3088ed78c46f2b8c6.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E6%A1%A5%E6%8E%A5(Bridge)%E6%98%AF%3Cstrong%3E%E7%94%A8%E4%BA%8E%E6%8A%8A%E6%8A%BD%E8%B1%A1%E5%8C%96%E4%B8%8E%E5%AE%9E%E7%8E%B0%E5%8C%96%E8%A7%A3%E8%80%A6%3C/strong%3E%EF%BC%8C%E4%BD%BF%E5%BE%97%E4%BA%8C%E8%80%85%E5%8F%AF%E4%BB%A5%E7%8B%AC%E7%AB%8B%E5%8F%98%E5%8C%96%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/1c7fc28bdf3d3ce828d3a8e69309891daa6330aac3660ea3088ed78c46f2b8c6.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%C2%B6%3C/a%3E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%3C/h3%3E%3Cp%3E%E6%9C%89%E5%A4%9A%E7%A7%8D%E5%8F%AF%E8%83%BD%E5%8F%98%E5%8C%96%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E7%94%A8%E7%BB%A7%E6%89%BF%E4%BC%9A%E9%80%A0%E6%88%90%E7%B1%BB%E7%88%86%E7%82%B8%E9%97%AE%E9%A2%98%EF%BC%8C%E6%89%A9%E5%B1%95%E8%B5%B7%E6%9D%A5%E4%B8%8D%E7%81%B5%E6%B4%BB%E3%80%82%E4%BE%8B%E5%A6%82%E4%B8%80%E4%B8%AA%E7%B1%BB%E5%AD%98%E5%9C%A8%E4%B8%A4%E4%B8%AA%E7%BB%B4%E5%BA%A6%EF%BC%8C%E4%B8%80%E4%B8%AA%E7%BB%B4%E5%BA%A6%E5%8F%AF%E4%BB%A5%E6%89%A9%E5%B1%95%E4%B8%BA2%E4%B8%AA%E7%BB%B4%E5%BA%A6%EF%BC%8C%E4%B8%80%E4%B8%AA%E7%BB%B4%E5%BA%A6%E5%8F%AF%E4%BB%A5%E6%89%A9%E5%B1%95%E4%B8%BA3%E4%B8%AA%E7%BB%B4%E5%BA%A6%EF%BC%8C%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88%E5%90%8E%E5%B0%B1%E6%98%AF2x3%E4%B8%AA%E5%AE%9E%E4%BE%8B%E3%80%82%3C/p%3E%3Cp%3E%E4%BB%A5%E7%94%BB%E5%9B%BE%E4%B8%BA%E4%BE%8B%EF%BC%8C%E8%A6%81%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%94%BB%E5%9B%BE%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%81%87%E8%AE%BE%E5%8F%AF%E4%BB%A5%E7%94%BB%E5%9C%86%E5%92%8C%E7%9F%A9%E5%BD%A2%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%BB%99%E5%85%B6%E8%BF%9B%E8%A1%8C%E9%A2%9C%E8%89%B2%E5%A1%AB%E5%85%85%E3%80%82%E6%8C%89%E7%85%A7%E5%AE%9A%E4%B9%89%EF%BC%8C%E6%8A%BD%E8%B1%A1%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%BF%85%E9%A1%BB%E5%88%86%E5%BC%80%EF%BC%8C%3C/p%3E%3Cul%3E%3Cli%3E%3Cstrong%3E%E6%8A%BD%E8%B1%A1%E7%BB%B4%E5%BA%A6%3C/strong%3E%EF%BC%9A%20%E5%9B%BE%E5%BD%A2(%E5%9C%86%E3%80%81%E7%9F%A9%E5%BD%A2%E3%80%81%E6%AD%A3%E6%96%B9%E5%BD%A2)%3C/li%3E%3Cli%3E%3Cstrong%3E%E5%AE%9E%E7%8E%B0%E7%BB%B4%E5%BA%A6%3C/strong%3E%EF%BC%9A%20%E9%A2%9C%E8%89%B2(%E7%BA%A2%E3%80%81%E7%BB%BF%E3%80%81%E8%93%9D)%3C/li%3E%3C/ul%3E%3Cimg%20src=%22/assert/puml/9b2f07da92406fbd677399c71c6721fd7eb526cf336b4cf135bf322b116c6e4b.svg%22/%3E%3Cp%3E%E5%AE%9A%E4%B9%89%E4%B8%8D%E5%90%8C%E7%9A%84%E9%A2%9C%E8%89%B2%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EColor%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efill%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERed%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EColor%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efill%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;fillin%20red&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EBlue%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EColor%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efill%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;fillin%20blue&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EGreen%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EColor%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efill%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;fillin%20green&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%AE%9A%E4%B9%89%E6%A1%A5%E6%8E%A5%E7%B1%BB%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EShape%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20Color%20color;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EShape%3C/span%3E%3Cspan%20class=%22params%22%3E(Color%20color)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.color%20=%20color;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edraw%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%88%86%E7%A6%BB%E5%AE%9E%E7%8E%B0%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECircle%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EShape%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ECircle%3C/span%3E%3Cspan%20class=%22params%22%3E(Color%20color)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(color);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edraw%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Circle%20-&amp;gt;&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20color.fill();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERectangle%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EShape%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ERectangle%3C/span%3E%3Cspan%20class=%22params%22%3E(Color%20color)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(color);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edraw%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Rectangle%20-&amp;gt;&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20color.fill();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESquare%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EShape%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ESquare%3C/span%3E%3Cspan%20class=%22params%22%3E(Color%20color)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(color);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edraw%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Square%20-&amp;gt;&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20color.fill();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%8C%89%E9%9C%80%E6%89%80%E5%8F%96%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EClient%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E(String[]%20args)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3EShape%3C/span%3E%20%3Cspan%20class=%22variable%22%3EredCircle%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECircle%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERed%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3EShape%3C/span%3E%20%3Cspan%20class=%22variable%22%3EblueRectangle%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERectangle%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EBlue%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3EShape%3C/span%3E%20%3Cspan%20class=%22variable%22%3EgreenSquare%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESquare%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EGreen%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Ch2%20id=%22%E6%80%BB%E7%BB%93%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%80%BB%E7%BB%93%22%3E%C2%B6%3C/a%3E%E6%80%BB%E7%BB%93%3C/h2%3E%3Cp%3E%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%A0%B8%E5%BF%83%E7%89%B9%E5%BE%81%E6%98%AF%3Cstrong%3E%E4%B8%A4%E4%B8%AA%E7%8B%AC%E7%AB%8B%E5%8F%98%E5%8C%96%E7%9A%84%E7%BB%B4%E5%BA%A6%3C/strong%3E%3C/p%3E%3Cblockquote%3E%3Cp%3E%F0%9F%94%B5%3Cstrong%3E%E6%8A%BD%E8%B1%A1%E9%83%A8%E5%88%86(Abstraction)%3C/strong%3E%20%E5%92%8C%20%F0%9F%94%B5%3Cstrong%3E%E5%AE%9E%E7%8E%B0%E9%83%A8%E5%88%86(Implementor)%3C/strong%3E%20%E5%8F%AF%E4%BB%A5%E5%90%84%E8%87%AA%E7%8B%AC%E7%AB%8B%E6%89%A9%E5%B1%95%EF%BC%8C%E4%BA%92%E4%B8%8D%E5%B9%B2%E6%89%B0%E3%80%82%3C/p%3E%3C/blockquote%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%E7%BB%B4%E5%BA%A6%3C/th%3E%3Cth%3E%E6%8F%8F%E8%BF%B0%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3E%E6%8A%BD%E8%B1%A1%E9%83%A8%E5%88%86%3C/td%3E%3Ctd%3E%E5%AE%9A%E4%B9%89%E9%AB%98%E5%B1%82%E6%93%8D%E4%BD%9C%EF%BC%8C%E9%80%9A%E5%B8%B8%E6%98%AF%E4%B8%80%E4%B8%AA%E7%B1%BB%E6%88%96%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%AE%83%E5%8C%85%E5%90%AB%E5%AF%B9%E5%AE%9E%E7%8E%B0%E9%83%A8%E5%88%86%E7%9A%84%E5%BC%95%E7%94%A8%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E5%AE%9E%E7%8E%B0%E9%83%A8%E5%88%86%3C/td%3E%3Ctd%3E%E5%AE%9A%E4%B9%89%E5%9C%B0%E5%B1%82%E8%A1%8C%E4%B8%BA%EF%BC%8C%E9%80%9A%E5%B8%B8%E6%98%AF%E6%8E%A5%E5%8F%A3%E6%88%96%E6%8A%BD%E8%B1%A1%E7%B1%BB%EF%BC%8C%E7%94%A8%E4%BA%8E%E8%A2%AB%E5%A4%9A%E4%B8%AA%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%BB%84%E5%90%88%E4%BD%BF%E7%94%A8%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Cp%3E%E5%8F%A3%E8%AF%80%EF%BC%9A%3C/p%3E%3Cblockquote%3E%3Cp%3E%E2%80%9C%E4%B8%80%E4%B8%AA%E7%B1%BB%E9%87%8C%E7%94%B1%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%8F%98%E9%87%8F%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%BF%99%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%86%B3%E5%AE%9A%E4%BA%86%E5%AE%83%E7%9A%84%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0%E2%80%9D%3C/p%3E%3C/blockquote%3E" type="image"/>
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="bridge" scheme="https://galudisu.info/tags/bridge/"/>
    
  </entry>
  
  <entry>
    <title>é€‚é…å™¨æ¨¡å¼(Adapter Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Adapter/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Adapter/</id>
    <published>2025-05-10T10:25:00.000Z</published>
    <updated>2025-05-11T16:16:24.567Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œé€‚é…å™¨<strong>è®©åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥ç›¸äº’åˆä½œ</strong>ã€‚</p></blockquote><img src="/assert/puml/2a6bbd20a8b38a99f1740f1e7b862f2c4b63171866066a1456c7427c71f071cb.svg"/><span id="more"></span><h3 id="æ ¸å¿ƒä½œç”¨"><a class="header-anchor" href="#æ ¸å¿ƒä½œç”¨">Â¶</a>æ ¸å¿ƒä½œç”¨</h3><ul><li><strong>å…¼å®¹æ€§</strong>ï¼š ä½¿å¾—åŸæœ¬ç”±äºæ¥å£éƒ¨åŒ¹é…è€Œæ— æ³•ä¸€èµ·å·¥ä½œçš„ç±»èƒ½å¤ŸååŒå·¥ä½œã€‚</li><li><strong>å¤ç”¨æ€§</strong>ï¼š å…è®¸å¤ç”¨å·²æœ‰çš„ç±»ï¼Œå³ä½¿å®ƒä»¬ä¸ç¬¦åˆå½“å‰ç³»ç»Ÿçš„ç»Ÿä¸€ç»“æ„æ ‡å‡†ã€‚</li><li><strong>è§£è€¦æ€§</strong>ï¼š é¿å…ä¿®æ”¹å·²æœ‰ä»£ç çš„å‰æä¸‹å®ç°æ–°åŠŸèƒ½å¯¹æ¥ã€‚</li></ul><h3 id="é€‚ç”¨åœºæ™¯"><a class="header-anchor" href="#é€‚ç”¨åœºæ™¯">Â¶</a>é€‚ç”¨åœºæ™¯</h3><ol><li>ç³»ç»Ÿéœ€è¦ä½¿ç”¨ä¸€äº›å·²æœ‰ç±»ï¼Œä½†è¿™äº›ç±»çš„æ¥å£ä¸ç¬¦åˆç³»ç»Ÿè¦æ±‚</li><li>å¸Œæœ›å¤ç”¨ä¸€äº›æ—§çš„ç»„ä»¶æˆ–ç¬¬ä¸‰æ–¹åº“ï¼Œä½†å®ƒä»¬çš„æ¥å£ä¸å½“å‰ç³»ç»Ÿä¸ä¸€è‡´</li><li>åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„åŸºç¡€ä¸Šè¿›è¡Œæ¥å£é€‚é…</li></ol><h3 id="æ¨¡å¼ç»“æ„"><a class="header-anchor" href="#æ¨¡å¼ç»“æ„">Â¶</a>æ¨¡å¼ç»“æ„</h3><table><thead><tr><th><strong>è§’è‰²</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>Target</td><td>å®¢æˆ·ç«¯ä½¿ç”¨çš„æ¥å£ï¼Œæ˜¯æœŸæœ›çš„ç›®æ ‡æ¥å£</td></tr><tr><td>Adaptee</td><td>å·²æœ‰çš„ç±»ï¼Œå…¶æ¥å£ä¸ç›®æ ‡æ¥å£ä¸å…¼å®¹</td></tr><tr><td>Adapter</td><td>å®ç°ç›®æ ‡æ¥å£ï¼Œå¹¶æŒæœ‰<code>Adaptee</code>å¯¹è±¡ï¼Œé€šè¿‡ç»„åˆ/ç»§æ‰¿çš„æ–¹å¼å®Œæˆé€‚é…</td></tr></tbody></table><h3 id="ç¤ºä¾‹"><a class="header-anchor" href="#ç¤ºä¾‹">Â¶</a>ç¤ºä¾‹</h3><p>æœ€å®¹æ˜“ç†è§£è¯¥æ¨¡å¼çš„è«è¿‡äºæˆ‘ä»¬å¸¸ç”¨çš„ç”µæºé€‚é…å™¨(adapter)ï¼Œæ‰‹æœºå……ç”µå™¨ä¸€èˆ¬éƒ½æ˜¯5vå·¦å³ï¼Œä¸­å›½å®¶ç”¨äº¤æµç”µå‹220vï¼Œæ—¥æœ¬100vï¼Œæ‰‹æœºå……ç”µå™¨ä»£å·¥æ–¹å¯Œå£«åº·éœ€è¦ç”Ÿäº§ä¸€ä¸ªé€‚é…å™¨(é™å‹å™¨)æ¥å¯¹æ‰‹æœºè¿›è¡Œå……ç”µï¼Œä¸ç„¶ä¼šè¿‡çƒ­èµ·ç«ã€‚</p><table><thead><tr><th><strong>è§’è‰²</strong></th><th><strong>å®ä¾‹</strong></th><th><strong>ä½œç”¨</strong></th></tr></thead><tbody><tr><td>Target</td><td>ä¸€éƒ¨æ‰‹æœºMobile</td><td>ç»™æ‰‹æœºå……ç”µ</td></tr><tr><td>Adaptee</td><td>220vçš„äº¤æµç”µ</td><td>ç”¨äº¤æµç”µç»™æ‰‹æœºå……ç”µï¼Œä½†ç”µå‹ä¸å…¼å®¹</td></tr><tr><td>Adapter</td><td>æ‰‹æœºå……ç”µå™¨</td><td>å¯Œå£«åº·éœ€è¦åˆ¶ä½œå¯æä¾›5ç”µå‹çš„å……ç”µå™¨</td></tr><tr><td>ConcreteAdapter1</td><td>220v -&gt; 5vå……ç”µå™¨</td><td>å¤§é™†ç”¨å……ç”µå™¨</td></tr><tr><td>ConcreteAdapter2</td><td>100v -&gt; 5vå……ç”µå™¨</td><td>æ—¥æœ¬ç¾å›½æ ‡å‡†ç”¨å……ç”µå™¨</td></tr><tr><td>ConcreteAdapter3</td><td>230v -&gt; 5vå……ç”µå™¨</td><td>æ¬§æ´²æ ‡å‡†ç”¨å……ç”µå™¨</td></tr></tbody></table><p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PowerTarget</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaAdaptee</span> &#123; <span class="comment">// <i class="conum" data-value="2"></i></span></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">v220Charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">v230Charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">v100Charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span>; <span class="comment">// <i class="conum" data-value="3"></i></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaMobileAdapter</span> <span class="keyword">implements</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> ChinaAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">ChinaMobileAdapter</span><span class="params">(ChinaAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v220Charget(target);  <span class="comment">// <i class="conum" data-value="4"></i></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeMobileAdapter</span> <span class="keyword">implements</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> EuropeAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">EuropeMobileAdapter</span><span class="params">(EuropeAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v230Charget(target);  <span class="comment">// <i class="conum" data-value="5"></i></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanMobileAdapter</span> <span class="keyword">implements</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> JapanAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">JapanMobileAdapter</span><span class="params">(JapanAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v100Charget(target);  <span class="comment">// <i class="conum" data-value="5"></i></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> ç›®æ ‡æ¥å£ï¼Œè¿™é‡Œä¸ºç»™æ‰‹æœºå……ç”µ<br><i class="conum" data-value="2"></i> è¢«é€‚é…å™¨<br><i class="conum" data-value="3"></i> é€‚é…å™¨<br><i class="conum" data-value="4"></i> ç”¨220vçš„äº¤æµç”µï¼Œç»™ç›®æ ‡æ‰‹æœºå……ç”µ<br><i class="conum" data-value="5"></i> ç”¨230vçš„äº¤æµç”µï¼Œç»™ç›®æ ‡æ‰‹æœºå……ç”µ<br><i class="conum" data-value="6"></i> ç”¨100vçš„äº¤æµç”µï¼Œç»™ç›®æ ‡æ‰‹æœºå……ç”µ</p><h3 id="é€‚é…å™¨æ¨¡å¼-å·¥å‚æ¨¡å¼"><a class="header-anchor" href="#é€‚é…å™¨æ¨¡å¼-å·¥å‚æ¨¡å¼">Â¶</a>é€‚é…å™¨æ¨¡å¼+å·¥å‚æ¨¡å¼</h3><p>ä¸Šé¢çš„ä¾‹å­ä¸­æ˜æ˜¾ä¸ç¬¦åˆâ€œå¼€é—­åŸåˆ™â€çš„ï¼Œå¾€å¾€éœ€è¦é…åˆ<a href="/2025/05/10/pattern/basic/creational/Factory/">å·¥å‚æ¨¡å¼(Factory Pattern)</a>ä¸€èµ·ä½¿ç”¨ï¼Œå³å¯ä»¥ç”¨<a href="/2025/05/10/pattern/basic/creational/Factory/#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Factory-Method-Pattern">å·¥å‚æ–¹æ³•</a>ï¼Œä¹Ÿå¯ä»¥ç”¨<a href="/2025/05/10/pattern/basic/creational/Factory/#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern">æŠ½è±¡å·¥å‚</a>ã€‚ä¾å…·ä½“æƒ…å†µè€Œå®šï¼š</p><p>ä¸‹é¢æ˜¯ä¸€ç§æ”¹è¿›åŠæ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PowerTarget</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaAdaptee</span> <span class="keyword">implements</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeAdaptee</span> <span class="keyword">implements</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanAdaptee</span> <span class="keyword">implements</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> MobileAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">MobileAdapter</span><span class="params">(MobileAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span>;    <span class="comment">// <i class="conum" data-value="1"></i> </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaMobileAdapter</span> <span class="keyword">extends</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">ChinaMobileAdapter</span><span class="params">(ChinaAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(adaptee);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v220Charge(target);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeMobileAdapter</span> <span class="keyword">extends</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">EuropeMobileAdapter</span><span class="params">(EuropeAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(adaptee);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v230Charge(target);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanMobileAdapter</span> <span class="keyword">extends</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">JapanMobileAdapter</span><span class="params">(JapanAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(adaptee);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v100Charge(target);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> å¦‚æœä¸å¸Œæœ›æ‰©å±•ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>switch</code>è¿›è¡Œæ¨¡å¼åŒ¹é…å˜æ›´ä¸º<a href="/2025/05/10/pattern/basic/creational/Factory/#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Simple-Factory-Pattern">ç®€å•å·¥å‚</a>.</p><h3 id="é€‚é…å™¨æ¨¡å¼-ç­–ç•¥æ¨¡å¼"><a class="header-anchor" href="#é€‚é…å™¨æ¨¡å¼-ç­–ç•¥æ¨¡å¼">Â¶</a>é€‚é…å™¨æ¨¡å¼+ç­–ç•¥æ¨¡å¼</h3><p><a href="/2025/05/10/pattern/basic/behavioral/Strategy/">ç­–ç•¥æ¨¡å¼</a>ä¸­é€šå¸¸ä¼šç»“åˆé€‚é…å™¨è¿›è¡ŒåŠ¨æ€çš„ä¸Šä¸‹æ–‡é€»è¾‘åˆ‡æ¢ã€‚ä¾‹å¦‚ï¼š</p><ul><li>ä¸åŒæ”¯ä»˜æ¸ é“(å¾®ä¿¡ã€æ”¯ä»˜å®ã€Paypal)é€šè¿‡ç»Ÿä¸€æ¥å£è°ƒç”¨ï¼Œä½†å†…éƒ¨ä½¿ç”¨å„è‡ªé€‚é…å™¨ã€‚</li><li>æ–‡ä»¶å¯¼å…¥å¯¼å‡ºï¼š CSVã€Excelã€JSONä½¿ç”¨ç»Ÿä¸€æ ¼å¼ï¼Œä½†åœ°å±‚ä½¿ç”¨ä¸åŒè§£æåº“ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PaymentStrategy</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeChatPayAdapter</span> <span class="keyword">implements</span> <span class="title class_">PamentStrategy</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> WeChatPay weChatPay;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span> &#123;</span><br><span class="line">    weChatPay.charge(amount);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€‚é…å™¨-å¤–è§‚æ¨¡å¼"><a class="header-anchor" href="#é€‚é…å™¨-å¤–è§‚æ¨¡å¼">Â¶</a>é€‚é…å™¨+å¤–è§‚æ¨¡å¼</h3><p>å¤–è§‚æ¨¡å¼å°±æ˜¯ä¸ºä¸€ç»„å®ç°æä¾›äº†â€œä¸€é”®â€å¤„ç†ï¼Œç»“åˆé€‚é…å™¨æ¨¡å¼å¯ä»¥éšè—<code>adapter</code>è‡ªèº«çš„å¤æ‚æ€§ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NotificationFacade</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> SmsAdapter smsAdapter;</span><br><span class="line">  <span class="keyword">private</span> EmailAdapter emailAdapter;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendNotification</span><span class="params">(String type, String message)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;sms&quot;</span>.equals(type)) &#123;</span><br><span class="line">      smsAdapter.send(message);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;email&quot;</span>.equals(type)) &#123;</span><br><span class="line">      emailAdapter.send(message);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å’Œä¸Šé¢çš„ç®€å•å·¥å‚ä¸åŒï¼Œå¤–è§‚æ¨¡å¼çš„å®ç°æ˜¯ç¡®å®šçš„ï¼Œæ‰€ä»¥ä¸ä¼šè¿åâ€œå¼€é—­åŸåˆ™â€ã€‚</p><h3 id="é€‚é…å™¨-æ¨¡æ¿æ–¹æ³•"><a class="header-anchor" href="#é€‚é…å™¨-æ¨¡æ¿æ–¹æ³•">Â¶</a>é€‚é…å™¨+æ¨¡æ¿æ–¹æ³•</h3><p>åœºæ™¯ï¼š</p><p>åœ¨å›ºå®šæµç¨‹ä¸­åµŒå…¥é€‚é…å™¨é€»è¾‘ï¼Œå®Œæˆç‰¹å®šæ­¥éª¤çš„é€‚é…å·¥ä½œã€‚é€‚ç”¨äºç‹¬ç«‹å¼€å‘æµç¨‹ï¼Œé¿å…ç›¸äº’å¹²æ‰°ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p><p>ç¤ºä¾‹ï¼š</p><ul><li>æ•°æ®å¤„ç†æµç¨‹ä¸­çš„æ•°æ®æºé€‚é…(æ•°æ®åº“ã€æ–‡ä»¶ã€API)ï¼Œæ¯ç§æ•°æ®æºéƒ½éœ€é€‚é…æˆç»Ÿä¸€æ ¼å¼ã€‚</li><li>æŠ¥è¡¨ç”Ÿæˆæ¡†æ¶ä¸­é€‚é…ä¸åŒæ•°æ®æ¥æºã€‚</li></ul><h3 id="ä¸è£…é¥°æ¨¡å¼çš„åŒºåˆ«"><a class="header-anchor" href="#ä¸è£…é¥°æ¨¡å¼çš„åŒºåˆ«">Â¶</a>ä¸è£…é¥°æ¨¡å¼çš„åŒºåˆ«</h3><p>é€‚é…å™¨æ¨¡å¼å’Œè£…é¥°å™¨æ¨¡å¼çš„ç»“æ„éå¸¸ç›¸ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡æŒæœ‰å·²æœ‰å¯¹è±¡çš„ä¸€ç§å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Owner</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> Internal internal;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Owner</span><span class="params">(Internal in)</span> &#123;</span><br><span class="line">     ....</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†å…¶æ ¸å¿ƒç›®æ ‡ä¸åŒï¼š</p><table><thead><tr><th>æ¨¡å¼</th><th>ç›®çš„</th></tr></thead><tbody><tr><td><code>Adapter</code></td><td>å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·ç«¯æœŸæœ›çš„å¦ä¸€ä¸ªå…¼å®¹æ¥å£ï¼Œè§£å†³<strong>æ¥å£ä¸å…¼å®¹é—®é¢˜</strong>ã€‚</td></tr><tr><td><code>Decorator</code></td><td>åŠ¨æ€åœ°ç»™å¯¹è±¡æ·»åŠ èŒè´£æˆ–åŠŸèƒ½ï¼Œæä¾›æ¯”ç»§æ‰¿æ›´çµæ´»çš„æ‰©å±•æ–¹å¼ã€‚</td></tr></tbody></table><ul><li>åŒºåˆ«å£è¯€</li></ul><ul><li><code>Adapter</code>æ˜¯â€œæ”¹å¤´æ¢é¢â€ï¼Œä¸ºäº†å…¼å®¹ï¼›</li><li><code>Decorator</code>æ˜¯â€œé”¦ä¸Šæ·»èŠ±â€ï¼Œå®ç°å¢å¼ºã€‚</li></ul>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œé€‚é…å™¨&lt;strong&gt;è®©åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥ç›¸äº’åˆä½œ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/2a6bbd20a8b38a99f1740f1e7b862f2c4b63171866066a1456c7427c71f071cb.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E5%B0%86%E4%B8%80%E4%B8%AA%E7%B1%BB%E7%9A%84%E6%8E%A5%E5%8F%A3%E8%BD%AC%E6%8D%A2%E6%88%90%E5%AE%A2%E6%88%B7%E6%9C%9F%E6%9C%9B%E7%9A%84%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%EF%BC%8C%E9%80%82%E9%85%8D%E5%99%A8%3Cstrong%3E%E8%AE%A9%E5%8E%9F%E6%9C%AC%E6%8E%A5%E5%8F%A3%E4%B8%8D%E5%85%BC%E5%AE%B9%E7%9A%84%E7%B1%BB%E5%8F%AF%E4%BB%A5%E7%9B%B8%E4%BA%92%E5%90%88%E4%BD%9C%3C/strong%3E%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/2a6bbd20a8b38a99f1740f1e7b862f2c4b63171866066a1456c7427c71f071cb.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E6%A0%B8%E5%BF%83%E4%BD%9C%E7%94%A8%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A0%B8%E5%BF%83%E4%BD%9C%E7%94%A8%22%3E%C2%B6%3C/a%3E%E6%A0%B8%E5%BF%83%E4%BD%9C%E7%94%A8%3C/h3%3E%3Cul%3E%3Cli%3E%3Cstrong%3E%E5%85%BC%E5%AE%B9%E6%80%A7%3C/strong%3E%EF%BC%9A%20%E4%BD%BF%E5%BE%97%E5%8E%9F%E6%9C%AC%E7%94%B1%E4%BA%8E%E6%8E%A5%E5%8F%A3%E9%83%A8%E5%8C%B9%E9%85%8D%E8%80%8C%E6%97%A0%E6%B3%95%E4%B8%80%E8%B5%B7%E5%B7%A5%E4%BD%9C%E7%9A%84%E7%B1%BB%E8%83%BD%E5%A4%9F%E5%8D%8F%E5%90%8C%E5%B7%A5%E4%BD%9C%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E5%A4%8D%E7%94%A8%E6%80%A7%3C/strong%3E%EF%BC%9A%20%E5%85%81%E8%AE%B8%E5%A4%8D%E7%94%A8%E5%B7%B2%E6%9C%89%E7%9A%84%E7%B1%BB%EF%BC%8C%E5%8D%B3%E4%BD%BF%E5%AE%83%E4%BB%AC%E4%B8%8D%E7%AC%A6%E5%90%88%E5%BD%93%E5%89%8D%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%9F%E4%B8%80%E7%BB%93%E6%9E%84%E6%A0%87%E5%87%86%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E8%A7%A3%E8%80%A6%E6%80%A7%3C/strong%3E%EF%BC%9A%20%E9%81%BF%E5%85%8D%E4%BF%AE%E6%94%B9%E5%B7%B2%E6%9C%89%E4%BB%A3%E7%A0%81%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%E5%AE%9E%E7%8E%B0%E6%96%B0%E5%8A%9F%E8%83%BD%E5%AF%B9%E6%8E%A5%E3%80%82%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%C2%B6%3C/a%3E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%3C/h3%3E%3Col%3E%3Cli%3E%E7%B3%BB%E7%BB%9F%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E4%B8%80%E4%BA%9B%E5%B7%B2%E6%9C%89%E7%B1%BB%EF%BC%8C%E4%BD%86%E8%BF%99%E4%BA%9B%E7%B1%BB%E7%9A%84%E6%8E%A5%E5%8F%A3%E4%B8%8D%E7%AC%A6%E5%90%88%E7%B3%BB%E7%BB%9F%E8%A6%81%E6%B1%82%3C/li%3E%3Cli%3E%E5%B8%8C%E6%9C%9B%E5%A4%8D%E7%94%A8%E4%B8%80%E4%BA%9B%E6%97%A7%E7%9A%84%E7%BB%84%E4%BB%B6%E6%88%96%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%EF%BC%8C%E4%BD%86%E5%AE%83%E4%BB%AC%E7%9A%84%E6%8E%A5%E5%8F%A3%E4%B8%8E%E5%BD%93%E5%89%8D%E7%B3%BB%E7%BB%9F%E4%B8%8D%E4%B8%80%E8%87%B4%3C/li%3E%3Cli%3E%E5%9C%A8%E4%B8%8D%E4%BF%AE%E6%94%B9%E5%8E%9F%E6%9C%89%E4%BB%A3%E7%A0%81%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%E8%BF%9B%E8%A1%8C%E6%8E%A5%E5%8F%A3%E9%80%82%E9%85%8D%3C/li%3E%3C/ol%3E%3Ch3%20id=%22%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%22%3E%C2%B6%3C/a%3E%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%3C/h3%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%3Cstrong%3E%E8%A7%92%E8%89%B2%3C/strong%3E%3C/th%3E%3Cth%3E%3Cstrong%3E%E6%8F%8F%E8%BF%B0%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3ETarget%3C/td%3E%3Ctd%3E%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BD%BF%E7%94%A8%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%98%AF%E6%9C%9F%E6%9C%9B%E7%9A%84%E7%9B%AE%E6%A0%87%E6%8E%A5%E5%8F%A3%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EAdaptee%3C/td%3E%3Ctd%3E%E5%B7%B2%E6%9C%89%E7%9A%84%E7%B1%BB%EF%BC%8C%E5%85%B6%E6%8E%A5%E5%8F%A3%E4%B8%8E%E7%9B%AE%E6%A0%87%E6%8E%A5%E5%8F%A3%E4%B8%8D%E5%85%BC%E5%AE%B9%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EAdapter%3C/td%3E%3Ctd%3E%E5%AE%9E%E7%8E%B0%E7%9B%AE%E6%A0%87%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%B9%B6%E6%8C%81%E6%9C%89%3Ccode%3EAdaptee%3C/code%3E%E5%AF%B9%E8%B1%A1%EF%BC%8C%E9%80%9A%E8%BF%87%E7%BB%84%E5%90%88/%E7%BB%A7%E6%89%BF%E7%9A%84%E6%96%B9%E5%BC%8F%E5%AE%8C%E6%88%90%E9%80%82%E9%85%8D%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Ch3%20id=%22%E7%A4%BA%E4%BE%8B%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%A4%BA%E4%BE%8B%22%3E%C2%B6%3C/a%3E%E7%A4%BA%E4%BE%8B%3C/h3%3E%3Cp%3E%E6%9C%80%E5%AE%B9%E6%98%93%E7%90%86%E8%A7%A3%E8%AF%A5%E6%A8%A1%E5%BC%8F%E7%9A%84%E8%8E%AB%E8%BF%87%E4%BA%8E%E6%88%91%E4%BB%AC%E5%B8%B8%E7%94%A8%E7%9A%84%E7%94%B5%E6%BA%90%E9%80%82%E9%85%8D%E5%99%A8(adapter)%EF%BC%8C%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%E5%99%A8%E4%B8%80%E8%88%AC%E9%83%BD%E6%98%AF5v%E5%B7%A6%E5%8F%B3%EF%BC%8C%E4%B8%AD%E5%9B%BD%E5%AE%B6%E7%94%A8%E4%BA%A4%E6%B5%81%E7%94%B5%E5%8E%8B220v%EF%BC%8C%E6%97%A5%E6%9C%AC100v%EF%BC%8C%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%E5%99%A8%E4%BB%A3%E5%B7%A5%E6%96%B9%E5%AF%8C%E5%A3%AB%E5%BA%B7%E9%9C%80%E8%A6%81%E7%94%9F%E4%BA%A7%E4%B8%80%E4%B8%AA%E9%80%82%E9%85%8D%E5%99%A8(%E9%99%8D%E5%8E%8B%E5%99%A8)%E6%9D%A5%E5%AF%B9%E6%89%8B%E6%9C%BA%E8%BF%9B%E8%A1%8C%E5%85%85%E7%94%B5%EF%BC%8C%E4%B8%8D%E7%84%B6%E4%BC%9A%E8%BF%87%E7%83%AD%E8%B5%B7%E7%81%AB%E3%80%82%3C/p%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%3Cstrong%3E%E8%A7%92%E8%89%B2%3C/strong%3E%3C/th%3E%3Cth%3E%3Cstrong%3E%E5%AE%9E%E4%BE%8B%3C/strong%3E%3C/th%3E%3Cth%3E%3Cstrong%3E%E4%BD%9C%E7%94%A8%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3ETarget%3C/td%3E%3Ctd%3E%E4%B8%80%E9%83%A8%E6%89%8B%E6%9C%BAMobile%3C/td%3E%3Ctd%3E%E7%BB%99%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EAdaptee%3C/td%3E%3Ctd%3E220v%E7%9A%84%E4%BA%A4%E6%B5%81%E7%94%B5%3C/td%3E%3Ctd%3E%E7%94%A8%E4%BA%A4%E6%B5%81%E7%94%B5%E7%BB%99%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%EF%BC%8C%E4%BD%86%E7%94%B5%E5%8E%8B%E4%B8%8D%E5%85%BC%E5%AE%B9%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EAdapter%3C/td%3E%3Ctd%3E%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3Ctd%3E%E5%AF%8C%E5%A3%AB%E5%BA%B7%E9%9C%80%E8%A6%81%E5%88%B6%E4%BD%9C%E5%8F%AF%E6%8F%90%E4%BE%9B5%E7%94%B5%E5%8E%8B%E7%9A%84%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EConcreteAdapter1%3C/td%3E%3Ctd%3E220v%20-&amp;gt;%205v%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3Ctd%3E%E5%A4%A7%E9%99%86%E7%94%A8%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EConcreteAdapter2%3C/td%3E%3Ctd%3E100v%20-&amp;gt;%205v%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3Ctd%3E%E6%97%A5%E6%9C%AC%E7%BE%8E%E5%9B%BD%E6%A0%87%E5%87%86%E7%94%A8%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EConcreteAdapter3%3C/td%3E%3Ctd%3E230v%20-&amp;gt;%205v%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3Ctd%3E%E6%AC%A7%E6%B4%B2%E6%A0%87%E5%87%86%E7%94%A8%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Cp%3E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E41%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E42%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E43%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E44%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E45%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E46%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E47%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E48%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E49%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E50%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E51%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E52%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E53%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E54%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E55%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E56%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E57%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E58%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPowerTarget%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EChinaAdaptee%3C/span%3E%20&amp;#123;%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ev220Charge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEuropeAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ev230Charge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EJapanAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ev100Charge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%223%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EChinaMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20ChinaAdaptee%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EChinaMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(ChinaAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.adaptee%20=%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v220Charget(target);%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%224%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEuropeMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20EuropeAdaptee%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EEuropeMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(EuropeAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.adaptee%20=%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v230Charget(target);%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%225%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EJapanMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20JapanAdaptee%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EJapanMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(JapanAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.adaptee%20=%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v100Charget(target);%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%225%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E7%9B%AE%E6%A0%87%E6%8E%A5%E5%8F%A3%EF%BC%8C%E8%BF%99%E9%87%8C%E4%B8%BA%E7%BB%99%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%20%E8%A2%AB%E9%80%82%E9%85%8D%E5%99%A8%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%223%22%3E%3C/i%3E%20%E9%80%82%E9%85%8D%E5%99%A8%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%224%22%3E%3C/i%3E%20%E7%94%A8220v%E7%9A%84%E4%BA%A4%E6%B5%81%E7%94%B5%EF%BC%8C%E7%BB%99%E7%9B%AE%E6%A0%87%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%225%22%3E%3C/i%3E%20%E7%94%A8230v%E7%9A%84%E4%BA%A4%E6%B5%81%E7%94%B5%EF%BC%8C%E7%BB%99%E7%9B%AE%E6%A0%87%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%226%22%3E%3C/i%3E%20%E7%94%A8100v%E7%9A%84%E4%BA%A4%E6%B5%81%E7%94%B5%EF%BC%8C%E7%BB%99%E7%9B%AE%E6%A0%87%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%3C/p%3E%3Ch3%20id=%22%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%22%3E%C2%B6%3C/a%3E%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F+%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%3C/h3%3E%3Cp%3E%E4%B8%8A%E9%9D%A2%E7%9A%84%E4%BE%8B%E5%AD%90%E4%B8%AD%E6%98%8E%E6%98%BE%E4%B8%8D%E7%AC%A6%E5%90%88%E2%80%9C%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E2%80%9D%E7%9A%84%EF%BC%8C%E5%BE%80%E5%BE%80%E9%9C%80%E8%A6%81%E9%85%8D%E5%90%88%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Factory/%22%3E%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F(Factory%20Pattern)%3C/a%3E%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%8D%B3%E5%8F%AF%E4%BB%A5%E7%94%A8%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Factory/#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Factory-Method-Pattern%22%3E%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%3C/a%3E%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%94%A8%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Factory/#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern%22%3E%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%3C/a%3E%E3%80%82%E4%BE%9D%E5%85%B7%E4%BD%93%E6%83%85%E5%86%B5%E8%80%8C%E5%AE%9A%EF%BC%9A%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AF%E4%B8%80%E7%A7%8D%E6%94%B9%E8%BF%9B%E5%8A%9E%E6%B3%95%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E41%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E42%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E43%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E44%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E45%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E46%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E47%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E48%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E49%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E50%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E51%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E52%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E53%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E54%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E55%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E56%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E57%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E58%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E59%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E60%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E61%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E62%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E63%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPowerTarget%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EChinaAdaptee%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEuropeAdaptee%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EJapanAdaptee%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20MobileAdaptee%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(MobileAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.adaptee%20=%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%20%20%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EChinaMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EChinaMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(ChinaAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(adaptee);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v220Charge(target);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEuropeMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EEuropeMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(EuropeAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(adaptee);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v230Charge(target);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EJapanMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EJapanMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(JapanAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(adaptee);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v100Charge(target);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%A6%82%E6%9E%9C%E4%B8%8D%E5%B8%8C%E6%9C%9B%E6%89%A9%E5%B1%95%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%3Ccode%3Eswitch%3C/code%3E%E8%BF%9B%E8%A1%8C%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%E5%8F%98%E6%9B%B4%E4%B8%BA%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Factory/#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Simple-Factory-Pattern%22%3E%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%3C/a%3E.%3C/p%3E%3Ch3%20id=%22%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%22%3E%C2%B6%3C/a%3E%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F+%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%3C/h3%3E%3Cp%3E%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/Strategy/%22%3E%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%3C/a%3E%E4%B8%AD%E9%80%9A%E5%B8%B8%E4%BC%9A%E7%BB%93%E5%90%88%E9%80%82%E9%85%8D%E5%99%A8%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E9%80%BB%E8%BE%91%E5%88%87%E6%8D%A2%E3%80%82%E4%BE%8B%E5%A6%82%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E4%B8%8D%E5%90%8C%E6%94%AF%E4%BB%98%E6%B8%A0%E9%81%93(%E5%BE%AE%E4%BF%A1%E3%80%81%E6%94%AF%E4%BB%98%E5%AE%9D%E3%80%81Paypal)%E9%80%9A%E8%BF%87%E7%BB%9F%E4%B8%80%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%EF%BC%8C%E4%BD%86%E5%86%85%E9%83%A8%E4%BD%BF%E7%94%A8%E5%90%84%E8%87%AA%E9%80%82%E9%85%8D%E5%99%A8%E3%80%82%3C/li%3E%3Cli%3E%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA%EF%BC%9A%20CSV%E3%80%81Excel%E3%80%81JSON%E4%BD%BF%E7%94%A8%E7%BB%9F%E4%B8%80%E6%A0%BC%E5%BC%8F%EF%BC%8C%E4%BD%86%E5%9C%B0%E5%B1%82%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E8%A7%A3%E6%9E%90%E5%BA%93%E3%80%82%3C/li%3E%3C/ul%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPaymentStrategy%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Epay%3C/span%3E%3Cspan%20class=%22params%22%3E(%3Cspan%20class=%22type%22%3Edouble%3C/span%3E%20amount)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EWeChatPayAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPamentStrategy%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20WeChatPay%20weChatPay;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Epay%3C/span%3E%3Cspan%20class=%22params%22%3E(%3Cspan%20class=%22type%22%3Edouble%3C/span%3E%20amount)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20weChatPay.charge(amount);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Ch3%20id=%22%E9%80%82%E9%85%8D%E5%99%A8-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E9%85%8D%E5%99%A8-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%22%3E%C2%B6%3C/a%3E%E9%80%82%E9%85%8D%E5%99%A8+%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%3C/h3%3E%3Cp%3E%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%B0%B1%E6%98%AF%E4%B8%BA%E4%B8%80%E7%BB%84%E5%AE%9E%E7%8E%B0%E6%8F%90%E4%BE%9B%E4%BA%86%E2%80%9C%E4%B8%80%E9%94%AE%E2%80%9D%E5%A4%84%E7%90%86%EF%BC%8C%E7%BB%93%E5%90%88%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%8F%AF%E4%BB%A5%E9%9A%90%E8%97%8F%3Ccode%3Eadapter%3C/code%3E%E8%87%AA%E8%BA%AB%E7%9A%84%E5%A4%8D%E6%9D%82%E6%80%A7%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ENotificationFacade%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20SmsAdapter%20smsAdapter;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20EmailAdapter%20emailAdapter;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EsendNotification%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20type,%20String%20message)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(%3Cspan%20class=%22string%22%3E&amp;quot;sms&amp;quot;%3C/span%3E.equals(type))%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20smsAdapter.send(message);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%20%3Cspan%20class=%22keyword%22%3Eelse%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(%3Cspan%20class=%22string%22%3E&amp;quot;email&amp;quot;%3C/span%3E.equals(type))%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20emailAdapter.send(message);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%92%8C%E4%B8%8A%E9%9D%A2%E7%9A%84%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E4%B8%8D%E5%90%8C%EF%BC%8C%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%98%AF%E7%A1%AE%E5%AE%9A%E7%9A%84%EF%BC%8C%E6%89%80%E4%BB%A5%E4%B8%8D%E4%BC%9A%E8%BF%9D%E5%8F%8D%E2%80%9C%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E2%80%9D%E3%80%82%3C/p%3E%3Ch3%20id=%22%E9%80%82%E9%85%8D%E5%99%A8-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E9%85%8D%E5%99%A8-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%22%3E%C2%B6%3C/a%3E%E9%80%82%E9%85%8D%E5%99%A8+%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%3C/h3%3E%3Cp%3E%E5%9C%BA%E6%99%AF%EF%BC%9A%3C/p%3E%3Cp%3E%E5%9C%A8%E5%9B%BA%E5%AE%9A%E6%B5%81%E7%A8%8B%E4%B8%AD%E5%B5%8C%E5%85%A5%E9%80%82%E9%85%8D%E5%99%A8%E9%80%BB%E8%BE%91%EF%BC%8C%E5%AE%8C%E6%88%90%E7%89%B9%E5%AE%9A%E6%AD%A5%E9%AA%A4%E7%9A%84%E9%80%82%E9%85%8D%E5%B7%A5%E4%BD%9C%E3%80%82%E9%80%82%E7%94%A8%E4%BA%8E%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B%EF%BC%8C%E9%81%BF%E5%85%8D%E7%9B%B8%E4%BA%92%E5%B9%B2%E6%89%B0%EF%BC%8C%E6%8F%90%E9%AB%98%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E3%80%82%3C/p%3E%3Cp%3E%E7%A4%BA%E4%BE%8B%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E6%BA%90%E9%80%82%E9%85%8D(%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%81%E6%96%87%E4%BB%B6%E3%80%81API)%EF%BC%8C%E6%AF%8F%E7%A7%8D%E6%95%B0%E6%8D%AE%E6%BA%90%E9%83%BD%E9%9C%80%E9%80%82%E9%85%8D%E6%88%90%E7%BB%9F%E4%B8%80%E6%A0%BC%E5%BC%8F%E3%80%82%3C/li%3E%3Cli%3E%E6%8A%A5%E8%A1%A8%E7%94%9F%E6%88%90%E6%A1%86%E6%9E%B6%E4%B8%AD%E9%80%82%E9%85%8D%E4%B8%8D%E5%90%8C%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90%E3%80%82%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E4%B8%8E%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E4%B8%8E%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%C2%B6%3C/a%3E%E4%B8%8E%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%3C/h3%3E%3Cp%3E%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%92%8C%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%BB%93%E6%9E%84%E9%9D%9E%E5%B8%B8%E7%9B%B8%E4%BC%BC%EF%BC%8C%E9%83%BD%E6%98%AF%E9%80%9A%E8%BF%87%E6%8C%81%E6%9C%89%E5%B7%B2%E6%9C%89%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%80%E7%A7%8D%E5%AE%9E%E7%8E%B0%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EOwner%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efinal%3C/span%3E%20Internal%20internal;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EOwner%3C/span%3E%3Cspan%20class=%22params%22%3E(Internal%20in)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20....%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20...%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%BD%86%E5%85%B6%E6%A0%B8%E5%BF%83%E7%9B%AE%E6%A0%87%E4%B8%8D%E5%90%8C%EF%BC%9A%3C/p%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%E6%A8%A1%E5%BC%8F%3C/th%3E%3Cth%3E%E7%9B%AE%E7%9A%84%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3E%3Ccode%3EAdapter%3C/code%3E%3C/td%3E%3Ctd%3E%E5%B0%86%E4%B8%80%E4%B8%AA%E7%B1%BB%E7%9A%84%E6%8E%A5%E5%8F%A3%E8%BD%AC%E6%8D%A2%E6%88%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%9C%9F%E6%9C%9B%E7%9A%84%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%85%BC%E5%AE%B9%E6%8E%A5%E5%8F%A3%EF%BC%8C%E8%A7%A3%E5%86%B3%3Cstrong%3E%E6%8E%A5%E5%8F%A3%E4%B8%8D%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98%3C/strong%3E%E3%80%82%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%3Ccode%3EDecorator%3C/code%3E%3C/td%3E%3Ctd%3E%E5%8A%A8%E6%80%81%E5%9C%B0%E7%BB%99%E5%AF%B9%E8%B1%A1%E6%B7%BB%E5%8A%A0%E8%81%8C%E8%B4%A3%E6%88%96%E5%8A%9F%E8%83%BD%EF%BC%8C%E6%8F%90%E4%BE%9B%E6%AF%94%E7%BB%A7%E6%89%BF%E6%9B%B4%E7%81%B5%E6%B4%BB%E7%9A%84%E6%89%A9%E5%B1%95%E6%96%B9%E5%BC%8F%E3%80%82%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Cul%3E%3Cli%3E%E5%8C%BA%E5%88%AB%E5%8F%A3%E8%AF%80%3C/li%3E%3C/ul%3E%3Cul%3E%3Cli%3E%3Ccode%3EAdapter%3C/code%3E%E6%98%AF%E2%80%9C%E6%94%B9%E5%A4%B4%E6%8D%A2%E9%9D%A2%E2%80%9D%EF%BC%8C%E4%B8%BA%E4%BA%86%E5%85%BC%E5%AE%B9%EF%BC%9B%3C/li%3E%3Cli%3E%3Ccode%3EDecorator%3C/code%3E%E6%98%AF%E2%80%9C%E9%94%A6%E4%B8%8A%E6%B7%BB%E8%8A%B1%E2%80%9D%EF%BC%8C%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%BC%BA%E3%80%82%3C/li%3E%3C/ul%3E" type="image"/>
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="adapter" scheme="https://galudisu.info/tags/adapter/"/>
    
  </entry>
  
  <entry>
    <title>åŸå‹æ¨¡å¼(Prototype Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/creational/Prototype/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/creational/Prototype/</id>
    <published>2025-05-10T09:25:04.000Z</published>
    <updated>2025-05-11T16:16:24.584Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åŸå‹æ¨¡å¼æ˜¯ç”¨äºåˆ›å»ºé‡å¤çš„å¯¹è±¡ï¼ŒåŒæ—¶åˆèƒ½ä¿è¯æ€§èƒ½ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºæ¨¡å¼ï¼Œå®ƒé€šè¿‡å¤åˆ¶ç°åœ¨å¯¹è±¡æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯é€šè¿‡å®ä¾‹åŒ–ç±»çš„æ–¹å¼ã€‚</p></blockquote><img src="/assert/puml/56e0fda471b4c19d729f8e314c854ce221edf16b30c3f2e801c18a72a04e4175.svg"/><span id="more"></span><h3 id="æ ¸å¿ƒæ€æƒ³"><a class="header-anchor" href="#æ ¸å¿ƒæ€æƒ³">Â¶</a>æ ¸å¿ƒæ€æƒ³</h3><ul><li><strong>å…‹éš†ä¸€ä¸ªå·²æœ‰å¯¹è±¡</strong>ï¼Œè€Œä¸æ˜¯ä»å¤´åˆ›å»ºã€‚</li><li>è¢«å…‹éš†çš„å¯¹è±¡ç§°ä¸ºâ€œåŸå‹(Prototype)â€ã€‚</li></ul><h3 id="ç¤ºä¾‹"><a class="header-anchor" href="#ç¤ºä¾‹">Â¶</a>ç¤ºä¾‹</h3><p>åœ¨Javaä¸­ï¼Œå¯ä»¥é€šè¿‡å®ç°<code>Cloneable</code>æ¥å£å¹¶é‡å†™<code>Object</code>ç±»ä¸­çš„<code>clone()</code>æ–¹æ³•æ¥å®ç°åŸå‹æ¨¡å¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Prototype</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> String field;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Prototype</span><span class="params">(String field)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.field = field;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">protected</span> Prototype <span class="title function_">clone</span><span class="params">()</span> &#123;  <span class="comment">// <i class="conum" data-value="2"></i></span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> (Prototype) <span class="built_in">super</span>.close();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e):</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> å°†è¢«æ‹·è´çš„å±æ€§ã€‚<br><i class="conum" data-value="2"></i> â€œé¥¼å°â€ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><ol><li><strong>æå‡æ€§èƒ½</strong>ï¼š é¿å…äº†æ„é€ å‡½æ•°çš„å¼€é”€ï¼Œç›´æ¥æ‹·è´å†…å­˜ä¸­çš„äºŒè¿›åˆ¶æµã€‚</li><li><strong>ç®€åŒ–å¯¹è±¡åˆ›å»º</strong>ï¼š æ— éœ€å…³å¿ƒå¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œåªéœ€è¦è°ƒç”¨å…‹éš†æ–¹æ³•å³å¯ã€‚</li><li><strong>åŠ¨æ€é…ç½®</strong>ï¼š è¿è¡Œæ—¶å¯ä»¥åŠ¨æ€åŠ è½½å’Œå¤åˆ¶å¯¹è±¡ã€‚</li></ol><p>é€‚ç”¨åœºæ™¯ï¼š</p><ol><li>å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹å¤æ‚æˆ–è€—æ—¶ã€‚</li><li>éœ€è¦å¤šä¸ªç›¸ä¼¼å¯¹è±¡ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´å·®å¼‚è¾ƒå°ã€‚</li><li>ç³»ç»Ÿéœ€è¦ç‹¬ç«‹äºå¯¹è±¡çš„åˆ›å»ºä¸ç»„åˆæ–¹å¼ã€‚</li></ol><h3 id="æµ…æ‹·è´ä¸æ·±æ‹·è´"><a class="header-anchor" href="#æµ…æ‹·è´ä¸æ·±æ‹·è´">Â¶</a>æµ…æ‹·è´ä¸æ·±æ‹·è´</h3><ul><li><strong>æµ…æ‹·è´</strong>ï¼š åªå¤åˆ¶åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¼•ç”¨ç±»å‹ä»…å¤åˆ¶å¼•ç”¨åœ°å€ã€‚</li><li><strong>æ·±æ‹·è´</strong>ï¼š é€’å½’å¤åˆ¶æ‰€æœ‰å±‚çº§çš„å¯¹è±¡ã€‚</li></ul><p>å®ç°æ·±æ‹·è´çš„æ–¹æ³•æœ‰ä¸¤ç§</p><ol><li><p>æ‰‹åŠ¨å¤åˆ¶æ¯ä¸ªå­—æ®µ</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> Prototype <span class="title function_">clone</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Prototype</span>(<span class="built_in">this</span>.field); <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> åˆ›å»ºå¯¹è±¡ï¼Œè€Œéè°ƒç”¨<code>super.clone();</code></p></li><li><p>åºåˆ—åŒ–ååºåˆ—åŒ–(é€‚ç”¨äºå¯åºåˆ—åŒ–çš„å¯¹è±¡)</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T <span class="keyword">extends</span> <span class="title class_">Serializable</span>&gt; T <span class="title function_">deepCopy</span><span class="params">(T object)</span> &#123;</span><br><span class="line"> <span class="keyword">try</span> (<span class="type">ByteArrayOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>(); <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(bos)) &#123;</span><br><span class="line">   oos.writeObject(object);</span><br><span class="line">   <span class="keyword">try</span> (<span class="type">ByteArrayInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayInputStream</span>(bos.toByteArray()); <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(bis)) &#123;</span><br><span class="line">     <span class="keyword">return</span> (T) ois.readObjet();</span><br><span class="line">   &#125;</span><br><span class="line"> &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">   <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><h2 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h2><table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>æ¨¡å¼ç±»å‹</td><td>åˆ›å»ºæ¨¡å¼</td></tr><tr><td>æ ¸å¿ƒæœºåˆ¶</td><td>å…‹éš†å·²å­˜åœ¨å¯¹è±¡</td></tr><tr><td>ä¸»è¦ä¼˜ç‚¹</td><td>æé«˜æ€§èƒ½ã€ç®€åŒ–åˆ›å»ºæµç¨‹</td></tr><tr><td>å…³é”®æ¥å£/ç±»</td><td><code>Cloneable,Object.clone()</code></td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>å¯¹è±¡åˆ›å»ºå¤æ‚ã€éœ€è¦å¤šä¸ªç›¸ä¼¼å¯¹è±¡</td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;åŸå‹æ¨¡å¼æ˜¯ç”¨äºåˆ›å»ºé‡å¤çš„å¯¹è±¡ï¼ŒåŒæ—¶åˆèƒ½ä¿è¯æ€§èƒ½ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºæ¨¡å¼ï¼Œå®ƒé€šè¿‡å¤åˆ¶ç°åœ¨å¯¹è±¡æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯é€šè¿‡å®ä¾‹åŒ–ç±»çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/56e0fda471b4c19d729f8e314c854ce221edf16b30c3f2e801c18a72a04e4175.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E6%98%AF%E7%94%A8%E4%BA%8E%E5%88%9B%E5%BB%BA%E9%87%8D%E5%A4%8D%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%90%8C%E6%97%B6%E5%8F%88%E8%83%BD%E4%BF%9D%E8%AF%81%E6%80%A7%E8%83%BD%E3%80%82%E8%BF%99%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%B1%9E%E4%BA%8E%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%AE%83%E9%80%9A%E8%BF%87%E5%A4%8D%E5%88%B6%E7%8E%B0%E5%9C%A8%E5%AF%B9%E8%B1%A1%E6%9D%A5%E5%88%9B%E5%BB%BA%E6%96%B0%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E9%80%9A%E8%BF%87%E5%AE%9E%E4%BE%8B%E5%8C%96%E7%B1%BB%E7%9A%84%E6%96%B9%E5%BC%8F%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/56e0fda471b4c19d729f8e314c854ce221edf16b30c3f2e801c18a72a04e4175.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3%22%3E%C2%B6%3C/a%3E%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3%3C/h3%3E%3Cul%3E%3Cli%3E%3Cstrong%3E%E5%85%8B%E9%9A%86%E4%B8%80%E4%B8%AA%E5%B7%B2%E6%9C%89%E5%AF%B9%E8%B1%A1%3C/strong%3E%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E4%BB%8E%E5%A4%B4%E5%88%9B%E5%BB%BA%E3%80%82%3C/li%3E%3Cli%3E%E8%A2%AB%E5%85%8B%E9%9A%86%E7%9A%84%E5%AF%B9%E8%B1%A1%E7%A7%B0%E4%B8%BA%E2%80%9C%E5%8E%9F%E5%9E%8B(Prototype)%E2%80%9D%E3%80%82%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E7%A4%BA%E4%BE%8B%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%A4%BA%E4%BE%8B%22%3E%C2%B6%3C/a%3E%E7%A4%BA%E4%BE%8B%3C/h3%3E%3Cp%3E%E5%9C%A8Java%E4%B8%AD%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%AE%9E%E7%8E%B0%3Ccode%3ECloneable%3C/code%3E%E6%8E%A5%E5%8F%A3%E5%B9%B6%E9%87%8D%E5%86%99%3Ccode%3EObject%3C/code%3E%E7%B1%BB%E4%B8%AD%E7%9A%84%3Ccode%3Eclone()%3C/code%3E%E6%96%B9%E6%B3%95%E6%9D%A5%E5%AE%9E%E7%8E%B0%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPrototype%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECloneable%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20String%20field;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EPrototype%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20field)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.field%20=%20field;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20Prototype%20%3Cspan%20class=%22title%20function_%22%3Eclone%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Etry%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20(Prototype)%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E.close();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%20%3Cspan%20class=%22keyword%22%3Ecatch%3C/span%3E%20(CloneNotSupportedException%20e)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ethrow%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERuntimeException%3C/span%3E(e):%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%B0%86%E8%A2%AB%E6%8B%B7%E8%B4%9D%E7%9A%84%E5%B1%9E%E6%80%A7%E3%80%82%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%20%E2%80%9C%E9%A5%BC%E5%8D%B0%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E4%BC%98%E7%82%B9%EF%BC%9A%3C/p%3E%3Col%3E%3Cli%3E%3Cstrong%3E%E6%8F%90%E5%8D%87%E6%80%A7%E8%83%BD%3C/strong%3E%EF%BC%9A%20%E9%81%BF%E5%85%8D%E4%BA%86%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E5%BC%80%E9%94%80%EF%BC%8C%E7%9B%B4%E6%8E%A5%E6%8B%B7%E8%B4%9D%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%B5%81%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E7%AE%80%E5%8C%96%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%3C/strong%3E%EF%BC%9A%20%E6%97%A0%E9%9C%80%E5%85%B3%E5%BF%83%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%B7%E4%BD%93%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E8%B0%83%E7%94%A8%E5%85%8B%E9%9A%86%E6%96%B9%E6%B3%95%E5%8D%B3%E5%8F%AF%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE%3C/strong%3E%EF%BC%9A%20%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8F%AF%E4%BB%A5%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E5%92%8C%E5%A4%8D%E5%88%B6%E5%AF%B9%E8%B1%A1%E3%80%82%3C/li%3E%3C/ol%3E%3Cp%3E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A%3C/p%3E%3Col%3E%3Cli%3E%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B%E5%A4%8D%E6%9D%82%E6%88%96%E8%80%97%E6%97%B6%E3%80%82%3C/li%3E%3Cli%3E%E9%9C%80%E8%A6%81%E5%A4%9A%E4%B8%AA%E7%9B%B8%E4%BC%BC%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%AE%83%E4%BB%AC%E4%B9%8B%E9%97%B4%E5%B7%AE%E5%BC%82%E8%BE%83%E5%B0%8F%E3%80%82%3C/li%3E%3Cli%3E%E7%B3%BB%E7%BB%9F%E9%9C%80%E8%A6%81%E7%8B%AC%E7%AB%8B%E4%BA%8E%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E7%BB%84%E5%90%88%E6%96%B9%E5%BC%8F%E3%80%82%3C/li%3E%3C/ol%3E%3Ch3%20id=%22%E6%B5%85%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%B5%85%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D%22%3E%C2%B6%3C/a%3E%E6%B5%85%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D%3C/h3%3E%3Cul%3E%3Cli%3E%3Cstrong%3E%E6%B5%85%E6%8B%B7%E8%B4%9D%3C/strong%3E%EF%BC%9A%20%E5%8F%AA%E5%A4%8D%E5%88%B6%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E4%BB%85%E5%A4%8D%E5%88%B6%E5%BC%95%E7%94%A8%E5%9C%B0%E5%9D%80%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E6%B7%B1%E6%8B%B7%E8%B4%9D%3C/strong%3E%EF%BC%9A%20%E9%80%92%E5%BD%92%E5%A4%8D%E5%88%B6%E6%89%80%E6%9C%89%E5%B1%82%E7%BA%A7%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D%E7%9A%84%E6%96%B9%E6%B3%95%E6%9C%89%E4%B8%A4%E7%A7%8D%3C/p%3E%3Col%3E%3Cli%3E%3Cp%3E%E6%89%8B%E5%8A%A8%E5%A4%8D%E5%88%B6%E6%AF%8F%E4%B8%AA%E5%AD%97%E6%AE%B5%3C/p%3E%20%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20Prototype%20%3Cspan%20class=%22title%20function_%22%3Eclone%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPrototype%3C/span%3E(%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.field);%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%80%8C%E9%9D%9E%E8%B0%83%E7%94%A8%3Ccode%3Esuper.clone();%3C/code%3E%3C/p%3E%3C/li%3E%3Cli%3E%3Cp%3E%E5%BA%8F%E5%88%97%E5%8C%96%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(%E9%80%82%E7%94%A8%E4%BA%8E%E5%8F%AF%E5%BA%8F%E5%88%97%E5%8C%96%E7%9A%84%E5%AF%B9%E8%B1%A1)%3C/p%3E%20%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20&amp;lt;T%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESerializable%3C/span%3E&amp;gt;%20T%20%3Cspan%20class=%22title%20function_%22%3EdeepCopy%3C/span%3E%3Cspan%20class=%22params%22%3E(T%20object)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%3Cspan%20class=%22keyword%22%3Etry%3C/span%3E%20(%3Cspan%20class=%22type%22%3EByteArrayOutputStream%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ebos%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EByteArrayOutputStream%3C/span%3E();%20%3Cspan%20class=%22type%22%3EObjectOutputStream%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eoos%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EObjectOutputStream%3C/span%3E(bos))%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20oos.writeObject(object);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%3Cspan%20class=%22keyword%22%3Etry%3C/span%3E%20(%3Cspan%20class=%22type%22%3EByteArrayInputStream%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ebis%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EByteArrayInputStream%3C/span%3E(bos.toByteArray());%20%3Cspan%20class=%22type%22%3EObjectInputStream%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eois%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EObjectInputStream%3C/span%3E(bis))%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20(T)%20ois.readObjet();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20&amp;#125;%20%3Cspan%20class=%22keyword%22%3Ecatch%3C/span%3E%20(Exception%20e)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%3Cspan%20class=%22keyword%22%3Ethrow%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERuntimeException%3C/span%3E(e);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3C/li%3E%3C/ol%3E%3Ch2%20id=%22%E6%80%BB%E7%BB%93%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%80%BB%E7%BB%93%22%3E%C2%B6%3C/a%3E%E6%80%BB%E7%BB%93%3C/h2%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%3Cstrong%3E%E7%89%B9%E6%80%A7%3C/strong%3E%3C/th%3E%3Cth%3E%3Cstrong%3E%E6%8F%8F%E8%BF%B0%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3E%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9E%8B%3C/td%3E%3Ctd%3E%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%BC%8F%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E6%A0%B8%E5%BF%83%E6%9C%BA%E5%88%B6%3C/td%3E%3Ctd%3E%E5%85%8B%E9%9A%86%E5%B7%B2%E5%AD%98%E5%9C%A8%E5%AF%B9%E8%B1%A1%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E4%B8%BB%E8%A6%81%E4%BC%98%E7%82%B9%3C/td%3E%3Ctd%3E%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD%E3%80%81%E7%AE%80%E5%8C%96%E5%88%9B%E5%BB%BA%E6%B5%81%E7%A8%8B%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E5%85%B3%E9%94%AE%E6%8E%A5%E5%8F%A3/%E7%B1%BB%3C/td%3E%3Ctd%3E%3Ccode%3ECloneable,Object.clone()%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%3C/td%3E%3Ctd%3E%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E5%A4%8D%E6%9D%82%E3%80%81%E9%9C%80%E8%A6%81%E5%A4%9A%E4%B8%AA%E7%9B%B8%E4%BC%BC%E5%AF%B9%E8%B1%A1%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E" type="image"/>
    
    
    
    <category term="creational" scheme="https://galudisu.info/tags/creational/"/>
    
    <category term="prototype" scheme="https://galudisu.info/tags/prototype/"/>
    
  </entry>
  
  <entry>
    <title>å·¥å‚æ¨¡å¼(Factory Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/creational/Factory/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/creational/Factory/</id>
    <published>2025-05-10T09:25:03.000Z</published>
    <updated>2025-05-11T16:16:24.574Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>é¡¾åæ€ä¹‰ï¼Œä¸€ä¸ªå¯ä»¥ç”Ÿäº§å¾ˆå¤šâ€œç±»â€çš„ç±»ï¼ˆå·¥å‚ï¼‰ã€‚</p></blockquote><span id="more"></span><p>å·¥å‚æ¨¡å¼å‡ ä¹æ˜¯æ‰€æœ‰é¢å‘å¯¹è±¡å¼€å‘ä¸­éƒ½ä¼šç”¨åˆ°çš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œè­¬å¦‚Springæ¡†æ¶åŸºäºIoC(æ§åˆ¶åè½¬)å®¹å™¨çš„æ¡†æ¶ï¼Œå¤§é‡ä¾èµ–äºå·¥å‚æ¨¡å¼æ¥ç®¡ç†å¯¹è±¡çš„åˆ›å»ºå’Œç”Ÿå‘½å‘¨æœŸã€‚</p><p>å·¥å‚æ¨¡å¼å®¶æ—åŒ…å«ä»¥ä¸‹ä¸€äº›æ¨¡å¼ã€‚</p><h3 id="é™æ€å·¥å‚æ¨¡å¼-Static-Factory-Pattern"><a class="header-anchor" href="#é™æ€å·¥å‚æ¨¡å¼-Static-Factory-Pattern">Â¶</a>é™æ€å·¥å‚æ¨¡å¼(Static Factory Pattern)</h3><p>ä¸€ç§ç®€åŒ–ç‰ˆçš„å·¥å‚æ¨¡å¼ï¼Œé€šè¿‡<strong>åŒ…å«é™æ€æ–¹æ³•çš„ç±»</strong>æ¥åˆ›å»ºå¯¹è±¡ï¼Œå®¢æˆ·ç«¯é€šè¿‡è°ƒç”¨è¯¥é™æ€æ–¹æ³•å¹¶ä¼ å…¥å‚æ•°æ¥è·å–æ‰€éœ€çš„å®ä¾‹ã€‚</p><p>[] é™æ€å·¥å‚æ¨¡å¼ä¸æ˜¯GoFçš„23ä¸­è®¾è®¡æ¨¡å¼ä¹‹ä¸€ï¼Œä½†å±äºä¸€ç§å¸¸è§çš„ç¼–æˆå®è·µã€‚å…¶æ ¸å¿ƒæ˜¯ï¼š</p><ul><li>æä¾›ä¸€ä¸ªé™æ€å·¥å‚æ–¹æ³•(static factory method)</li><li>æ–¹æ³•æ ¹æ®å‚æ•°æˆ–é€»è¾‘è¿”å›ä¸åŒçš„å®ç°ç±»å®ä¾‹</li><li>å®¢æˆ·ç«¯ä¸éœ€è¦ä½¿ç”¨<code>new</code>å…³é”®å­—ç›´æ¥åˆ›å»ºå¯¹è±¡</li></ul><p>ç”±äºé™æ€å·¥å‚æ¨¡å¼ä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œå› æ­¤ä¸èƒ½è¢«ç»§æ‰¿ï¼Œæ— æ³•å®ç°å¤šæ€ã€‚å¾€å¾€åªèƒ½ç”¨äº<code>åˆ›å»ºå•ä¸€å›ºå®šç±»å‹çš„ç±»</code>ï¼Œæˆ–è€…è¯´æ˜¯<code>final</code>çš„ç±»ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SocketFactory</span> &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> ServerSocket <span class="title function_">createServerSocket</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Socket <span class="title function_">createSocket</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Socket</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Socket <span class="title function_">createSocket</span><span class="params">(<span class="type">boolean</span> keepAlive)</span> &#123;</span><br><span class="line">    <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>();</span><br><span class="line">    socket.setKeepAlive(keepAlive);</span><br><span class="line">    <span class="keyword">return</span> socket;</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸºäºå®ƒçš„å®šä¹‰ï¼Œé™æ€å·¥å‚æ›´å¤šçš„ç”¨ä½œè¾…åŠ©ç±»æ¥ä½¿ç”¨ï¼ŒJavaæ ‡å‡†åº“ä¸­å¹¿æ³›ä½¿ç”¨äº†é™æ€å·¥å‚æ–¹æ³•ï¼Œæœ‰ï¼š</p><ol><li><code>java.util.Collections#unmodifiableList(List&lt;T&gt; list)</code></li><li><code>java.util.Arrays#asList(T... a)</code></li><li><code>java.util.Optional#of(T value)</code></li><li><code>java.time.LocalDate#now()</code></li><li><code>java.nio.file.Paths.get(...)</code></li></ol><p>é™æ€å·¥å‚é€‚ç”¨äºæ¡†æ¶å†…éƒ¨æœ¬èº«å¸Œæœ›ç»Ÿä¸€å¯¹è±¡çš„æ„å»ºè¿‡ç¨‹ï¼ŒåŒæ—¶ä¸å¸Œæœ›åœ¨å¤–éƒ¨è¿›è¡Œæ‰©å±•çš„ç±»ã€‚</p><h3 id="ç®€å•å·¥å‚æ¨¡å¼-Simple-Factory-Pattern"><a class="header-anchor" href="#ç®€å•å·¥å‚æ¨¡å¼-Simple-Factory-Pattern">Â¶</a>ç®€å•å·¥å‚æ¨¡å¼(Simple Factory Pattern)</h3><blockquote><p>é€šè¿‡ä¸€ä¸ªå·¥å‚ç±»ç»Ÿä¸€åˆ›å»ºä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œå®¢æˆ·ç«¯æ— éœ€æŒ‡å¯¼å…·ä½“ç±»åï¼Œåªéœ€ä¼ å…¥å‚æ•°å³å¯ã€‚</p></blockquote><img src="/assert/puml/e9a1a676420c7acc78e8e778d2e8239e40e9607cc3499cdb9f3db72348bec6e7.svg"/><p>ç®€å•å·¥å‚ä¹Ÿæ˜¯è¿åäº†â€œå¼€é—­åŸåˆ™â€ï¼Œæ–°å¢çš„äº§å“ç±»éœ€è¦ä¿®æ”¹å·¥å‚ç±»ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductA</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Using Product A&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductB</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Using Product B&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleFactory</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> Product <span class="title function_">createProduct</span><span class="params">(String type)</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">switch</span>(type) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;A&quot;</span> -&gt; <span class="keyword">new</span> <span class="title class_">ProductA</span>();</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;B&quot;</span> -&gt; <span class="keyword">new</span> <span class="title class_">ProductB</span>();</span><br><span class="line">      <span class="keyword">default</span> -&gt; <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">UnsupportedOperation</span>(<span class="string">&quot;Unsupported Product Type&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> è¿åâ€œå¼€é—­åŸåˆ™â€ï¼Œæ¯æ¬¡æ–°å¢äº§å“æ—¶ï¼Œéƒ½éœ€è¦ä¿®æ”¹å·¥å‚ç±»ã€‚</p><h3 id="å·¥å‚æ–¹æ³•æ¨¡å¼-Factory-Method-Pattern"><a class="header-anchor" href="#å·¥å‚æ–¹æ³•æ¨¡å¼-Factory-Method-Pattern">Â¶</a>å·¥å‚æ–¹æ³•æ¨¡å¼(Factory Method Pattern)</h3><blockquote><p>æ¯ä¸ªå·¥å‚åªç”Ÿäº§ä¸€ç§äº§å“ï¼Œæ–°å¢äº§å“åªéœ€æ‰©å±•ä¸éœ€è¦ä¿®æ”¹ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ã€‚</p></blockquote><p>å®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†ç”±å­ç±»å†³å®šè¦å®ä¾‹åŒ–å“ªä¸ªç±»ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼æŠŠç±»çš„å®ä¾‹åŒ–è¿‡ç¨‹æ¨è¿Ÿåˆ°å­ç±»ã€‚</p><p>å¯¹æ¯”UMLå¯ä»¥å‘ç°ï¼Œå·¥å‚æ–¹æ³•å°±æ˜¯åœ¨åŸæ¥çš„ç®€å•å·¥å‚æ¨¡å¼çš„å‰æä¸‹ï¼Œå°†åŸæ¥çš„<code>SimpleFactory</code>æå‡ä¸º<code>interface</code>æˆ–<code>abstract</code><br>ï¼Œå»¶è¿Ÿåˆ°å…·ä½“çš„å·¥å‚ç±»è¿›è¡Œæ„å»ºã€‚è¿™ç§å®ç°æ»¡è¶³äº†â€œå¼€é—­åŸåˆ™â€ã€‚</p><img src="/assert/puml/0f9ce3ebea350ac0f85301868582ae20b6d4776c0abee6f046652a3aaf1855f7.svg"/><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductA</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Using Product A&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductB</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Using Product B&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Factory</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  Product <span class="title function_">createProduct</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FactoryA</span> implement Factory &#123;</span><br><span class="line">  <span class="keyword">public</span> Product <span class="title function_">createProduct</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductA</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FactoryB</span> implement Factory &#123;</span><br><span class="line">  <span class="keyword">public</span> Product <span class="title function_">createProduct</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductB</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> å·¥å‚æ–¹æ³•ï¼Œç”±å­ç±»æ¥å†³å®šç±»çš„å®ä¾‹åŒ–ã€‚</p><h3 id="æŠ½è±¡å·¥å‚-Abstract-Factory-Pattern"><a class="header-anchor" href="#æŠ½è±¡å·¥å‚-Abstract-Factory-Pattern">Â¶</a>æŠ½è±¡å·¥å‚(Abstract Factory Pattern)</h3><blockquote><p>æä¾›ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåˆ›å»ºä¸€ç»„ç›¸å…³çš„æˆ–ä¾èµ–å¯¹è±¡çš„å®¶æ—ï¼Œé€‚ç”¨äºå¤šå¹³å°ã€å¤šé…ç½®ç³»ç»Ÿ(å¦‚è·¨å¹³å°UIæ§ä»¶åº“)ã€‚</p></blockquote><p>æŠ½è±¡å·¥å‚æ¨¡å¼åœ¨åŸºäºåŸæ¥çš„å·¥å‚æ–¹æ³•æ¨¡å¼çš„å‰æä¸‹ï¼Œç”±å•ä¸€ç±»å‹ï¼Œæ‰©å±•ä¸ºå¯ä»¥åˆ›å»ºå¤šç§äº§å“ç±»å‹ã€‚</p><img src="/assert/puml/9ce8d50719d1b6bf842c934e097d1efafd7cefbf38af24e0076826bb3205ed77.svg"/><p>å…·ä½“å®ç°ç±»ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductA</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">featureA</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductA1</span> implement ProductA &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">featureA</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Feature of Product A1&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductA2</span> implement ProductA &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">featureA</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Feature of Product A2&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductB</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">featureB</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductB1</span> implement ProductB &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">featureB</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Feature of Product B1&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductB2</span> implement ProductB &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">featureB</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Feature of Product B2&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AbstractFactory</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  ProductA <span class="title function_">createProductA</span><span class="params">()</span>;</span><br><span class="line">  ProductB <span class="title function_">createProductB</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Factory1</span> <span class="keyword">implements</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> ProductA <span class="title function_">createProductA</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductA1</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> ProductB <span class="title function_">createProductB</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductB1</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Factory2</span> <span class="keyword">implements</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> ProductA <span class="title function_">createProductA</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductA2</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> ProductB <span class="title function_">createProductB</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductB2</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> æŠ½è±¡å·¥å‚ï¼Œç”±å•ä¸€ç±»å‹ï¼Œæ‰©å±•ä¸ºæ”¯æŒå¤šç§ç±»å‹ã€‚</p><h2 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h2><table><thead><tr><th>æ¨¡å¼åç§°</th><th>åˆ›å»ºå¯¹è±¡æ•°é‡</th><th>æ˜¯å¦ç¬¦åˆå¼€é—­åŸåˆ™</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>ç®€å•å·¥å‚æ¨¡å¼</td><td>å•ä¸€ç±»å‹</td><td>å¦</td><td>ç®€å•å¯¹è±¡åˆ›å»ºï¼Œä¸é¢‘ç¹å˜æ›´</td></tr><tr><td>å·¥å‚æ–¹æ³•æ¨¡å¼</td><td>å•ä¸€ç±»å‹</td><td>æ˜¯</td><td>éœ€è¦çµæ´»æ‰©å±•äº§å“ç±»å‹</td></tr><tr><td>æŠ½è±¡å·¥å‚æ¨¡å¼</td><td>å¤šç§ç±»å‹</td><td>æ˜¯</td><td>åˆ›å»ºå¤šä¸ªç›¸å…³æˆ–ä¾èµ–å¯¹è±¡çš„å®¶æ—</td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;é¡¾åæ€ä¹‰ï¼Œä¸€ä¸ªå¯ä»¥ç”Ÿäº§å¾ˆå¤šâ€œç±»â€çš„ç±»ï¼ˆå·¥å‚ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E9%A1%BE%E5%90%8D%E6%80%9D%E4%B9%89%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%8F%AF%E4%BB%A5%E7%94%9F%E4%BA%A7%E5%BE%88%E5%A4%9A%E2%80%9C%E7%B1%BB%E2%80%9D%E7%9A%84%E7%B1%BB%EF%BC%88%E5%B7%A5%E5%8E%82%EF%BC%89%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Cp%3E%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%87%A0%E4%B9%8E%E6%98%AF%E6%89%80%E6%9C%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91%E4%B8%AD%E9%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E4%B8%80%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%8C%E8%AD%AC%E5%A6%82Spring%E6%A1%86%E6%9E%B6%E5%9F%BA%E4%BA%8EIoC(%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC)%E5%AE%B9%E5%99%A8%E7%9A%84%E6%A1%86%E6%9E%B6%EF%BC%8C%E5%A4%A7%E9%87%8F%E4%BE%9D%E8%B5%96%E4%BA%8E%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E6%9D%A5%E7%AE%A1%E7%90%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E3%80%82%3C/p%3E%3Cp%3E%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%AE%B6%E6%97%8F%E5%8C%85%E5%90%AB%E4%BB%A5%E4%B8%8B%E4%B8%80%E4%BA%9B%E6%A8%A1%E5%BC%8F%E3%80%82%3C/p%3E%3Ch3%20id=%22%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Static-Factory-Pattern%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Static-Factory-Pattern%22%3E%C2%B6%3C/a%3E%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F(Static%20Factory%20Pattern)%3C/h3%3E%3Cp%3E%E4%B8%80%E7%A7%8D%E7%AE%80%E5%8C%96%E7%89%88%E7%9A%84%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%EF%BC%8C%E9%80%9A%E8%BF%87%3Cstrong%3E%E5%8C%85%E5%90%AB%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E7%9A%84%E7%B1%BB%3C/strong%3E%E6%9D%A5%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%80%9A%E8%BF%87%E8%B0%83%E7%94%A8%E8%AF%A5%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E5%B9%B6%E4%BC%A0%E5%85%A5%E5%8F%82%E6%95%B0%E6%9D%A5%E8%8E%B7%E5%8F%96%E6%89%80%E9%9C%80%E7%9A%84%E5%AE%9E%E4%BE%8B%E3%80%82%3C/p%3E%3Cp%3E[]%20%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%B8%8D%E6%98%AFGoF%E7%9A%8423%E4%B8%AD%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E4%B8%80%EF%BC%8C%E4%BD%86%E5%B1%9E%E4%BA%8E%E4%B8%80%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84%E7%BC%96%E6%88%90%E5%AE%9E%E8%B7%B5%E3%80%82%E5%85%B6%E6%A0%B8%E5%BF%83%E6%98%AF%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95(static%20factory%20method)%3C/li%3E%3Cli%3E%E6%96%B9%E6%B3%95%E6%A0%B9%E6%8D%AE%E5%8F%82%E6%95%B0%E6%88%96%E9%80%BB%E8%BE%91%E8%BF%94%E5%9B%9E%E4%B8%8D%E5%90%8C%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB%E5%AE%9E%E4%BE%8B%3C/li%3E%3Cli%3E%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8D%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%3Ccode%3Enew%3C/code%3E%E5%85%B3%E9%94%AE%E5%AD%97%E7%9B%B4%E6%8E%A5%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%3C/li%3E%3C/ul%3E%3Cp%3E%E7%94%B1%E4%BA%8E%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%B8%8D%E7%AC%A6%E5%90%88%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%EF%BC%8C%E5%9B%A0%E6%AD%A4%E4%B8%8D%E8%83%BD%E8%A2%AB%E7%BB%A7%E6%89%BF%EF%BC%8C%E6%97%A0%E6%B3%95%E5%AE%9E%E7%8E%B0%E5%A4%9A%E6%80%81%E3%80%82%E5%BE%80%E5%BE%80%E5%8F%AA%E8%83%BD%E7%94%A8%E4%BA%8E%3Ccode%3E%E5%88%9B%E5%BB%BA%E5%8D%95%E4%B8%80%E5%9B%BA%E5%AE%9A%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%B1%BB%3C/code%3E%EF%BC%8C%E6%88%96%E8%80%85%E8%AF%B4%E6%98%AF%3Ccode%3Efinal%3C/code%3E%E7%9A%84%E7%B1%BB%EF%BC%8C%E4%B8%8B%E9%9D%A2%E6%98%AF%E4%B8%80%E4%B8%AA%E4%BE%8B%E5%AD%90%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESocketFactory%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20ServerSocket%20%3Cspan%20class=%22title%20function_%22%3EcreateServerSocket%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EServerSocket%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Socket%20%3Cspan%20class=%22title%20function_%22%3EcreateSocket%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESocket%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Socket%20%3Cspan%20class=%22title%20function_%22%3EcreateSocket%3C/span%3E%3Cspan%20class=%22params%22%3E(%3Cspan%20class=%22type%22%3Eboolean%3C/span%3E%20keepAlive)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3ESocket%3C/span%3E%20%3Cspan%20class=%22variable%22%3Esocket%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESocket%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20socket.setKeepAlive(keepAlive);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20socket;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20...%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%9F%BA%E4%BA%8E%E5%AE%83%E7%9A%84%E5%AE%9A%E4%B9%89%EF%BC%8C%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%9B%B4%E5%A4%9A%E7%9A%84%E7%94%A8%E4%BD%9C%E8%BE%85%E5%8A%A9%E7%B1%BB%E6%9D%A5%E4%BD%BF%E7%94%A8%EF%BC%8CJava%E6%A0%87%E5%87%86%E5%BA%93%E4%B8%AD%E5%B9%BF%E6%B3%9B%E4%BD%BF%E7%94%A8%E4%BA%86%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%EF%BC%8C%E6%9C%89%EF%BC%9A%3C/p%3E%3Col%3E%3Cli%3E%3Ccode%3Ejava.util.Collections#unmodifiableList(List&amp;lt;T&amp;gt;%20list)%3C/code%3E%3C/li%3E%3Cli%3E%3Ccode%3Ejava.util.Arrays#asList(T...%20a)%3C/code%3E%3C/li%3E%3Cli%3E%3Ccode%3Ejava.util.Optional#of(T%20value)%3C/code%3E%3C/li%3E%3Cli%3E%3Ccode%3Ejava.time.LocalDate#now()%3C/code%3E%3C/li%3E%3Cli%3E%3Ccode%3Ejava.nio.file.Paths.get(...)%3C/code%3E%3C/li%3E%3C/ol%3E%3Cp%3E%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E9%80%82%E7%94%A8%E4%BA%8E%E6%A1%86%E6%9E%B6%E5%86%85%E9%83%A8%E6%9C%AC%E8%BA%AB%E5%B8%8C%E6%9C%9B%E7%BB%9F%E4%B8%80%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B%EF%BC%8C%E5%90%8C%E6%97%B6%E4%B8%8D%E5%B8%8C%E6%9C%9B%E5%9C%A8%E5%A4%96%E9%83%A8%E8%BF%9B%E8%A1%8C%E6%89%A9%E5%B1%95%E7%9A%84%E7%B1%BB%E3%80%82%3C/p%3E%3Ch3%20id=%22%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Simple-Factory-Pattern%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Simple-Factory-Pattern%22%3E%C2%B6%3C/a%3E%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F(Simple%20Factory%20Pattern)%3C/h3%3E%3Cblockquote%3E%3Cp%3E%E9%80%9A%E8%BF%87%E4%B8%80%E4%B8%AA%E5%B7%A5%E5%8E%82%E7%B1%BB%E7%BB%9F%E4%B8%80%E5%88%9B%E5%BB%BA%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%97%A0%E9%9C%80%E6%8C%87%E5%AF%BC%E5%85%B7%E4%BD%93%E7%B1%BB%E5%90%8D%EF%BC%8C%E5%8F%AA%E9%9C%80%E4%BC%A0%E5%85%A5%E5%8F%82%E6%95%B0%E5%8D%B3%E5%8F%AF%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/e9a1a676420c7acc78e8e778d2e8239e40e9607cc3499cdb9f3db72348bec6e7.svg%22/%3E%3Cp%3E%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E4%B9%9F%E6%98%AF%E8%BF%9D%E5%8F%8D%E4%BA%86%E2%80%9C%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E2%80%9D%EF%BC%8C%E6%96%B0%E5%A2%9E%E7%9A%84%E4%BA%A7%E5%93%81%E7%B1%BB%E9%9C%80%E8%A6%81%E4%BF%AE%E6%94%B9%E5%B7%A5%E5%8E%82%E7%B1%BB%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Using%20Product%20A&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Using%20Product%20B&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESimpleFactory%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20Product%20%3Cspan%20class=%22title%20function_%22%3EcreateProduct%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20type)%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eswitch%3C/span%3E(type)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ecase%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;A&amp;quot;%3C/span%3E%20-&amp;gt;%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ecase%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;B&amp;quot;%3C/span%3E%20-&amp;gt;%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Edefault%3C/span%3E%20-&amp;gt;%20%3Cspan%20class=%22keyword%22%3Ethrow%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EUnsupportedOperation%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Unsupported%20Product%20Type&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E8%BF%9D%E5%8F%8D%E2%80%9C%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E2%80%9D%EF%BC%8C%E6%AF%8F%E6%AC%A1%E6%96%B0%E5%A2%9E%E4%BA%A7%E5%93%81%E6%97%B6%EF%BC%8C%E9%83%BD%E9%9C%80%E8%A6%81%E4%BF%AE%E6%94%B9%E5%B7%A5%E5%8E%82%E7%B1%BB%E3%80%82%3C/p%3E%3Ch3%20id=%22%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Factory-Method-Pattern%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Factory-Method-Pattern%22%3E%C2%B6%3C/a%3E%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F(Factory%20Method%20Pattern)%3C/h3%3E%3Cblockquote%3E%3Cp%3E%E6%AF%8F%E4%B8%AA%E5%B7%A5%E5%8E%82%E5%8F%AA%E7%94%9F%E4%BA%A7%E4%B8%80%E7%A7%8D%E4%BA%A7%E5%93%81%EF%BC%8C%E6%96%B0%E5%A2%9E%E4%BA%A7%E5%93%81%E5%8F%AA%E9%9C%80%E6%89%A9%E5%B1%95%E4%B8%8D%E9%9C%80%E8%A6%81%E4%BF%AE%E6%94%B9%EF%BC%8C%E7%AC%A6%E5%90%88%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cp%3E%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E4%BD%86%E7%94%B1%E5%AD%90%E7%B1%BB%E5%86%B3%E5%AE%9A%E8%A6%81%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%93%AA%E4%B8%AA%E7%B1%BB%E3%80%82%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%E6%8A%8A%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%8C%96%E8%BF%87%E7%A8%8B%E6%8E%A8%E8%BF%9F%E5%88%B0%E5%AD%90%E7%B1%BB%E3%80%82%3C/p%3E%3Cp%3E%E5%AF%B9%E6%AF%94UML%E5%8F%AF%E4%BB%A5%E5%8F%91%E7%8E%B0%EF%BC%8C%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E5%B0%B1%E6%98%AF%E5%9C%A8%E5%8E%9F%E6%9D%A5%E7%9A%84%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%EF%BC%8C%E5%B0%86%E5%8E%9F%E6%9D%A5%E7%9A%84%3Ccode%3ESimpleFactory%3C/code%3E%E6%8F%90%E5%8D%87%E4%B8%BA%3Ccode%3Einterface%3C/code%3E%E6%88%96%3Ccode%3Eabstract%3C/code%3E%3Cbr%3E%EF%BC%8C%E5%BB%B6%E8%BF%9F%E5%88%B0%E5%85%B7%E4%BD%93%E7%9A%84%E5%B7%A5%E5%8E%82%E7%B1%BB%E8%BF%9B%E8%A1%8C%E6%9E%84%E5%BB%BA%E3%80%82%E8%BF%99%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%BB%A1%E8%B6%B3%E4%BA%86%E2%80%9C%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E2%80%9D%E3%80%82%3C/p%3E%3Cimg%20src=%22/assert/puml/0f9ce3ebea350ac0f85301868582ae20b6d4776c0abee6f046652a3aaf1855f7.svg%22/%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Using%20Product%20A&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Using%20Product%20B&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EFactory%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20Product%20%3Cspan%20class=%22title%20function_%22%3EcreateProduct%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EFactoryA%3C/span%3E%20implement%20Factory%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20Product%20%3Cspan%20class=%22title%20function_%22%3EcreateProduct%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EFactoryB%3C/span%3E%20implement%20Factory%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20Product%20%3Cspan%20class=%22title%20function_%22%3EcreateProduct%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%EF%BC%8C%E7%94%B1%E5%AD%90%E7%B1%BB%E6%9D%A5%E5%86%B3%E5%AE%9A%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%8C%96%E3%80%82%3C/p%3E%3Ch3%20id=%22%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern%22%3E%C2%B6%3C/a%3E%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82(Abstract%20Factory%20Pattern)%3C/h3%3E%3Cblockquote%3E%3Cp%3E%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%EF%BC%8C%E7%94%A8%E4%BA%8E%E5%88%9B%E5%BB%BA%E4%B8%80%E7%BB%84%E7%9B%B8%E5%85%B3%E7%9A%84%E6%88%96%E4%BE%9D%E8%B5%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B6%E6%97%8F%EF%BC%8C%E9%80%82%E7%94%A8%E4%BA%8E%E5%A4%9A%E5%B9%B3%E5%8F%B0%E3%80%81%E5%A4%9A%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F(%E5%A6%82%E8%B7%A8%E5%B9%B3%E5%8F%B0UI%E6%8E%A7%E4%BB%B6%E5%BA%93)%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cp%3E%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9C%A8%E5%9F%BA%E4%BA%8E%E5%8E%9F%E6%9D%A5%E7%9A%84%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%EF%BC%8C%E7%94%B1%E5%8D%95%E4%B8%80%E7%B1%BB%E5%9E%8B%EF%BC%8C%E6%89%A9%E5%B1%95%E4%B8%BA%E5%8F%AF%E4%BB%A5%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%A7%8D%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B%E3%80%82%3C/p%3E%3Cimg%20src=%22/assert/puml/9ce8d50719d1b6bf842c934e097d1efafd7cefbf38af24e0076826bb3205ed77.svg%22/%3E%3Cp%3E%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E41%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E42%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E43%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E44%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E45%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E46%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E47%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E48%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E49%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E50%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA1%3C/span%3E%20implement%20ProductA%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Feature%20of%20Product%20A1&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA2%3C/span%3E%20implement%20ProductA%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Feature%20of%20Product%20A2&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB1%3C/span%3E%20implement%20ProductB%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Feature%20of%20Product%20B1&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB2%3C/span%3E%20implement%20ProductB%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Feature%20of%20Product%20B2&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAbstractFactory%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20ProductA%20%3Cspan%20class=%22title%20function_%22%3EcreateProductA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20ProductB%20%3Cspan%20class=%22title%20function_%22%3EcreateProductB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EFactory1%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAbstractFactory%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20ProductA%20%3Cspan%20class=%22title%20function_%22%3EcreateProductA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA1%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20ProductB%20%3Cspan%20class=%22title%20function_%22%3EcreateProductB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB1%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EFactory2%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAbstractFactory%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20ProductA%20%3Cspan%20class=%22title%20function_%22%3EcreateProductA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA2%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20ProductB%20%3Cspan%20class=%22title%20function_%22%3EcreateProductB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB2%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%EF%BC%8C%E7%94%B1%E5%8D%95%E4%B8%80%E7%B1%BB%E5%9E%8B%EF%BC%8C%E6%89%A9%E5%B1%95%E4%B8%BA%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E7%B1%BB%E5%9E%8B%E3%80%82%3C/p%3E%3Ch2%20id=%22%E6%80%BB%E7%BB%93%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%80%BB%E7%BB%93%22%3E%C2%B6%3C/a%3E%E6%80%BB%E7%BB%93%3C/h2%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%E6%A8%A1%E5%BC%8F%E5%90%8D%E7%A7%B0%3C/th%3E%3Cth%3E%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E6%95%B0%E9%87%8F%3C/th%3E%3Cth%3E%E6%98%AF%E5%90%A6%E7%AC%A6%E5%90%88%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%3C/th%3E%3Cth%3E%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3E%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%3C/td%3E%3Ctd%3E%E5%8D%95%E4%B8%80%E7%B1%BB%E5%9E%8B%3C/td%3E%3Ctd%3E%E5%90%A6%3C/td%3E%3Ctd%3E%E7%AE%80%E5%8D%95%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%EF%BC%8C%E4%B8%8D%E9%A2%91%E7%B9%81%E5%8F%98%E6%9B%B4%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%3C/td%3E%3Ctd%3E%E5%8D%95%E4%B8%80%E7%B1%BB%E5%9E%8B%3C/td%3E%3Ctd%3E%E6%98%AF%3C/td%3E%3Ctd%3E%E9%9C%80%E8%A6%81%E7%81%B5%E6%B4%BB%E6%89%A9%E5%B1%95%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%3C/td%3E%3Ctd%3E%E5%A4%9A%E7%A7%8D%E7%B1%BB%E5%9E%8B%3C/td%3E%3Ctd%3E%E6%98%AF%3C/td%3E%3Ctd%3E%E5%88%9B%E5%BB%BA%E5%A4%9A%E4%B8%AA%E7%9B%B8%E5%85%B3%E6%88%96%E4%BE%9D%E8%B5%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B6%E6%97%8F%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E" type="image"/>
    
    
    
    <category term="creational" scheme="https://galudisu.info/tags/creational/"/>
    
    <category term="factory" scheme="https://galudisu.info/tags/factory/"/>
    
  </entry>
  
  <entry>
    <title>å»ºé€ è€…æ¨¡å¼(Builder Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/creational/Builder/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/creational/Builder/</id>
    <published>2025-05-10T09:25:02.000Z</published>
    <updated>2025-05-11T16:14:49.928Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å»ºé€ è€…æ¨¡å¼(Builder Pattern)æ˜¯å¯¹è±¡çš„åˆ›å»ºæ¨¡å¼ã€‚å»ºé€ è€…æ¨¡å¼å¯ä»¥<strong>å°†ä¸€ä¸ªäº§å“çš„å†…éƒ¨è¡¨è±¡(internal representation)ä¸äº§å“çš„ç”Ÿäº§è¿‡ç¨‹åˆ†å‰²å¼€æ¥</strong>ï¼Œä»è€Œå¯ä»¥ä½¿ä¸€ä¸ªå»ºé€ è¿‡ç¨‹ç”Ÿæˆå…·æœ‰ä¸åŒçš„å†…éƒ¨è¡¨è±¡çš„äº§å“å¯¹è±¡ã€‚</p></blockquote><img src="/assert/puml/16277389e52de69365a573b8faf018f38c3755f67a5bba551fd0b6b08ce05e94.svg"/><span id="more"></span><h3 id="æ¦‚å¿µ"><a class="header-anchor" href="#æ¦‚å¿µ">Â¶</a>æ¦‚å¿µ</h3><p>å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å…¶è¡¨è±¡åˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚</p><ul><li>é€‚ç”¨åœºæ™¯ï¼š<ul><li>æ„å»ºçš„å¯¹è±¡å…·æœ‰å¤æ‚çš„å†…éƒ¨ç»“æ„ã€‚</li><li>å¯¹è±¡çš„æ„å»ºè¿‡ç¨‹éœ€è¦å¤šä¸ªæ­¥éª¤ï¼Œå¹¶ä¸”è¿™äº›æ­¥éª¤å¯èƒ½å˜åŒ–ã€‚</li><li>å¸Œæœ›è§£è€¦æ„å»ºè¿‡ç¨‹ä¸å…·ä½“å®ç°ã€‚</li></ul></li></ul><h3 id="æ¨¡å¼ç»“æ„"><a class="header-anchor" href="#æ¨¡å¼ç»“æ„">Â¶</a>æ¨¡å¼ç»“æ„</h3><p>å»ºé€ è€…æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</p><ul><li>Product: è¦æ„å»ºçš„å¤æ‚å¯¹è±¡</li><li>Builder: å®šä¹‰æ„å»ºäº§å“çš„å„ä¸ªæ­¥éª¤çš„æ¥å£ï¼ˆå¦‚<code>buildPartA()</code>,<code>buildPartB()</code>ç­‰ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»æˆ–æ¥å£ã€‚</li><li>ConcreteBuilder: å®ç°Builderæ¥å£ï¼Œå…·ä½“å®Œæˆå„éƒ¨åˆ†çš„æ„å»ºï¼Œå¹¶æä¾›ä¸€ä¸ªè·å–äº§å“çš„æ–¹æ³•ã€‚</li><li>Directorï¼š è´Ÿè´£è°ƒç”¨æ„å»ºè€…ä¸­çš„æ­¥éª¤æ¥æ„å»ºäº§å“ï¼Œä¸å…³å¿ƒå…·ä½“å®ç°ï¼Œåªæ§åˆ¶æµç¨‹ã€‚</li><li>Client: æœ€ç»ˆå®¢æˆ·ç«¯ã€‚</li></ul><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">House</span> &#123;  <span class="comment">// Product ç±»</span></span><br><span class="line">  <span class="keyword">private</span> String foundation;</span><br><span class="line">  <span class="keyword">private</span> String walls;</span><br><span class="line">  <span class="keyword">private</span> String roof;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFoundation</span><span class="params">(String foundation)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.foundation = foundation;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setWalls</span><span class="params">(String walls)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.walls = walls;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRoof</span><span class="params">(String roof)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.roof = roof;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Foundation: &quot;</span> + foundation);</span><br><span class="line">    System.out.println(<span class="string">&quot;Walls: &quot;</span> + walls);</span><br><span class="line">    System.out.println(<span class="string">&quot;Roof: &quot;</span> + roof);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">HouseBuilder</span> &#123;  <span class="comment">// Builder</span></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">buildFoundation</span><span class="params">()</span>;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">buildWalls</span><span class="params">()</span>;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">buildRoof</span><span class="params">()</span>;</span><br><span class="line">  House <span class="title function_">getHouse</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteHouseBuilder</span> <span class="keyword">implements</span> <span class="title class_">HouseBuilder</span> &#123;  <span class="comment">// ConcreteBuilder</span></span><br><span class="line">  <span class="keyword">private</span> <span class="type">House</span> <span class="variable">house</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">House</span>();</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildFoundation</span><span class="params">()</span> &#123;</span><br><span class="line">    house.setFoundation(<span class="string">&quot;Built with bricks&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildWalls</span><span class="params">()</span> &#123;</span><br><span class="line">    house.setWalls(<span class="string">&quot;Reinforced concrete walls&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildRoof</span><span class="params">()</span> &#123;</span><br><span class="line">    house.setRoof(<span class="string">&quot;Tile roof&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> House <span class="title function_">getHouse</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> house;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HouseDirector</span> &#123;  <span class="comment">// Director</span></span><br><span class="line">  <span class="keyword">private</span> HouseBuilder builder;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">HouseDirector</span><span class="params">(HouseBuilder builder)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.builder = builder;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">constructHouse</span><span class="params">()</span> &#123;</span><br><span class="line">    builder.buildFoundation();</span><br><span class="line">    builder.buildWalls();</span><br><span class="line">    builder.buildRoof();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;  <span class="comment">// Client</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºå»ºé€ è€…</span></span><br><span class="line">    <span class="type">HouseBuilder</span> <span class="variable">builder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteHouseBuilder</span>();</span><br><span class="line">    <span class="comment">// åˆ›å»ºæŒ‡æŒ¥è€…å¹¶ä¼ å…¥å»ºé€ è€…</span></span><br><span class="line">    <span class="type">HouseDirector</span> <span class="variable">director</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HouseDirector</span>(builder);</span><br><span class="line">    <span class="comment">// æŒ‡æŒ¥è€…å¼€å§‹æ„å»º</span></span><br><span class="line">    director.constructHouse();</span><br><span class="line">    <span class="comment">// è·å–æœ€ç»ˆäº§å“</span></span><br><span class="line">    <span class="type">House</span> <span class="variable">house</span> <span class="operator">=</span> builder.getHouse();</span><br><span class="line">    house.show();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¼˜ç‚¹</strong>ï¼š åˆ†ç¦»æ„å»ºé€»è¾‘å’Œè¡¨ç¤ºï¼›å¤šæ ·åŒ–è¾“å‡ºï¼›æ§åˆ¶æ„å»ºè¿‡ç¨‹<br><strong>ç¼ºç‚¹</strong>ï¼š ä¸é€‚åˆç®€å•å¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡æ„é€ è¿‡ç¨‹ç®€å•ï¼Œä½¿ç”¨è¯¥æ¨¡å¼åè€Œå¢åŠ å¤æ‚åº¦ï¼›éœ€è¦å®šä¹‰å¤šä¸ªç±»ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„ç±»æ•°é‡ï¼Œå¢åŠ äº†ç†è§£æˆæœ¬ã€‚</p><h3 id="åœºæ™¯ä¸¾ä¾‹"><a class="header-anchor" href="#åœºæ™¯ä¸¾ä¾‹">Â¶</a>åœºæ™¯ä¸¾ä¾‹</h3><ul><li>æ„å»ºä¸åŒé…ç½®çš„è®¡ç®—æœº(cpuã€å†…å­˜ã€ç¡¬ç›˜ç­‰)</li><li>ç”Ÿæˆä¸åŒé£æ ¼çš„æ–‡æ¡£(PDFã€HTMLã€Word)</li><li>ç»„è£…æ±½è½¦çš„ä¸åŒå‹å·(å‘åŠ¨æœºã€è½®å­ã€é¢œè‰²ç­‰)</li><li>æ¸¸æˆä¸­çš„è§’è‰²çš„å®šåˆ¶(æ­¦å™¨ã€æœè£…ã€æŠ€èƒ½ç­‰)</li></ul><h3 id="å’ŒLombokæ’ä»¶çš„åŒºåˆ«"><a class="header-anchor" href="#å’ŒLombokæ’ä»¶çš„åŒºåˆ«">Â¶</a>å’ŒLombokæ’ä»¶çš„åŒºåˆ«</h3><ol><li>Lombokçš„<code>@Builder</code>å¹¶ä¸å®Œå…¨ç­‰åŒäºGoFçš„å»ºé€ è€…æ¨¡å¼ã€‚</li><li>å®ƒç¼ºå°‘<code>Director</code>è§’è‰²ï¼Œä¹Ÿä¸æ”¯æŒå¤šä¸ª<code>ConcreteBuilder</code>å®ç°ã€‚</li><li>å¦‚éœ€è¦å¯¹æ„å»ºè¿‡ç¨‹ä½œå¤æ‚çš„æ§åˆ¶(å¦‚åˆ†å¸ƒæ„å»ºã€æ¡ä»¶åˆ¤æ–­ã€æ¨¡æ¿åŒ–æµç¨‹)ï¼Œä»éœ€è¦æ‰‹åŠ¨å®ç°å»ºé€ è€…æ¨¡å¼ã€‚</li><li>Lombokçš„<code>@Builder</code>åªå¯¹ç®€å•å¯¹è±¡çš„ç§æœ‰å±æ€§è¿›è¡Œæ„å»ºã€‚</li></ol>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;å»ºé€ è€…æ¨¡å¼(Builder Pattern)æ˜¯å¯¹è±¡çš„åˆ›å»ºæ¨¡å¼ã€‚å»ºé€ è€…æ¨¡å¼å¯ä»¥&lt;strong&gt;å°†ä¸€ä¸ªäº§å“çš„å†…éƒ¨è¡¨è±¡(internal representation)ä¸äº§å“çš„ç”Ÿäº§è¿‡ç¨‹åˆ†å‰²å¼€æ¥&lt;/strong&gt;ï¼Œä»è€Œå¯ä»¥ä½¿ä¸€ä¸ªå»ºé€ è¿‡ç¨‹ç”Ÿæˆå…·æœ‰ä¸åŒçš„å†…éƒ¨è¡¨è±¡çš„äº§å“å¯¹è±¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/16277389e52de69365a573b8faf018f38c3755f67a5bba551fd0b6b08ce05e94.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F(Builder%20Pattern)%E6%98%AF%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%BC%8F%E3%80%82%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E5%8F%AF%E4%BB%A5%3Cstrong%3E%E5%B0%86%E4%B8%80%E4%B8%AA%E4%BA%A7%E5%93%81%E7%9A%84%E5%86%85%E9%83%A8%E8%A1%A8%E8%B1%A1(internal%20representation)%E4%B8%8E%E4%BA%A7%E5%93%81%E7%9A%84%E7%94%9F%E4%BA%A7%E8%BF%87%E7%A8%8B%E5%88%86%E5%89%B2%E5%BC%80%E6%9D%A5%3C/strong%3E%EF%BC%8C%E4%BB%8E%E8%80%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E4%B8%80%E4%B8%AA%E5%BB%BA%E9%80%A0%E8%BF%87%E7%A8%8B%E7%94%9F%E6%88%90%E5%85%B7%E6%9C%89%E4%B8%8D%E5%90%8C%E7%9A%84%E5%86%85%E9%83%A8%E8%A1%A8%E8%B1%A1%E7%9A%84%E4%BA%A7%E5%93%81%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/16277389e52de69365a573b8faf018f38c3755f67a5bba551fd0b6b08ce05e94.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E6%A6%82%E5%BF%B5%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A6%82%E5%BF%B5%22%3E%C2%B6%3C/a%3E%E6%A6%82%E5%BF%B5%3C/h3%3E%3Cp%3E%E5%B0%86%E4%B8%80%E4%B8%AA%E5%A4%8D%E6%9D%82%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9E%84%E5%BB%BA%E4%B8%8E%E5%85%B6%E8%A1%A8%E8%B1%A1%E5%88%86%E7%A6%BB%EF%BC%8C%E4%BD%BF%E5%BE%97%E5%90%8C%E6%A0%B7%E7%9A%84%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B%E5%8F%AF%E4%BB%A5%E5%88%9B%E5%BB%BA%E4%B8%8D%E5%90%8C%E7%9A%84%E8%A1%A8%E7%A4%BA%E3%80%82%3C/p%3E%3Cul%3E%3Cli%3E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A%3Cul%3E%3Cli%3E%E6%9E%84%E5%BB%BA%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%85%B7%E6%9C%89%E5%A4%8D%E6%9D%82%E7%9A%84%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84%E3%80%82%3C/li%3E%3Cli%3E%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B%E9%9C%80%E8%A6%81%E5%A4%9A%E4%B8%AA%E6%AD%A5%E9%AA%A4%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%BF%99%E4%BA%9B%E6%AD%A5%E9%AA%A4%E5%8F%AF%E8%83%BD%E5%8F%98%E5%8C%96%E3%80%82%3C/li%3E%3Cli%3E%E5%B8%8C%E6%9C%9B%E8%A7%A3%E8%80%A6%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B%E4%B8%8E%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0%E3%80%82%3C/li%3E%3C/ul%3E%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%22%3E%C2%B6%3C/a%3E%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%3C/h3%3E%3Cp%3E%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E9%80%9A%E5%B8%B8%E5%8C%85%E5%90%AB%E4%BB%A5%E4%B8%8B%E8%A7%92%E8%89%B2%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3EProduct:%20%E8%A6%81%E6%9E%84%E5%BB%BA%E7%9A%84%E5%A4%8D%E6%9D%82%E5%AF%B9%E8%B1%A1%3C/li%3E%3Cli%3EBuilder:%20%E5%AE%9A%E4%B9%89%E6%9E%84%E5%BB%BA%E4%BA%A7%E5%93%81%E7%9A%84%E5%90%84%E4%B8%AA%E6%AD%A5%E9%AA%A4%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%88%E5%A6%82%3Ccode%3EbuildPartA()%3C/code%3E,%3Ccode%3EbuildPartB()%3C/code%3E%E7%AD%89%EF%BC%89%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%98%AF%E4%B8%80%E4%B8%AA%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%88%96%E6%8E%A5%E5%8F%A3%E3%80%82%3C/li%3E%3Cli%3EConcreteBuilder:%20%E5%AE%9E%E7%8E%B0Builder%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%85%B7%E4%BD%93%E5%AE%8C%E6%88%90%E5%90%84%E9%83%A8%E5%88%86%E7%9A%84%E6%9E%84%E5%BB%BA%EF%BC%8C%E5%B9%B6%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E8%8E%B7%E5%8F%96%E4%BA%A7%E5%93%81%E7%9A%84%E6%96%B9%E6%B3%95%E3%80%82%3C/li%3E%3Cli%3EDirector%EF%BC%9A%20%E8%B4%9F%E8%B4%A3%E8%B0%83%E7%94%A8%E6%9E%84%E5%BB%BA%E8%80%85%E4%B8%AD%E7%9A%84%E6%AD%A5%E9%AA%A4%E6%9D%A5%E6%9E%84%E5%BB%BA%E4%BA%A7%E5%93%81%EF%BC%8C%E4%B8%8D%E5%85%B3%E5%BF%83%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%8F%AA%E6%8E%A7%E5%88%B6%E6%B5%81%E7%A8%8B%E3%80%82%3C/li%3E%3Cli%3EClient:%20%E6%9C%80%E7%BB%88%E5%AE%A2%E6%88%B7%E7%AB%AF%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E41%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E42%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E43%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E44%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E45%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E46%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E47%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E48%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E49%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E50%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E51%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E52%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E53%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E54%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E55%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E56%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E57%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E58%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E59%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E60%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E61%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E62%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E63%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E64%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E65%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E66%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E67%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E68%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EHouse%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20Product%20%E7%B1%BB%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20String%20foundation;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20String%20walls;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20String%20roof;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EsetFoundation%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20foundation)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.foundation%20=%20foundation;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EsetWalls%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20walls)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.walls%20=%20walls;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EsetRoof%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20roof)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.roof%20=%20roof;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eshow%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Foundation:%20&amp;quot;%3C/span%3E%20+%20foundation);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Walls:%20&amp;quot;%3C/span%3E%20+%20walls);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Roof:%20&amp;quot;%3C/span%3E%20+%20roof);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EHouseBuilder%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20Builder%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EbuildFoundation%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EbuildWalls%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EbuildRoof%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20House%20%3Cspan%20class=%22title%20function_%22%3EgetHouse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EConcreteHouseBuilder%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EHouseBuilder%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20ConcreteBuilder%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22type%22%3EHouse%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ehouse%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EHouse%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EbuildFoundation%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20house.setFoundation(%3Cspan%20class=%22string%22%3E&amp;quot;Built%20with%20bricks&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EbuildWalls%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20house.setWalls(%3Cspan%20class=%22string%22%3E&amp;quot;Reinforced%20concrete%20walls&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EbuildRoof%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20house.setRoof(%3Cspan%20class=%22string%22%3E&amp;quot;Tile%20roof&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20House%20%3Cspan%20class=%22title%20function_%22%3EgetHouse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20house;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EHouseDirector%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20Director%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20HouseBuilder%20builder;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EHouseDirector%3C/span%3E%3Cspan%20class=%22params%22%3E(HouseBuilder%20builder)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.builder%20=%20builder;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EconstructHouse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20builder.buildFoundation();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20builder.buildWalls();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20builder.buildRoof();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EClient%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20Client%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E(String[]%20args)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22comment%22%3E/%20%E5%88%9B%E5%BB%BA%E5%BB%BA%E9%80%A0%E8%80%85%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3EHouseBuilder%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ebuilder%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EConcreteHouseBuilder%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22comment%22%3E/%20%E5%88%9B%E5%BB%BA%E6%8C%87%E6%8C%A5%E8%80%85%E5%B9%B6%E4%BC%A0%E5%85%A5%E5%BB%BA%E9%80%A0%E8%80%85%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3EHouseDirector%3C/span%3E%20%3Cspan%20class=%22variable%22%3Edirector%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EHouseDirector%3C/span%3E(builder);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22comment%22%3E/%20%E6%8C%87%E6%8C%A5%E8%80%85%E5%BC%80%E5%A7%8B%E6%9E%84%E5%BB%BA%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20director.constructHouse();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22comment%22%3E/%20%E8%8E%B7%E5%8F%96%E6%9C%80%E7%BB%88%E4%BA%A7%E5%93%81%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3EHouse%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ehouse%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20builder.getHouse();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20house.show();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Cstrong%3E%E4%BC%98%E7%82%B9%3C/strong%3E%EF%BC%9A%20%E5%88%86%E7%A6%BB%E6%9E%84%E5%BB%BA%E9%80%BB%E8%BE%91%E5%92%8C%E8%A1%A8%E7%A4%BA%EF%BC%9B%E5%A4%9A%E6%A0%B7%E5%8C%96%E8%BE%93%E5%87%BA%EF%BC%9B%E6%8E%A7%E5%88%B6%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B%3Cbr%3E%3Cstrong%3E%E7%BC%BA%E7%82%B9%3C/strong%3E%EF%BC%9A%20%E4%B8%8D%E9%80%82%E5%90%88%E7%AE%80%E5%8D%95%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%AF%B9%E8%B1%A1%E6%9E%84%E9%80%A0%E8%BF%87%E7%A8%8B%E7%AE%80%E5%8D%95%EF%BC%8C%E4%BD%BF%E7%94%A8%E8%AF%A5%E6%A8%A1%E5%BC%8F%E5%8F%8D%E8%80%8C%E5%A2%9E%E5%8A%A0%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%9B%E9%9C%80%E8%A6%81%E5%AE%9A%E4%B9%89%E5%A4%9A%E4%B8%AA%E7%B1%BB%EF%BC%8C%E5%A2%9E%E5%8A%A0%E4%BA%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%B1%BB%E6%95%B0%E9%87%8F%EF%BC%8C%E5%A2%9E%E5%8A%A0%E4%BA%86%E7%90%86%E8%A7%A3%E6%88%90%E6%9C%AC%E3%80%82%3C/p%3E%3Ch3%20id=%22%E5%9C%BA%E6%99%AF%E4%B8%BE%E4%BE%8B%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E5%9C%BA%E6%99%AF%E4%B8%BE%E4%BE%8B%22%3E%C2%B6%3C/a%3E%E5%9C%BA%E6%99%AF%E4%B8%BE%E4%BE%8B%3C/h3%3E%3Cul%3E%3Cli%3E%E6%9E%84%E5%BB%BA%E4%B8%8D%E5%90%8C%E9%85%8D%E7%BD%AE%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA(cpu%E3%80%81%E5%86%85%E5%AD%98%E3%80%81%E7%A1%AC%E7%9B%98%E7%AD%89)%3C/li%3E%3Cli%3E%E7%94%9F%E6%88%90%E4%B8%8D%E5%90%8C%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%96%87%E6%A1%A3(PDF%E3%80%81HTML%E3%80%81Word)%3C/li%3E%3Cli%3E%E7%BB%84%E8%A3%85%E6%B1%BD%E8%BD%A6%E7%9A%84%E4%B8%8D%E5%90%8C%E5%9E%8B%E5%8F%B7(%E5%8F%91%E5%8A%A8%E6%9C%BA%E3%80%81%E8%BD%AE%E5%AD%90%E3%80%81%E9%A2%9C%E8%89%B2%E7%AD%89)%3C/li%3E%3Cli%3E%E6%B8%B8%E6%88%8F%E4%B8%AD%E7%9A%84%E8%A7%92%E8%89%B2%E7%9A%84%E5%AE%9A%E5%88%B6(%E6%AD%A6%E5%99%A8%E3%80%81%E6%9C%8D%E8%A3%85%E3%80%81%E6%8A%80%E8%83%BD%E7%AD%89)%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E5%92%8CLombok%E6%8F%92%E4%BB%B6%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E5%92%8CLombok%E6%8F%92%E4%BB%B6%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%C2%B6%3C/a%3E%E5%92%8CLombok%E6%8F%92%E4%BB%B6%E7%9A%84%E5%8C%BA%E5%88%AB%3C/h3%3E%3Col%3E%3Cli%3ELombok%E7%9A%84%3Ccode%3E@Builder%3C/code%3E%E5%B9%B6%E4%B8%8D%E5%AE%8C%E5%85%A8%E7%AD%89%E5%90%8C%E4%BA%8EGoF%E7%9A%84%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E3%80%82%3C/li%3E%3Cli%3E%E5%AE%83%E7%BC%BA%E5%B0%91%3Ccode%3EDirector%3C/code%3E%E8%A7%92%E8%89%B2%EF%BC%8C%E4%B9%9F%E4%B8%8D%E6%94%AF%E6%8C%81%E5%A4%9A%E4%B8%AA%3Ccode%3EConcreteBuilder%3C/code%3E%E5%AE%9E%E7%8E%B0%E3%80%82%3C/li%3E%3Cli%3E%E5%A6%82%E9%9C%80%E8%A6%81%E5%AF%B9%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B%E4%BD%9C%E5%A4%8D%E6%9D%82%E7%9A%84%E6%8E%A7%E5%88%B6(%E5%A6%82%E5%88%86%E5%B8%83%E6%9E%84%E5%BB%BA%E3%80%81%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E3%80%81%E6%A8%A1%E6%9D%BF%E5%8C%96%E6%B5%81%E7%A8%8B)%EF%BC%8C%E4%BB%8D%E9%9C%80%E8%A6%81%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%E3%80%82%3C/li%3E%3Cli%3ELombok%E7%9A%84%3Ccode%3E@Builder%3C/code%3E%E5%8F%AA%E5%AF%B9%E7%AE%80%E5%8D%95%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A7%81%E6%9C%89%E5%B1%9E%E6%80%A7%E8%BF%9B%E8%A1%8C%E6%9E%84%E5%BB%BA%E3%80%82%3C/li%3E%3C/ol%3E" type="image"/>
    
    
    
    <category term="creational" scheme="https://galudisu.info/tags/creational/"/>
    
    <category term="builder" scheme="https://galudisu.info/tags/builder/"/>
    
  </entry>
  
  <entry>
    <title>å•ä¾‹æ¨¡å¼(Singleton Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/creational/Singleton/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/creational/Singleton/</id>
    <published>2025-05-10T09:25:01.000Z</published>
    <updated>2025-05-11T16:16:24.564Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å•ä¾‹æ¨¡å¼ä¸»è¦æ˜¯ä¸ºäº†é¿å…å› ä¸ºåˆ›å»ºäº†å¤šä¸ªå®ä¾‹é€ æˆèµ„æºçš„æµªè´¹ï¼Œä¸”å¤šä¸ªå®ä¾‹ç”±äºå¤šæ¬¡è°ƒç”¨å®¹æ˜“å¯¼è‡´ç»“æœå‡ºç°é”™è¯¯ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼èƒ½å¤Ÿä¿è¯æ•´ä¸ªåº”ç”¨ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚</p></blockquote><img src="/assert/puml/359337590fefc13016479eafc3964310fc75e006e0e1b4327142069cdb1181e8.svg"/><span id="more"></span><ul><li>å®šä¹‰ï¼š åªéœ€è¦ä¸‰æ­¥å°±å¯ä»¥ä¿è¯å¯¹è±¡çš„å”¯ä¸€æ€§<ul><li>ç§æœ‰åŒ–æ„é€ å‡½æ•°</li><li>ç±»å†…åˆ›å»ºå¯¹è±¡</li><li>å¯¹å¤–æä¾›ä¸€ä¸ªå¯ä»¥è®©å…¶ä»–ç¨‹åºè·å–è¯¥å¯¹è±¡çš„æ–¹æ³•</li></ul></li></ul><p>å¸¸å¸¸è¢«ç”¨ä½œå·¥å…·ç±»(-Util/-Helper)ã€‚</p><h3 id="é¥¿æ±‰å¼"><a class="header-anchor" href="#é¥¿æ±‰å¼">Â¶</a>é¥¿æ±‰å¼</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Singleton</span> <span class="variable">INSTANCE</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> INSTANCE;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¼˜ç‚¹</strong>ï¼šä»å®ƒçš„å®ç°ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§æ–¹å¼çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œåœ¨ç±»åŠ è½½çš„æ—¶å€™å°±å®Œæˆäº†å®ä¾‹åŒ–ï¼Œé¿å…äº†çº¿ç¨‹çš„åŒæ­¥é—®é¢˜ã€‚</p><p><strong>ç¼ºç‚¹</strong>ï¼šç”±äºåœ¨ç±»åŠ è½½çš„æ—¶å€™å°±å®ä¾‹åŒ–äº†ï¼Œæ‰€ä»¥æ²¡æœ‰è¾¾åˆ°Lazy Loading(æ‡’åŠ è½½)çš„æ•ˆæœï¼Œä¹Ÿå°±æ˜¯è¯´å¯èƒ½æˆ‘æ²¡æœ‰ç”¨åˆ°è¿™ä¸ªå®ä¾‹ï¼Œä½†æ˜¯å®ƒä¹Ÿä¼šåŠ è½½ï¼Œä¼šé€ æˆå†…å­˜çš„æµªè´¹ã€‚</p><h3 id="æ‡’æ±‰"><a class="header-anchor" href="#æ‡’æ±‰">Â¶</a>æ‡’æ±‰</h3><p>åˆ›å»ºä¸€ä¸ªæ‡’æ±‰æ¨¡å¼çš„å•ä¾‹ï¼Œå»¶è¿Ÿå®ä¾‹çš„åˆ›å»ºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance; <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123; <span class="comment">// <i class="conum" data-value="2"></i></span></span><br><span class="line">      instance = <span class="keyword">new</span> <span class="title class_">singleton</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> å•ä¾‹æ¨¡å¼çš„æ‡’æ±‰æ¨¡å¼.</p><p><i class="conum" data-value="2"></i> è¿™é‡Œçš„çº¿ç¨‹æ˜¯ä¸å®‰å…¨çš„ï¼Œå¯èƒ½å¾—åˆ°ä¸¤ä¸ªä¸åŒçš„å®ä¾‹ã€‚</p><p>ä¿®å¤çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ”¹è¿›ç‰ˆæœ¬1ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">    <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">      instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> æ‡’æ±‰å¼çº¿ç¨‹å®‰å…¨ï¼Œé€šè¿‡<code>synchronized</code>å…³é”®å­—æ§åˆ¶ï¼Œä½†æ•ˆç‡ä½ï¼Œå› ä¸º<code>synchronized</code>ä¼šğŸ”“ä½è¯¥å¯¹è±¡ã€‚</p><p><strong>ç¼ºç‚¹</strong>ï¼š æ•ˆç‡å¤ªä½äº†ï¼Œæ¯ä¸ªçº¿ç¨‹åœ¨æƒ³è·å¾—ç±»çš„å®ä¾‹æ—¶å€™ï¼Œæ‰§è¡Œ<code>getInstance()</code>æ–¹æ³•éƒ½è¦è¿›è¡ŒåŒæ­¥æ“ä½œï¼Œè€Œå…¶å®è¿™ä¸ªæ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡å®ä¾‹åŒ–å°±å¤Ÿäº†ã€‚</p><p>æ”¹è¿›ç‰ˆæœ¬2ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">synchronized</span> (Singleton.class) &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">        instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> çº¿ç¨‹ä¸å®‰å…¨ï¼Œä¸å¯ç”¨ã€‚è™½ç„¶åŠ äº†ğŸ”“ï¼Œä½†æ³¨æ„è¿™é‡Œé”çš„æ˜¯è¯¥ç±»ï¼Œä¸æ˜¯å¯¹è±¡å®ä¾‹ã€‚ç­‰åˆ°ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œ<code>instance = new Singleton()</code>è·³å‡ºè¿™ä¸ªğŸ”“æ—¶ï¼Œå¦ä¸€ä¸ªè¿›å…¥<code>if</code>è¯­å¥çš„çº¿ç¨‹åŒæ ·ä¼šå®ä¾‹åŒ–å¦å¤–ä¸€ä¸ªSingletonå¯¹è±¡ã€‚</p><p>æ”¹è¿›ç‰ˆæœ¬3ï¼š åŒé‡æ ¡éªŒğŸ”“ï¼Œæ–°ç‰ˆjvmä¸å†æ¨è</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">MUTEX</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">synchronized</span> (MUTEX) &#123; <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">          instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> åŒé‡æ ¡éªŒé”(Double-checked locking)ï¼Œä¸å†æ¨èä½¿ç”¨ï¼Œå‚è€ƒ<a href="https://cwe.mitre.org/data/definitions/609">cwe-609</a>ã€‚</p><p>æ”¹è¿›ç‰ˆæœ¬4ï¼š <strong>å†…éƒ¨ç±»</strong>å†™æ³•ã€æ¨èã€‘ã€‚ä¹Ÿæ˜¯å…¶ä»–jvmè¡ç”Ÿè¯­è¨€çš„è¯­æ³•ç³–ï¼Œè­¬å¦‚kotlin/scala/groovyçš„<code>object</code>æ•°æ®ç±»å‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> SingletonHolder.INSTANCE;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">SingletonHolder</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Singleton</span> <span class="variable">INSTANCE</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> å†…éƒ¨ç±»ä¼šè¢«å»¶è¿Ÿæ„å»ºã€‚</p><p><strong>ä¼˜ç‚¹</strong>: é¿å…äº†çº¿ç¨‹ä¸å®‰å…¨çš„å‡ºç°ï¼Œå»¶è¿ŸåŠ è½½ï¼Œæ•ˆç‡é«˜ã€‚</p><p>æ”¹è¿›ç‰ˆæœ¬5ï¼š <strong>æšä¸¾</strong>ã€æ¨èã€‘ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">  INSTANCE;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> å€ŸåŠ©JDK1.5ä¸­æ·»åŠ çš„æšä¸¾æ¥å®ç°å•ä¾‹æ¨¡å¼ã€‚ä¸ä»…èƒ½é¿å…å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œè€Œä¸”è¿˜èƒ½é˜²æ­¢ååºåˆ—åŒ–é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</p><p>æ”¹è¿›ç‰ˆæœ¬6ï¼š <strong>åŸå­ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> AtomicReference&lt;Singleton&gt; INSTANCE = <span class="keyword">new</span> <span class="title class_">AtomicReference</span>&lt;&gt;();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">    <span class="keyword">if</span> (INSTANCE.get() == <span class="literal">null</span>) &#123;</span><br><span class="line">      INSTANCE.compareAndSet(<span class="literal">null</span>, <span class="keyword">new</span> <span class="title class_">Singleton</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> INSTANCE.get();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> ä¸å¤ªå¸¸è§çš„å®ç°æ–¹å¼ï¼Œæ›´å¤šçš„æ˜¯ç”¨ä½œè¡¨ç¤ºçŠ¶æ€ã€‚å¯¹å®ä¾‹æœ‰ä¸€å®šçš„å®¹å¿åº¦ã€‚æ— ğŸ”“è®¾è®¡ï¼Œç”±CASè‡ªæ—‹ç­‰å¾…ã€‚</p><p>æ”¹è¿›ç‰ˆæœ¬7ï¼š <strong>é”æ ¸åŸå­ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> AtomicReference&lt;Singleton&gt; INSTANCE = <span class="keyword">new</span> <span class="title class_">AtomicReference</span>&lt;&gt;();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (INSTANCE.get() == <span class="literal">null</span>) &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">      INSTANCE.compareAndSet(<span class="literal">null</span>, <span class="keyword">new</span> <span class="title class_">Singleton</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> INSTANCE.get();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> ä¸å…·æœ‰å®¹å¿åº¦çš„å•ä¾‹å®ç°ï¼Œä¸€å®šè¦å¯¹è±¡å®ä¾‹çš„å­˜åœ¨æ‰å¾€ä¸‹æ‰§è¡Œã€‚</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;å•ä¾‹æ¨¡å¼ä¸»è¦æ˜¯ä¸ºäº†é¿å…å› ä¸ºåˆ›å»ºäº†å¤šä¸ªå®ä¾‹é€ æˆèµ„æºçš„æµªè´¹ï¼Œä¸”å¤šä¸ªå®ä¾‹ç”±äºå¤šæ¬¡è°ƒç”¨å®¹æ˜“å¯¼è‡´ç»“æœå‡ºç°é”™è¯¯ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼èƒ½å¤Ÿä¿è¯æ•´ä¸ªåº”ç”¨ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/359337590fefc13016479eafc3964310fc75e006e0e1b4327142069cdb1181e8.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E4%B8%BB%E8%A6%81%E6%98%AF%E4%B8%BA%E4%BA%86%E9%81%BF%E5%85%8D%E5%9B%A0%E4%B8%BA%E5%88%9B%E5%BB%BA%E4%BA%86%E5%A4%9A%E4%B8%AA%E5%AE%9E%E4%BE%8B%E9%80%A0%E6%88%90%E8%B5%84%E6%BA%90%E7%9A%84%E6%B5%AA%E8%B4%B9%EF%BC%8C%E4%B8%94%E5%A4%9A%E4%B8%AA%E5%AE%9E%E4%BE%8B%E7%94%B1%E4%BA%8E%E5%A4%9A%E6%AC%A1%E8%B0%83%E7%94%A8%E5%AE%B9%E6%98%93%E5%AF%BC%E8%87%B4%E7%BB%93%E6%9E%9C%E5%87%BA%E7%8E%B0%E9%94%99%E8%AF%AF%EF%BC%8C%E4%BD%BF%E7%94%A8%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E8%83%BD%E5%A4%9F%E4%BF%9D%E8%AF%81%E6%95%B4%E4%B8%AA%E5%BA%94%E7%94%A8%E4%B8%AD%E6%9C%89%E4%B8%94%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BE%8B%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/359337590fefc13016479eafc3964310fc75e006e0e1b4327142069cdb1181e8.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Cul%3E%3Cli%3E%E5%AE%9A%E4%B9%89%EF%BC%9A%20%E5%8F%AA%E9%9C%80%E8%A6%81%E4%B8%89%E6%AD%A5%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BF%9D%E8%AF%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%94%AF%E4%B8%80%E6%80%A7%3Cul%3E%3Cli%3E%E7%A7%81%E6%9C%89%E5%8C%96%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%3C/li%3E%3Cli%3E%E7%B1%BB%E5%86%85%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%3C/li%3E%3Cli%3E%E5%AF%B9%E5%A4%96%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E5%8F%AF%E4%BB%A5%E8%AE%A9%E5%85%B6%E4%BB%96%E7%A8%8B%E5%BA%8F%E8%8E%B7%E5%8F%96%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95%3C/li%3E%3C/ul%3E%3C/li%3E%3C/ul%3E%3Cp%3E%E5%B8%B8%E5%B8%B8%E8%A2%AB%E7%94%A8%E4%BD%9C%E5%B7%A5%E5%85%B7%E7%B1%BB(-Util/-Helper)%E3%80%82%3C/p%3E%3Ch3%20id=%22%E9%A5%BF%E6%B1%89%E5%BC%8F%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%A5%BF%E6%B1%89%E5%BC%8F%22%3E%C2%B6%3C/a%3E%E9%A5%BF%E6%B1%89%E5%BC%8F%3C/h3%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ESingleton%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efinal%3C/span%3E%20%3Cspan%20class=%22type%22%3ESingleton%3C/span%3E%20%3Cspan%20class=%22variable%22%3EINSTANCE%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Singleton%20%3Cspan%20class=%22title%20function_%22%3EgetInstance%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20INSTANCE;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Cstrong%3E%E4%BC%98%E7%82%B9%3C/strong%3E%EF%BC%9A%E4%BB%8E%E5%AE%83%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%AD%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%EF%BC%8C%E8%BF%99%E7%A7%8D%E6%96%B9%E5%BC%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%AF%94%E8%BE%83%E7%AE%80%E5%8D%95%EF%BC%8C%E5%9C%A8%E7%B1%BB%E5%8A%A0%E8%BD%BD%E7%9A%84%E6%97%B6%E5%80%99%E5%B0%B1%E5%AE%8C%E6%88%90%E4%BA%86%E5%AE%9E%E4%BE%8B%E5%8C%96%EF%BC%8C%E9%81%BF%E5%85%8D%E4%BA%86%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98%E3%80%82%3C/p%3E%3Cp%3E%3Cstrong%3E%E7%BC%BA%E7%82%B9%3C/strong%3E%EF%BC%9A%E7%94%B1%E4%BA%8E%E5%9C%A8%E7%B1%BB%E5%8A%A0%E8%BD%BD%E7%9A%84%E6%97%B6%E5%80%99%E5%B0%B1%E5%AE%9E%E4%BE%8B%E5%8C%96%E4%BA%86%EF%BC%8C%E6%89%80%E4%BB%A5%E6%B2%A1%E6%9C%89%E8%BE%BE%E5%88%B0Lazy%20Loading(%E6%87%92%E5%8A%A0%E8%BD%BD)%E7%9A%84%E6%95%88%E6%9E%9C%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%AF%B4%E5%8F%AF%E8%83%BD%E6%88%91%E6%B2%A1%E6%9C%89%E7%94%A8%E5%88%B0%E8%BF%99%E4%B8%AA%E5%AE%9E%E4%BE%8B%EF%BC%8C%E4%BD%86%E6%98%AF%E5%AE%83%E4%B9%9F%E4%BC%9A%E5%8A%A0%E8%BD%BD%EF%BC%8C%E4%BC%9A%E9%80%A0%E6%88%90%E5%86%85%E5%AD%98%E7%9A%84%E6%B5%AA%E8%B4%B9%E3%80%82%3C/p%3E%3Ch3%20id=%22%E6%87%92%E6%B1%89%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%87%92%E6%B1%89%22%3E%C2%B6%3C/a%3E%E6%87%92%E6%B1%89%3C/h3%3E%3Cp%3E%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%87%92%E6%B1%89%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8D%95%E4%BE%8B%EF%BC%8C%E5%BB%B6%E8%BF%9F%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ESingleton%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Singleton%20instance;%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Singleton%20%3Cspan%20class=%22title%20function_%22%3EgetInstance%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(instance%20==%20%3Cspan%20class=%22literal%22%3Enull%3C/span%3E)%20&amp;#123;%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20instance%20=%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3Esingleton%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20instance;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%87%92%E6%B1%89%E6%A8%A1%E5%BC%8F.%3C/p%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%20%E8%BF%99%E9%87%8C%E7%9A%84%E7%BA%BF%E7%A8%8B%E6%98%AF%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%EF%BC%8C%E5%8F%AF%E8%83%BD%E5%BE%97%E5%88%B0%E4%B8%A4%E4%B8%AA%E4%B8%8D%E5%90%8C%E7%9A%84%E5%AE%9E%E4%BE%8B%E3%80%82%3C/p%3E%3Cp%3E%E4%BF%AE%E5%A4%8D%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%EF%BC%8C%E6%94%B9%E8%BF%9B%E7%89%88%E6%9C%AC1%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ESingleton%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Singleton%20instance;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Esynchronized%3C/span%3E%20Singleton%20%3Cspan%20class=%22title%20function_%22%3EgetInstance%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(instance%20==%20%3Cspan%20class=%22literal%22%3Enull%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20instance%20=%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20instance;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E6%87%92%E6%B1%89%E5%BC%8F%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%EF%BC%8C%E9%80%9A%E8%BF%87%3Ccode%3Esynchronized%3C/code%3E%E5%85%B3%E9%94%AE%E5%AD%97%E6%8E%A7%E5%88%B6%EF%BC%8C%E4%BD%86%E6%95%88%E7%8E%87%E4%BD%8E%EF%BC%8C%E5%9B%A0%E4%B8%BA%3Ccode%3Esynchronized%3C/code%3E%E4%BC%9A%F0%9F%94%93%E4%BD%8F%E8%AF%A5%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%3Cstrong%3E%E7%BC%BA%E7%82%B9%3C/strong%3E%EF%BC%9A%20%E6%95%88%E7%8E%87%E5%A4%AA%E4%BD%8E%E4%BA%86%EF%BC%8C%E6%AF%8F%E4%B8%AA%E7%BA%BF%E7%A8%8B%E5%9C%A8%E6%83%B3%E8%8E%B7%E5%BE%97%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B%E6%97%B6%E5%80%99%EF%BC%8C%E6%89%A7%E8%A1%8C%3Ccode%3EgetInstance()%3C/code%3E%E6%96%B9%E6%B3%95%E9%83%BD%E8%A6%81%E8%BF%9B%E8%A1%8C%E5%90%8C%E6%AD%A5%E6%93%8D%E4%BD%9C%EF%BC%8C%E8%80%8C%E5%85%B6%E5%AE%9E%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E5%8F%AA%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%B0%B1%E5%A4%9F%E4%BA%86%E3%80%82%3C/p%3E%3Cp%3E%E6%94%B9%E8%BF%9B%E7%89%88%E6%9C%AC2%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ESingleton%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Singleton%20instance;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Singleton%20%3Cspan%20class=%22title%20function_%22%3EgetInstance%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(instance%20==%20%3Cspan%20class=%22literal%22%3Enull%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Esynchronized%3C/span%3E%20(Singleton.class)%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20instance%20=%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20instance;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E7%BA%BF%E7%A8%8B%E4%B8%8D%E5%AE%89%E5%85%A8%EF%BC%8C%E4%B8%8D%E5%8F%AF%E7%94%A8%E3%80%82%E8%99%BD%E7%84%B6%E5%8A%A0%E4%BA%86%F0%9F%94%93%EF%BC%8C%E4%BD%86%E6%B3%A8%E6%84%8F%E8%BF%99%E9%87%8C%E9%94%81%E7%9A%84%E6%98%AF%E8%AF%A5%E7%B1%BB%EF%BC%8C%E4%B8%8D%E6%98%AF%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B%E3%80%82%E7%AD%89%E5%88%B0%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%BA%BF%E7%A8%8B%E6%89%A7%E8%A1%8C%E5%AE%8C%3Ccode%3Einstance%20=%20new%20Singleton()%3C/code%3E%E8%B7%B3%E5%87%BA%E8%BF%99%E4%B8%AA%F0%9F%94%93%E6%97%B6%EF%BC%8C%E5%8F%A6%E4%B8%80%E4%B8%AA%E8%BF%9B%E5%85%A5%3Ccode%3Eif%3C/code%3E%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%A0%B7%E4%BC%9A%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%8F%A6%E5%A4%96%E4%B8%80%E4%B8%AASingleton%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E6%94%B9%E8%BF%9B%E7%89%88%E6%9C%AC3%EF%BC%9A%20%E5%8F%8C%E9%87%8D%E6%A0%A1%E9%AA%8C%F0%9F%94%93%EF%BC%8C%E6%96%B0%E7%89%88jvm%E4%B8%8D%E5%86%8D%E6%8E%A8%E8%8D%90%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ESingleton%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Singleton%20instance;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efinal%3C/span%3E%20%3Cspan%20class=%22type%22%3EObject%3C/span%3E%20%3Cspan%20class=%22variable%22%3EMUTEX%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EObject%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Singleton%20%3Cspan%20class=%22title%20function_%22%3EgetInstance%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(instance%20==%20%3Cspan%20class=%22literal%22%3Enull%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Esynchronized%3C/span%3E%20(MUTEX)%20&amp;#123;%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(instance%20==%20%3Cspan%20class=%22literal%22%3Enull%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20instance%20=%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20instance;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%8F%8C%E9%87%8D%E6%A0%A1%E9%AA%8C%E9%94%81(Double-checked%20locking)%EF%BC%8C%E4%B8%8D%E5%86%8D%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%8F%82%E8%80%83%3Ca%20href=%22https:/cwe.mitre.org/data/definitions/609%22%3Ecwe-609%3C/a%3E%E3%80%82%3C/p%3E%3Cp%3E%E6%94%B9%E8%BF%9B%E7%89%88%E6%9C%AC4%EF%BC%9A%20%3Cstrong%3E%E5%86%85%E9%83%A8%E7%B1%BB%3C/strong%3E%E5%86%99%E6%B3%95%E3%80%90%E6%8E%A8%E8%8D%90%E3%80%91%E3%80%82%E4%B9%9F%E6%98%AF%E5%85%B6%E4%BB%96jvm%E8%A1%8D%E7%94%9F%E8%AF%AD%E8%A8%80%E7%9A%84%E8%AF%AD%E6%B3%95%E7%B3%96%EF%BC%8C%E8%AD%AC%E5%A6%82kotlin/scala/groovy%E7%9A%84%3Ccode%3Eobject%3C/code%3E%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Singleton%20%3Cspan%20class=%22title%20function_%22%3EgetInstance%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20SingletonHolder.INSTANCE;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingletonHolder%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efinal%3C/span%3E%20%3Cspan%20class=%22type%22%3ESingleton%3C/span%3E%20%3Cspan%20class=%22variable%22%3EINSTANCE%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%86%85%E9%83%A8%E7%B1%BB%E4%BC%9A%E8%A2%AB%E5%BB%B6%E8%BF%9F%E6%9E%84%E5%BB%BA%E3%80%82%3C/p%3E%3Cp%3E%3Cstrong%3E%E4%BC%98%E7%82%B9%3C/strong%3E:%20%E9%81%BF%E5%85%8D%E4%BA%86%E7%BA%BF%E7%A8%8B%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E5%87%BA%E7%8E%B0%EF%BC%8C%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD%EF%BC%8C%E6%95%88%E7%8E%87%E9%AB%98%E3%80%82%3C/p%3E%3Cp%3E%E6%94%B9%E8%BF%9B%E7%89%88%E6%9C%AC5%EF%BC%9A%20%3Cstrong%3E%E6%9E%9A%E4%B8%BE%3C/strong%3E%E3%80%90%E6%8E%A8%E8%8D%90%E3%80%91%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20INSTANCE;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ESingleton%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%80%9F%E5%8A%A9JDK1.5%E4%B8%AD%E6%B7%BB%E5%8A%A0%E7%9A%84%E6%9E%9A%E4%B8%BE%E6%9D%A5%E5%AE%9E%E7%8E%B0%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E3%80%82%E4%B8%8D%E4%BB%85%E8%83%BD%E9%81%BF%E5%85%8D%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98%EF%BC%8C%E8%80%8C%E4%B8%94%E8%BF%98%E8%83%BD%E9%98%B2%E6%AD%A2%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E9%87%8D%E6%96%B0%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E6%94%B9%E8%BF%9B%E7%89%88%E6%9C%AC6%EF%BC%9A%20%3Cstrong%3E%E5%8E%9F%E5%AD%90%E7%B1%BB%3C/strong%3E%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ESingleton%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efinal%3C/span%3E%20AtomicReference&amp;lt;Singleton&amp;gt;%20INSTANCE%20=%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAtomicReference%3C/span%3E&amp;lt;&amp;gt;();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Singleton%20%3Cspan%20class=%22title%20function_%22%3EgetInstance%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(INSTANCE.get()%20==%20%3Cspan%20class=%22literal%22%3Enull%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20INSTANCE.compareAndSet(%3Cspan%20class=%22literal%22%3Enull%3C/span%3E,%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20INSTANCE.get();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E4%B8%8D%E5%A4%AA%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%9B%B4%E5%A4%9A%E7%9A%84%E6%98%AF%E7%94%A8%E4%BD%9C%E8%A1%A8%E7%A4%BA%E7%8A%B6%E6%80%81%E3%80%82%E5%AF%B9%E5%AE%9E%E4%BE%8B%E6%9C%89%E4%B8%80%E5%AE%9A%E7%9A%84%E5%AE%B9%E5%BF%8D%E5%BA%A6%E3%80%82%E6%97%A0%F0%9F%94%93%E8%AE%BE%E8%AE%A1%EF%BC%8C%E7%94%B1CAS%E8%87%AA%E6%97%8B%E7%AD%89%E5%BE%85%E3%80%82%3C/p%3E%3Cp%3E%E6%94%B9%E8%BF%9B%E7%89%88%E6%9C%AC7%EF%BC%9A%20%3Cstrong%3E%E9%94%81%E6%A0%B8%E5%8E%9F%E5%AD%90%E7%B1%BB%3C/strong%3E%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ESingleton%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efinal%3C/span%3E%20AtomicReference&amp;lt;Singleton&amp;gt;%20INSTANCE%20=%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAtomicReference%3C/span%3E&amp;lt;&amp;gt;();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Singleton%20%3Cspan%20class=%22title%20function_%22%3EgetInstance%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ewhile%3C/span%3E%20(INSTANCE.get()%20==%20%3Cspan%20class=%22literal%22%3Enull%3C/span%3E)%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20INSTANCE.compareAndSet(%3Cspan%20class=%22literal%22%3Enull%3C/span%3E,%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESingleton%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20INSTANCE.get();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E4%B8%8D%E5%85%B7%E6%9C%89%E5%AE%B9%E5%BF%8D%E5%BA%A6%E7%9A%84%E5%8D%95%E4%BE%8B%E5%AE%9E%E7%8E%B0%EF%BC%8C%E4%B8%80%E5%AE%9A%E8%A6%81%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%AD%98%E5%9C%A8%E6%89%8D%E5%BE%80%E4%B8%8B%E6%89%A7%E8%A1%8C%E3%80%82%3C/p%3E" type="image"/>
    
    
    
    <category term="creational" scheme="https://galudisu.info/tags/creational/"/>
    
    <category term="singleton" scheme="https://galudisu.info/tags/singleton/"/>
    
  </entry>
  
  <entry>
    <title>Design Pattern</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/Design-Pattern/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/Design-Pattern/</id>
    <published>2025-05-10T09:01:40.000Z</published>
    <updated>2025-05-11T16:16:24.580Z</updated>
    
    <content type="html"><![CDATA[<p>è®¾è®¡æ¨¡å¼(Design Pattern)æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨ã€å¤šæ•°äººçŸ¥æ™“çš„ï¼Œç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚</p><p>è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼Œå…±23ç§ï¼š</p><ul><li>åˆ›å»ºå‹æ¨¡å¼ï¼š <a href="/2025/05/10/pattern/basic/creational/Singleton/">å•ä¾‹æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/creational/Factory/#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern">æŠ½è±¡å·¥å‚æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/creational/Builder">å»ºé€ è€…æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/creational/Factory/">å·¥å‚æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/creational/Prototype/">åŸå‹æ¨¡å¼</a>ã€‚</li><li>ç»“æ„å‹æ¨¡å¼ï¼š <a href="/2025/05/10/pattern/basic/structural/Adapter/">é€‚é…å™¨æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/structural/Bridge">æ¡¥æ¥æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/structural/Decorator">è£…é¥°æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/structural/Composite">ç»„åˆæ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/structural/Facade">å¤–è§‚æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/structural/Flyweight">äº«å…ƒæ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/structural/Proxy">ä»£ç†æ¨¡å¼</a>ã€‚</li><li>è¡Œä¸ºå‹æ¨¡å¼ï¼š <a href="/2025/05/10/pattern/basic/behavioral/TemplateMethod">æ¨¡æ¿æ–¹æ³•æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/behavioral/Command">å‘½ä»¤æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/behavioral/Iterator">è¿­ä»£å™¨æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/behavioral/Observer">è§‚å¯Ÿè€…æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/behavioral/Mediator">ä¸­ä»‹è€…æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/behavioral/Memento">å¤‡å¿˜å½•æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/behavioral/Interpreter">è§£æå™¨æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/behavioral/State">çŠ¶æ€æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/behavioral/Strategy">ç­–ç•¥æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/behavioral/ChainOfResponsibility">è´£ä»»é“¾æ¨¡å¼</a>ã€<a href="/2025/05/10/pattern/basic/behavioral/Visitor">è®¿é—®è€…æ¨¡å¼</a>ã€‚</li></ul><span id="more"></span>]]></content>
    
    
    <summary type="html">&lt;p&gt;è®¾è®¡æ¨¡å¼(Design Pattern)æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨ã€å¤šæ•°äººçŸ¥æ™“çš„ï¼Œç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚&lt;/p&gt;
&lt;p&gt;è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼Œå…±23ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºå‹æ¨¡å¼ï¼š &lt;a href=&quot;/2025/05/10/pattern/basic/creational/Singleton/&quot;&gt;å•ä¾‹æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/creational/Factory/#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern&quot;&gt;æŠ½è±¡å·¥å‚æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/creational/Builder&quot;&gt;å»ºé€ è€…æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/creational/Factory/&quot;&gt;å·¥å‚æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/creational/Prototype/&quot;&gt;åŸå‹æ¨¡å¼&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç»“æ„å‹æ¨¡å¼ï¼š &lt;a href=&quot;/2025/05/10/pattern/basic/structural/Adapter/&quot;&gt;é€‚é…å™¨æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/structural/Bridge&quot;&gt;æ¡¥æ¥æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/structural/Decorator&quot;&gt;è£…é¥°æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/structural/Composite&quot;&gt;ç»„åˆæ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/structural/Facade&quot;&gt;å¤–è§‚æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/structural/Flyweight&quot;&gt;äº«å…ƒæ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/structural/Proxy&quot;&gt;ä»£ç†æ¨¡å¼&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è¡Œä¸ºå‹æ¨¡å¼ï¼š &lt;a href=&quot;/2025/05/10/pattern/basic/behavioral/TemplateMethod&quot;&gt;æ¨¡æ¿æ–¹æ³•æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/behavioral/Command&quot;&gt;å‘½ä»¤æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/behavioral/Iterator&quot;&gt;è¿­ä»£å™¨æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/behavioral/Observer&quot;&gt;è§‚å¯Ÿè€…æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/behavioral/Mediator&quot;&gt;ä¸­ä»‹è€…æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/behavioral/Memento&quot;&gt;å¤‡å¿˜å½•æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/behavioral/Interpreter&quot;&gt;è§£æå™¨æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/behavioral/State&quot;&gt;çŠ¶æ€æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/behavioral/Strategy&quot;&gt;ç­–ç•¥æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/behavioral/ChainOfResponsibility&quot;&gt;è´£ä»»é“¾æ¨¡å¼&lt;/a&gt;ã€&lt;a href=&quot;/2025/05/10/pattern/basic/behavioral/Visitor&quot;&gt;è®¿é—®è€…æ¨¡å¼&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cp%3E%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F(Design%20Pattern)%E6%98%AF%E4%B8%80%E5%A5%97%E8%A2%AB%E5%8F%8D%E5%A4%8D%E4%BD%BF%E7%94%A8%E3%80%81%E5%A4%9A%E6%95%B0%E4%BA%BA%E7%9F%A5%E6%99%93%E7%9A%84%EF%BC%8C%E7%BB%8F%E8%BF%87%E5%88%86%E7%B1%BB%E7%BC%96%E7%9B%AE%E7%9A%84%E3%80%81%E4%BB%A3%E7%A0%81%E8%AE%BE%E8%AE%A1%E7%BB%8F%E9%AA%8C%E7%9A%84%E6%80%BB%E7%BB%93%E3%80%82%3C/p%3E%3Cp%3E%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%88%86%E4%B8%BA%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%85%B123%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F%EF%BC%9A%20%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Singleton/%22%3E%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Factory/#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern%22%3E%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Builder%22%3E%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Factory/%22%3E%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Prototype/%22%3E%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%82%3C/li%3E%3Cli%3E%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F%EF%BC%9A%20%3Ca%20href=%22/2025/05/10/pattern/basic/structural/Adapter/%22%3E%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/structural/Bridge%22%3E%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/structural/Decorator%22%3E%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/structural/Composite%22%3E%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/structural/Facade%22%3E%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/structural/Flyweight%22%3E%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/structural/Proxy%22%3E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%82%3C/li%3E%3Cli%3E%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F%EF%BC%9A%20%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/TemplateMethod%22%3E%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/Command%22%3E%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/Iterator%22%3E%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/Observer%22%3E%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/Mediator%22%3E%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/Memento%22%3E%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/Interpreter%22%3E%E8%A7%A3%E6%9E%90%E5%99%A8%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/State%22%3E%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/Strategy%22%3E%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/ChainOfResponsibility%22%3E%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%81%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/Visitor%22%3E%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F%3C/a%3E%E3%80%82%3C/li%3E%3C/ul%3E%3Cspan%20id=%22more%22%3E%3C/span%3E" type="image"/>
    
    
    
    <category term="creational" scheme="https://galudisu.info/tags/creational/"/>
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
  </entry>
  
  <entry>
    <title>Pekko in Kubernetes, application level solution for Digital Transformation</title>
    <link href="https://galudisu.info/2024/06/13/pekko/pekko-in-kubernetes-for-coap/"/>
    <id>https://galudisu.info/2024/06/13/pekko/pekko-in-kubernetes-for-coap/</id>
    <published>2024-06-13T02:44:59.000Z</published>
    <updated>2025-04-27T11:59:08.279Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Digital-Reform"><a class="header-anchor" href="#Digital-Reform">Â¶</a>Digital Reform</h2><p>There was a vary circumstances from digital governance, industry, manufacture and medicine, and the booming of<br>new business models has stimulated enterprises to accelerate <strong>digital transformation</strong> for better company management<br>and customer service, which further promotes the upgrading and optimization of the Chinese digital economy.</p><span id="more"></span><h2 id="Solution-Cloud-Native"><a class="header-anchor" href="#Solution-Cloud-Native">Â¶</a>Solution - Cloud Native</h2><p>Whatâ€™s internet essentially?</p><blockquote><p>ç§»åŠ¨äº’è”ç½‘ç»œåº”è¯¥æ˜¯<br>ä¸€ä¸ªå¼‚æ­¥çš„ç”±äº‹ä»¶æµé©±åŠ¨çš„å·¨å¤§çš„çŠ¶æ€æœº</p></blockquote><p>There are many reason that we are migrating business service into Cloud Native. One of most important reason is that we<br>need to reduce our costs. Furthermore, as our productivity increases, we will have a vision on the IoT service.</p><p><img src="iot-visable.png" alt="Facets of design in IoT-a good product requires integrated thinking across all of these"></p><p>the digital reform indicate that in the future, the connected things shall be self-diagnosis, reliable, lower-bandwidth,<br>low-carbon, more intelligent, and have a better version management.</p><h2 id="Why-Pekko-if-you-have-kubernetes"><a class="header-anchor" href="#Why-Pekko-if-you-have-kubernetes">Â¶</a>Why Pekko if you have kubernetes?</h2><blockquote><p>Kubernetes is not the application layer.</p></blockquote><p>As we know, K8S is covering the cluster orchestration, supporting auto-scaling and resilience on the nodes or the pods<br>level.</p><p>How the auto-scaling and self-healing will be handled within the application instances or node?</p><p>Kubernetes will not be able to help with that, another layer such as Pekko need to look after the application<br>communication, remoting, concurrency &amp; parallel processing, responding to application failure, implementing resilience<br>design patterns such as bulk-heading and circuit-breakers on the application node level.</p><p>Non-function design in Kubernetes is stupid, such like GEO-Red, distributed-lock for business, transactions, entity-id<br>tracing, overload protect, data desensitization, Monitoringâ€¦ etc.</p><p>In short, Kubernetes is looking after elasticity, auto-scaling and resilience outside the nodes while Pekko and other<br>reactive application tools are looking after those within the application layer and the nodes.</p><p>After all, Kubernetes will not be able to fix a poorly designed application that is prone to failure and lacking<br>resilience and elasticity.</p><p>We need a <strong>REAL</strong> <a href="https://www.reactivemanifesto.org/">reactive manifesto</a> application, and below Lightbend diagrams<br>help with understanding the concept:</p><p><img src="pekko-cloud.png" alt="Cloud Native"></p><p><img src="pekko-pod.png" alt="Cloud Pekko"></p><p>So, how to build stateful, resilient and responsive applications in the Cloud?</p><h2 id="Sharding-your-X"><a class="header-anchor" href="#Sharding-your-X">Â¶</a>Sharding your X</h2><h2 id="Pekko-roles-as-Kubernetes-resource-mapping"><a class="header-anchor" href="#Pekko-roles-as-Kubernetes-resource-mapping">Â¶</a>Pekko roles as Kubernetes resource mapping</h2><p>We use both Kubernetes Statefulset and Deployment. As we can use Statefulset for the seed nodes, mark as role <code>seed</code>,<br>and Deployment for scaling out worker nodes, marks role <code>worker</code>. In this way, we can maintaion stable and ordered DNS<br>names for the seed nodes, while retain the ability to start multiple Pekko nodes in parallel when scale with<br>Deployment.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  seeds  : Statefulset</span><br><span class="line">  workers: Deployment</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="Gossip.png" alt=""></p><p>We will setup env from Kubernetes and deliver into <code>application.conf</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">cluster &#123;</span><br><span class="line">  # This can also be defined as Java system properties when starting the JVM using the following syntax:</span><br><span class="line">  #</span><br><span class="line">  # -Dpekko.cluster.seed-nodes.0=pekko://Pekko@seed1:2551</span><br><span class="line">  # -Dpekko.cluster.seed-nodes.1=pekko://Pekko@seed2:2551</span><br><span class="line">  #</span><br><span class="line">  seed-nodes = [</span><br><span class="line">    &quot;pekko://Pekko@127.0.0.1:2551&quot;,</span><br><span class="line">    &quot;pekko://Pekko@127.0.0.1:2552&quot;]</span><br><span class="line">  seed-nodes = $&#123;?SEED_NODES&#125;</span><br><span class="line">  roles = [&quot;seed&quot;, &quot;sharding&quot;]</span><br><span class="line">  roles = $&#123;?ROLES&#125;</span><br><span class="line">  sharding.role = &quot;sharding&quot;</span><br><span class="line">  sharding.role = $&#123;?SHARDING_ROLE&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Statefulset-for-entry-seeds"><a class="header-anchor" href="#Statefulset-for-entry-seeds">Â¶</a>Statefulset for entry -&gt; seeds</h3><p>especially, mTLS in istio. We will map it for traffic entries as a headless service. And the <code>seed</code>-ed service wonâ€™t<br>do anything. The resource definition looks like a regular service, but clusterIP set to None:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line"> <span class="attr">name:</span> <span class="string">pekko-seed</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">2551</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">2551</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">5684</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">UDP</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">5684</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">pekko-seed</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="string">None</span></span><br></pre></td></tr></table></figure><p>Every Pekko seed node instance in the Statefulset can be addressed via DNS as <code>$&#123;SEED_NODE_NAME&#125;.pekko-seed</code>.</p><p>Then, create Statefulset of seed nodes:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">StatefulSet</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">pekko-seed</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pekko-seed</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">serviceName:</span> <span class="string">pekko-seed</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">pekko-seed</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">pekko-seed</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">pekko-seed</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">localhost:32000/pekko-jdk17-slim:latest</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">POD_NAME</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">fieldRef:</span></span><br><span class="line">              <span class="attr">fieldPath:</span> <span class="string">metadata.name</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SEED_NODES.0</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">pekko://Pekko@pekko-seed-0.pekko-seed:2551</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SEED_NODES.1</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">pekko://Pekko@pekko-seed-1.pekko-seed:2551</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">ROLES.0</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">seed</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SHARDING_ROLE</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">sharding</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">HOST_NAME</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">$(POD_NAME).kaxis-seed</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">HOST_PORT</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">&quot;4684&quot;</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;HOST_NAME=$&#123;POD_NAME&#125;.pekko-seed java -jar /app/app.jar&quot;</span>]</span><br><span class="line">        <span class="attr">livenessProbe:</span></span><br><span class="line">          <span class="attr">tcpSocket:</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">2551</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">2551</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">5684</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">UDP</span></span><br></pre></td></tr></table></figure><p>First of all, every seed node will have a stable name (e.g. pekko-seed-0, pekko-ssed-1). This name is known as the<br>Kubernetes pod name. And then use it to construct the addressable DNS name, such as <code>pekko-seed-0.pekko-seed</code>.</p><p>Once deployment the Pekko seed nodes:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f pekko-seeds.yaml</span><br></pre></td></tr></table></figure><p>We will seed the seeds that were created sequentially:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods</span><br><span class="line">NAME                          READY     STATUS    RESTARTS   AGE</span><br><span class="line">pekko-seed-0                   1/1       Running   0          15h</span><br><span class="line">pekko-seed-1                   1/1       Running   0          15h</span><br></pre></td></tr></table></figure><p>As mentioned before, the seed nodes wonâ€™t do anything, below diagram show it just play the role for traffic transform,<br>cluster communication and cluster init.</p><p>This part is very-very important!! for vary business service, such like coap, diameter protocol based on udp that<br>Kubernetes doesnâ€™t provide a full-stack support for loadbalancer.</p><h3 id="Deployment-for-loadbancer-workers"><a class="header-anchor" href="#Deployment-for-loadbancer-workers">Â¶</a>Deployment for loadbancer -&gt; workers</h3><p>Next, deploy the worker nodes using Deployment. It use the Downward API to assign the Pod IP address as te Pekko nodeâ€™s<br>hostname.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pekko-worker</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">pekko-worker</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">pekko-worker</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">terminationGracePeriodSeconds:</span> <span class="number">10</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">pekko-worker</span></span><br><span class="line">          <span class="attr">image:</span> <span class="string">localhost:32000/pekko-jdk17-slim:latest</span></span><br><span class="line">          <span class="attr">imagePullPolicy:</span> <span class="string">Always</span></span><br><span class="line">          <span class="attr">resources:</span></span><br><span class="line">            <span class="attr">requests:</span></span><br><span class="line">              <span class="attr">memory:</span> <span class="string">&quot;1Gi&quot;</span></span><br><span class="line">              <span class="attr">cpu:</span> <span class="string">&quot;250m&quot;</span></span><br><span class="line">            <span class="attr">limits:</span></span><br><span class="line">              <span class="attr">memory:</span> <span class="string">&quot;2Gi&quot;</span></span><br><span class="line">              <span class="attr">cpu:</span> <span class="string">&quot;500m&quot;</span></span><br><span class="line">          <span class="attr">env:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">POD_NAME</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">fieldRef:</span></span><br><span class="line">                  <span class="attr">fieldPath:</span> <span class="string">status.podIP</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SEED_NODES.0</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">pekko://Pekko@pekko-seed-0.pekko-seed:4684</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SEED_NODES.1</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">pekko://Pekko@pekko-seed-1.pekko-seed:4684</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">ROLES.0</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">sharding</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SHARDING_ROLE</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">sharding</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">HOST_NAME</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;$(POD_NAME)&quot;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">HOST_PORT</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;4684&quot;</span></span><br><span class="line">          <span class="attr">livenessProbe:</span></span><br><span class="line">            <span class="attr">httpGet:</span></span><br><span class="line">              <span class="attr">port:</span> <span class="number">6684</span></span><br><span class="line">              <span class="attr">path:</span> <span class="string">health/alive</span></span><br><span class="line">            <span class="attr">initialDelaySeconds:</span> <span class="number">30</span></span><br><span class="line">            <span class="attr">periodSeconds:</span> <span class="number">20</span></span><br><span class="line">          <span class="attr">readinessProbe:</span></span><br><span class="line">            <span class="attr">httpGet:</span></span><br><span class="line">              <span class="attr">port:</span> <span class="number">6684</span></span><br><span class="line">              <span class="attr">path:</span> <span class="string">health/ready</span></span><br><span class="line">            <span class="attr">initialDelaySeconds:</span> <span class="number">30</span></span><br><span class="line">            <span class="attr">periodSeconds:</span> <span class="number">20</span></span><br><span class="line">          <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">5684</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">tcp-udp</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">4684</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">http-gossip</span></span><br><span class="line">      <span class="attr">dnsPolicy:</span> <span class="string">ClusterFirst</span></span><br><span class="line">      <span class="attr">imagePullSecrets:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">regcred</span></span><br></pre></td></tr></table></figure><p>Once deloyed, you can validate that all nodes are up and running:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">kubectl get pods</span></span><br><span class="line">NAME                           READY     STATUS    RESTARTS   AGE</span><br><span class="line">pekko-seed-0                    1/1       Running   0          8s</span><br><span class="line">pekko-seed-1                    1/1       Running   0          6s</span><br><span class="line">pekko-worker-2263404214-8c266   1/1       Running   0          8s</span><br><span class="line">pekko-worker-2263404214-9ws3k   1/1       Running   0          8s</span><br><span class="line">pekko-worker-2263404214-f2tp3   1/1       Running   0          8s</span><br><span class="line">pekko-worker-2263404214-lkvz3   1/1       Running   0          8s</span><br></pre></td></tr></table></figure><p>You can validate that the nodes have joined the cluster by inspecting the logs of any of the Pekko nodes. For<br>example, to tail the first seed nodeâ€™s log:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">kubect logs -f pekko-seed-0</span><br><span class="line">[INFO] [02/12/2017 15:36:53.568] [main] [pekko.remote.Remoting] Starting remoting</span><br><span class="line">[INFO] [02/12/2017 15:36:53.707] [main] [pekko.remote.Remoting] Remoting started; listening on addresses :[pekko.tcp://Pekko@pekko-seed-0.akka-seed:2551]</span><br><span class="line">...</span><br><span class="line">[INFO] [02/12/2017 15:37:05.101] [ClusterSystem-pekko.actor.default-dispatcher-16] [pekko.cluster.Cluster(pekko://ClusterSystem)] Cluster Node [pekko.tcp://Pekko@pekko-seed-0.pekko-seed:2551] - Node [pekko.tcp://Pekko@pekko-seed-1.pekko-seed:2551] is JOINING, roles []</span><br><span class="line">[INFO] [02/12/2017 15:37:06.854] [ClusterSystem-pekko.actor.default-dispatcher-16] [pekko://ClusterSystem/user/$a] Member is Up: Member(address = akka.tcp://Pekko@10.44.2.10:2551, status = Up)</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>Also, you can simply attach Kubernetes HPA:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: autoscaling/v1</span><br><span class="line">kind: HorizontalPodAutoscaler</span><br><span class="line">metadata:</span><br><span class="line">  name: pekko-worker</span><br><span class="line">spec:</span><br><span class="line">  maxReplicas: 3</span><br><span class="line">  minReplicas: 1</span><br><span class="line">  scaleTargetRef:</span><br><span class="line">    apiVersion: apps/v1</span><br><span class="line">    kind: Deployment</span><br><span class="line">    name: pekko-worker</span><br><span class="line">  targetCPUUtilizationPercentage: 15</span><br></pre></td></tr></table></figure><h2 id="Health-check"><a class="header-anchor" href="#Health-check">Â¶</a>Health check</h2><p>Pekko already implementation cluster health check management:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">management</span></span><br><span class="line">management &#123;</span><br><span class="line">  http.hostname = 127.0.0.1</span><br><span class="line">  http.hostname = $&#123;?HOST_NAME&#125;</span><br><span class="line">  http.bind-hostname = 0.0.0.0</span><br><span class="line">  http.bind-hostname = $&#123;?HOST_NAME&#125;</span><br><span class="line">  health-checks &#123;</span><br><span class="line">    readiness-path = &quot;health/ready&quot;</span><br><span class="line">    liveness-path = &quot;health/alive&quot;</span><br><span class="line">    readiness-checks &#123;</span><br><span class="line">      # Default health check for cluster.</span><br><span class="line">      cluster-membership = &quot;org.apache.pekko.management.cluster.javadsl.ClusterMembershipCheck&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Summary"><a class="header-anchor" href="#Summary">Â¶</a>Summary</h2><p>Please check my own repo in <a href="https://github.com/barudisshu/kaxis">GitHub</a>, if you need more investigate.</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;Digital-Reform&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#Digital-Reform&quot;&gt;Â¶&lt;/a&gt;Digital Reform&lt;/h2&gt;
&lt;p&gt;There was a vary circumstances from digital governance, industry, manufacture and medicine, and the booming of&lt;br&gt;
new business models has stimulated enterprises to accelerate &lt;strong&gt;digital transformation&lt;/strong&gt; for better company management&lt;br&gt;
and customer service, which further promotes the upgrading and optimization of the Chinese digital economy.&lt;/p&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Ch2%20id=%22Digital-Reform%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Digital-Reform%22%3E%C2%B6%3C/a%3EDigital%20Reform%3C/h2%3E%3Cp%3EThere%20was%20a%20vary%20circumstances%20from%20digital%20governance,%20industry,%20manufacture%20and%20medicine,%20and%20the%20booming%20of%3Cbr%3Enew%20business%20models%20has%20stimulated%20enterprises%20to%20accelerate%20%3Cstrong%3Edigital%20transformation%3C/strong%3E%20for%20better%20company%20management%3Cbr%3Eand%20customer%20service,%20which%20further%20promotes%20the%20upgrading%20and%20optimization%20of%20the%20Chinese%20digital%20economy.%3C/p%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch2%20id=%22Solution-Cloud-Native%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Solution-Cloud-Native%22%3E%C2%B6%3C/a%3ESolution%20-%20Cloud%20Native%3C/h2%3E%3Cp%3EWhat%E2%80%99s%20internet%20essentially?%3C/p%3E%3Cblockquote%3E%3Cp%3E%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%9C%E5%BA%94%E8%AF%A5%E6%98%AF%3Cbr%3E%E4%B8%80%E4%B8%AA%E5%BC%82%E6%AD%A5%E7%9A%84%E7%94%B1%E4%BA%8B%E4%BB%B6%E6%B5%81%E9%A9%B1%E5%8A%A8%E7%9A%84%E5%B7%A8%E5%A4%A7%E7%9A%84%E7%8A%B6%E6%80%81%E6%9C%BA%3C/p%3E%3C/blockquote%3E%3Cp%3EThere%20are%20many%20reason%20that%20we%20are%20migrating%20business%20service%20into%20Cloud%20Native.%20One%20of%20most%20important%20reason%20is%20that%20we%3Cbr%3Eneed%20to%20reduce%20our%20costs.%20Furthermore,%20as%20our%20productivity%20increases,%20we%20will%20have%20a%20vision%20on%20the%20IoT%20service.%3C/p%3E%3Cp%3E%3Cimg%20src=%22iot-visable.png%22%20alt=%22Facets%20of%20design%20in%20IoT-a%20good%20product%20requires%20integrated%20thinking%20across%20all%20of%20these%22%3E%3C/p%3E%3Cp%3Ethe%20digital%20reform%20indicate%20that%20in%20the%20future,%20the%20connected%20things%20shall%20be%20self-diagnosis,%20reliable,%20lower-bandwidth,%3Cbr%3Elow-carbon,%20more%20intelligent,%20and%20have%20a%20better%20version%20management.%3C/p%3E%3Ch2%20id=%22Why-Pekko-if-you-have-kubernetes%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Why-Pekko-if-you-have-kubernetes%22%3E%C2%B6%3C/a%3EWhy%20Pekko%20if%20you%20have%20kubernetes?%3C/h2%3E%3Cblockquote%3E%3Cp%3EKubernetes%20is%20not%20the%20application%20layer.%3C/p%3E%3C/blockquote%3E%3Cp%3EAs%20we%20know,%20K8S%20is%20covering%20the%20cluster%20orchestration,%20supporting%20auto-scaling%20and%20resilience%20on%20the%20nodes%20or%20the%20pods%3Cbr%3Elevel.%3C/p%3E%3Cp%3EHow%20the%20auto-scaling%20and%20self-healing%20will%20be%20handled%20within%20the%20application%20instances%20or%20node?%3C/p%3E%3Cp%3EKubernetes%20will%20not%20be%20able%20to%20help%20with%20that,%20another%20layer%20such%20as%20Pekko%20need%20to%20look%20after%20the%20application%3Cbr%3Ecommunication,%20remoting,%20concurrency%20&amp;amp;%20parallel%20processing,%20responding%20to%20application%20failure,%20implementing%20resilience%3Cbr%3Edesign%20patterns%20such%20as%20bulk-heading%20and%20circuit-breakers%20on%20the%20application%20node%20level.%3C/p%3E%3Cp%3ENon-function%20design%20in%20Kubernetes%20is%20stupid,%20such%20like%20GEO-Red,%20distributed-lock%20for%20business,%20transactions,%20entity-id%3Cbr%3Etracing,%20overload%20protect,%20data%20desensitization,%20Monitoring%E2%80%A6%20etc.%3C/p%3E%3Cp%3EIn%20short,%20Kubernetes%20is%20looking%20after%20elasticity,%20auto-scaling%20and%20resilience%20outside%20the%20nodes%20while%20Pekko%20and%20other%3Cbr%3Ereactive%20application%20tools%20are%20looking%20after%20those%20within%20the%20application%20layer%20and%20the%20nodes.%3C/p%3E%3Cp%3EAfter%20all,%20Kubernetes%20will%20not%20be%20able%20to%20fix%20a%20poorly%20designed%20application%20that%20is%20prone%20to%20failure%20and%20lacking%3Cbr%3Eresilience%20and%20elasticity.%3C/p%3E%3Cp%3EWe%20need%20a%20%3Cstrong%3EREAL%3C/strong%3E%20%3Ca%20href=%22https:/www.reactivemanifesto.org/%22%3Ereactive%20manifesto%3C/a%3E%20application,%20and%20below%20Lightbend%20diagrams%3Cbr%3Ehelp%20with%20understanding%20the%20concept:%3C/p%3E%3Cp%3E%3Cimg%20src=%22pekko-cloud.png%22%20alt=%22Cloud%20Native%22%3E%3C/p%3E%3Cp%3E%3Cimg%20src=%22pekko-pod.png%22%20alt=%22Cloud%20Pekko%22%3E%3C/p%3E%3Cp%3ESo,%20how%20to%20build%20stateful,%20resilient%20and%20responsive%20applications%20in%20the%20Cloud?%3C/p%3E%3Ch2%20id=%22Sharding-your-X%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Sharding-your-X%22%3E%C2%B6%3C/a%3ESharding%20your%20X%3C/h2%3E%3Ch2%20id=%22Pekko-roles-as-Kubernetes-resource-mapping%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Pekko-roles-as-Kubernetes-resource-mapping%22%3E%C2%B6%3C/a%3EPekko%20roles%20as%20Kubernetes%20resource%20mapping%3C/h2%3E%3Cp%3EWe%20use%20both%20Kubernetes%20Statefulset%20and%20Deployment.%20As%20we%20can%20use%20Statefulset%20for%20the%20seed%20nodes,%20mark%20as%20role%20%3Ccode%3Eseed%3C/code%3E,%3Cbr%3Eand%20Deployment%20for%20scaling%20out%20worker%20nodes,%20marks%20role%20%3Ccode%3Eworker%3C/code%3E.%20In%20this%20way,%20we%20can%20maintaion%20stable%20and%20ordered%20DNS%3Cbr%3Enames%20for%20the%20seed%20nodes,%20while%20retain%20the%20ability%20to%20start%20multiple%20Pekko%20nodes%20in%20parallel%20when%20scale%20with%3Cbr%3EDeployment.%3C/p%3E%3Cfigure%20class=%22highlight%20plaintext%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20seeds%20%20:%20Statefulset%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20workers:%20Deployment%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Cimg%20src=%22Gossip.png%22%20alt=%22%22%3E%3C/p%3E%3Cp%3EWe%20will%20setup%20env%20from%20Kubernetes%20and%20deliver%20into%20%3Ccode%3Eapplication.conf%3C/code%3E%3C/p%3E%3Cfigure%20class=%22highlight%20plaintext%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3Ecluster%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20#%20This%20can%20also%20be%20defined%20as%20Java%20system%20properties%20when%20starting%20the%20JVM%20using%20the%20following%20syntax:%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20#%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20#%20-Dpekko.cluster.seed-nodes.0=pekko:/Pekko@seed1:2551%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20#%20-Dpekko.cluster.seed-nodes.1=pekko:/Pekko@seed2:2551%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20#%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20seed-nodes%20=%20[%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;quot;pekko:/Pekko@127.0.0.1:2551&amp;quot;,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;quot;pekko:/Pekko@127.0.0.1:2552&amp;quot;]%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20seed-nodes%20=%20$&amp;#123;?SEED_NODES&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20roles%20=%20[&amp;quot;seed&amp;quot;,%20&amp;quot;sharding&amp;quot;]%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20roles%20=%20$&amp;#123;?ROLES&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20sharding.role%20=%20&amp;quot;sharding&amp;quot;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20sharding.role%20=%20$&amp;#123;?SHARDING_ROLE&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Ch3%20id=%22Statefulset-for-entry-seeds%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Statefulset-for-entry-seeds%22%3E%C2%B6%3C/a%3EStatefulset%20for%20entry%20-&amp;gt;%20seeds%3C/h3%3E%3Cp%3Eespecially,%20mTLS%20in%20istio.%20We%20will%20map%20it%20for%20traffic%20entries%20as%20a%20headless%20service.%20And%20the%20%3Ccode%3Eseed%3C/code%3E-ed%20service%20won%E2%80%99t%3Cbr%3Edo%20anything.%20The%20resource%20definition%20looks%20like%20a%20regular%20service,%20but%20clusterIP%20set%20to%20None:%3C/p%3E%3Cfigure%20class=%22highlight%20yaml%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3EapiVersion:%3C/span%3E%20%3Cspan%20class=%22string%22%3Ev1%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3Ekind:%3C/span%3E%20%3Cspan%20class=%22string%22%3EService%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3Emetadata:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-seed%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3Espec:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3Eports:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Eport:%3C/span%3E%20%3Cspan%20class=%22number%22%3E2551%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3Eprotocol:%3C/span%3E%20%3Cspan%20class=%22string%22%3ETCP%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3EtargetPort:%3C/span%3E%20%3Cspan%20class=%22number%22%3E2551%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Eport:%3C/span%3E%20%3Cspan%20class=%22number%22%3E5684%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3Eprotocol:%3C/span%3E%20%3Cspan%20class=%22string%22%3EUDP%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3EtargetPort:%3C/span%3E%20%3Cspan%20class=%22number%22%3E5684%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3Eselector:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3Erun:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-seed%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3EclusterIP:%3C/span%3E%20%3Cspan%20class=%22string%22%3ENone%3C/span%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3EEvery%20Pekko%20seed%20node%20instance%20in%20the%20Statefulset%20can%20be%20addressed%20via%20DNS%20as%20%3Ccode%3E$&amp;#123;SEED_NODE_NAME&amp;#125;.pekko-seed%3C/code%3E.%3C/p%3E%3Cp%3EThen,%20create%20Statefulset%20of%20seed%20nodes:%3C/p%3E%3Cfigure%20class=%22highlight%20yaml%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E41%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E42%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E43%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E44%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E45%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E46%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3EapiVersion:%3C/span%3E%20%3Cspan%20class=%22string%22%3Eapps/v1beta1%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3Ekind:%3C/span%3E%20%3Cspan%20class=%22string%22%3EStatefulSet%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3Emetadata:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3Elabels:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3Erun:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-seed%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-seed%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3Espec:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3EserviceName:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-seed%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3Ereplicas:%3C/span%3E%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3Eselector:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3EmatchLabels:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Erun:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-seed%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3Etemplate:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3Emetadata:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Elabels:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Erun:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-seed%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3Espec:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Econtainers:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-seed%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eimage:%3C/span%3E%20%3Cspan%20class=%22string%22%3Elocalhost:32000/pekko-jdk17-slim:latest%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eenv:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3EPOD_NAME%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EvalueFrom:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EfieldRef:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EfieldPath:%3C/span%3E%20%3Cspan%20class=%22string%22%3Emetadata.name%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3ESEED_NODES.0%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko:/Pekko@pekko-seed-0.pekko-seed:2551%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3ESEED_NODES.1%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko:/Pekko@pekko-seed-1.pekko-seed:2551%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3EROLES.0%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3Eseed%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3ESHARDING_ROLE%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3Esharding%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3EHOST_NAME%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3E$(POD_NAME).kaxis-seed%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3EHOST_PORT%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;4684&amp;quot;%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Ecommand:%3C/span%3E%20[%3Cspan%20class=%22string%22%3E&amp;quot;/bin/sh&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22string%22%3E&amp;quot;-c&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22string%22%3E&amp;quot;HOST_NAME=$&amp;#123;POD_NAME&amp;#125;.pekko-seed%20java%20-jar%20/app/app.jar&amp;quot;%3C/span%3E]%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3ElivenessProbe:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EtcpSocket:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eport:%3C/span%3E%20%3Cspan%20class=%22number%22%3E2551%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eports:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3EcontainerPort:%3C/span%3E%20%3Cspan%20class=%22number%22%3E2551%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eprotocol:%3C/span%3E%20%3Cspan%20class=%22string%22%3ETCP%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3EcontainerPort:%3C/span%3E%20%3Cspan%20class=%22number%22%3E5684%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eprotocol:%3C/span%3E%20%3Cspan%20class=%22string%22%3EUDP%3C/span%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3EFirst%20of%20all,%20every%20seed%20node%20will%20have%20a%20stable%20name%20(e.g.%20pekko-seed-0,%20pekko-ssed-1).%20This%20name%20is%20known%20as%20the%3Cbr%3EKubernetes%20pod%20name.%20And%20then%20use%20it%20to%20construct%20the%20addressable%20DNS%20name,%20such%20as%20%3Ccode%3Epekko-seed-0.pekko-seed%3C/code%3E.%3C/p%3E%3Cp%3EOnce%20deployment%20the%20Pekko%20seed%20nodes:%3C/p%3E%3Cfigure%20class=%22highlight%20shell%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3Ekubectl%20apply%20-f%20pekko-seeds.yaml%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3EWe%20will%20seed%20the%20seeds%20that%20were%20created%20sequentially:%3C/p%3E%3Cfigure%20class=%22highlight%20shell%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3Ekubectl%20get%20pods%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ENAME%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20READY%20%20%20%20%20STATUS%20%20%20%20RESTARTS%20%20%20AGE%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Epekko-seed-0%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201/1%20%20%20%20%20%20%20Running%20%20%200%20%20%20%20%20%20%20%20%20%2015h%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Epekko-seed-1%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201/1%20%20%20%20%20%20%20Running%20%20%200%20%20%20%20%20%20%20%20%20%2015h%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3EAs%20mentioned%20before,%20the%20seed%20nodes%20won%E2%80%99t%20do%20anything,%20below%20diagram%20show%20it%20just%20play%20the%20role%20for%20traffic%20transform,%3Cbr%3Ecluster%20communication%20and%20cluster%20init.%3C/p%3E%3Cp%3EThis%20part%20is%20very-very%20important!!%20for%20vary%20business%20service,%20such%20like%20coap,%20diameter%20protocol%20based%20on%20udp%20that%3Cbr%3EKubernetes%20doesn%E2%80%99t%20provide%20a%20full-stack%20support%20for%20loadbalancer.%3C/p%3E%3Ch3%20id=%22Deployment-for-loadbancer-workers%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Deployment-for-loadbancer-workers%22%3E%C2%B6%3C/a%3EDeployment%20for%20loadbancer%20-&amp;gt;%20workers%3C/h3%3E%3Cp%3ENext,%20deploy%20the%20worker%20nodes%20using%20Deployment.%20It%20use%20the%20Downward%20API%20to%20assign%20the%20Pod%20IP%20address%20as%20te%20Pekko%20node%E2%80%99s%3Cbr%3Ehostname.%3C/p%3E%3Cfigure%20class=%22highlight%20yaml%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E41%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E42%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E43%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E44%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E45%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E46%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E47%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E48%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E49%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E50%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E51%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E52%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E53%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E54%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E55%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E56%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E57%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E58%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E59%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E60%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E61%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E62%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E63%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3EapiVersion:%3C/span%3E%20%3Cspan%20class=%22string%22%3Eapps/v1%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3Ekind:%3C/span%3E%20%3Cspan%20class=%22string%22%3EDeployment%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3Emetadata:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-worker%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22attr%22%3Espec:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3Eselector:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3EmatchLabels:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eapp:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-worker%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3Ereplicas:%3C/span%3E%20%3Cspan%20class=%22number%22%3E3%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22attr%22%3Etemplate:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3Emetadata:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Elabels:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eapp:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-worker%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22attr%22%3Espec:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EterminationGracePeriodSeconds:%3C/span%3E%20%3Cspan%20class=%22number%22%3E10%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Econtainers:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko-worker%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eimage:%3C/span%3E%20%3Cspan%20class=%22string%22%3Elocalhost:32000/pekko-jdk17-slim:latest%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EimagePullPolicy:%3C/span%3E%20%3Cspan%20class=%22string%22%3EAlways%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eresources:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Erequests:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Ememory:%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;1Gi&amp;quot;%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Ecpu:%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;250m&amp;quot;%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Elimits:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Ememory:%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;2Gi&amp;quot;%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Ecpu:%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;500m&amp;quot;%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eenv:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3EPOD_NAME%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EvalueFrom:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EfieldRef:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EfieldPath:%3C/span%3E%20%3Cspan%20class=%22string%22%3Estatus.podIP%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3ESEED_NODES.0%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko:/Pekko@pekko-seed-0.pekko-seed:4684%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3ESEED_NODES.1%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3Epekko:/Pekko@pekko-seed-1.pekko-seed:4684%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3EROLES.0%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3Esharding%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3ESHARDING_ROLE%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3Esharding%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3EHOST_NAME%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;$(POD_NAME)&amp;quot;%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3EHOST_PORT%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Evalue:%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;4684&amp;quot;%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3ElivenessProbe:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EhttpGet:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eport:%3C/span%3E%20%3Cspan%20class=%22number%22%3E6684%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Epath:%3C/span%3E%20%3Cspan%20class=%22string%22%3Ehealth/alive%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EinitialDelaySeconds:%3C/span%3E%20%3Cspan%20class=%22number%22%3E30%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EperiodSeconds:%3C/span%3E%20%3Cspan%20class=%22number%22%3E20%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EreadinessProbe:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EhttpGet:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eport:%3C/span%3E%20%3Cspan%20class=%22number%22%3E6684%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Epath:%3C/span%3E%20%3Cspan%20class=%22string%22%3Ehealth/ready%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EinitialDelaySeconds:%3C/span%3E%20%3Cspan%20class=%22number%22%3E30%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EperiodSeconds:%3C/span%3E%20%3Cspan%20class=%22number%22%3E20%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Eports:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3EcontainerPort:%3C/span%3E%20%3Cspan%20class=%22number%22%3E5684%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3Etcp-udp%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3EcontainerPort:%3C/span%3E%20%3Cspan%20class=%22number%22%3E4684%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3Ehttp-gossip%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EdnsPolicy:%3C/span%3E%20%3Cspan%20class=%22string%22%3EClusterFirst%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22attr%22%3EimagePullSecrets:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22bullet%22%3E-%3C/span%3E%20%3Cspan%20class=%22attr%22%3Ename:%3C/span%3E%20%3Cspan%20class=%22string%22%3Eregcred%3C/span%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3EOnce%20deloyed,%20you%20can%20validate%20that%20all%20nodes%20are%20up%20and%20running:%3C/p%3E%3Cfigure%20class=%22highlight%20shell%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%20prompt_%22%3E$%20%3C/span%3E%3Cspan%20class=%22language-bash%22%3Ekubectl%20get%20pods%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ENAME%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20READY%20%20%20%20%20STATUS%20%20%20%20RESTARTS%20%20%20AGE%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Epekko-seed-0%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201/1%20%20%20%20%20%20%20Running%20%20%200%20%20%20%20%20%20%20%20%20%208s%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Epekko-seed-1%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201/1%20%20%20%20%20%20%20Running%20%20%200%20%20%20%20%20%20%20%20%20%206s%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Epekko-worker-2263404214-8c266%20%20%201/1%20%20%20%20%20%20%20Running%20%20%200%20%20%20%20%20%20%20%20%20%208s%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Epekko-worker-2263404214-9ws3k%20%20%201/1%20%20%20%20%20%20%20Running%20%20%200%20%20%20%20%20%20%20%20%20%208s%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Epekko-worker-2263404214-f2tp3%20%20%201/1%20%20%20%20%20%20%20Running%20%20%200%20%20%20%20%20%20%20%20%20%208s%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Epekko-worker-2263404214-lkvz3%20%20%201/1%20%20%20%20%20%20%20Running%20%20%200%20%20%20%20%20%20%20%20%20%208s%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3EYou%20can%20validate%20that%20the%20nodes%20have%20joined%20the%20cluster%20by%20inspecting%20the%20logs%20of%20any%20of%20the%20Pekko%20nodes.%20For%3Cbr%3Eexample,%20to%20tail%20the%20first%20seed%20node%E2%80%99s%20log:%3C/p%3E%3Cfigure%20class=%22highlight%20shell%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3Ekubect%20logs%20-f%20pekko-seed-0%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E[INFO]%20[02/12/2017%2015:36:53.568]%20[main]%20[pekko.remote.Remoting]%20Starting%20remoting%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E[INFO]%20[02/12/2017%2015:36:53.707]%20[main]%20[pekko.remote.Remoting]%20Remoting%20started;%20listening%20on%20addresses%20:[pekko.tcp:/Pekko@pekko-seed-0.akka-seed:2551]%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E...%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E[INFO]%20[02/12/2017%2015:37:05.101]%20[ClusterSystem-pekko.actor.default-dispatcher-16]%20[pekko.cluster.Cluster(pekko:/ClusterSystem)]%20Cluster%20Node%20[pekko.tcp:/Pekko@pekko-seed-0.pekko-seed:2551]%20-%20Node%20[pekko.tcp:/Pekko@pekko-seed-1.pekko-seed:2551]%20is%20JOINING,%20roles%20[]%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E[INFO]%20[02/12/2017%2015:37:06.854]%20[ClusterSystem-pekko.actor.default-dispatcher-16]%20[pekko:/ClusterSystem/user/$a]%20Member%20is%20Up:%20Member(address%20=%20akka.tcp:/Pekko@10.44.2.10:2551,%20status%20=%20Up)%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E...%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3EAlso,%20you%20can%20simply%20attach%20Kubernetes%20HPA:%3C/p%3E%3Cfigure%20class=%22highlight%20shell%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3EapiVersion:%20autoscaling/v1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ekind:%20HorizontalPodAutoscaler%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Emetadata:%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20name:%20pekko-worker%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Espec:%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20maxReplicas:%203%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20minReplicas:%201%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20scaleTargetRef:%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20apiVersion:%20apps/v1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20kind:%20Deployment%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20name:%20pekko-worker%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20targetCPUUtilizationPercentage:%2015%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Ch2%20id=%22Health-check%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Health-check%22%3E%C2%B6%3C/a%3EHealth%20check%3C/h2%3E%3Cp%3EPekko%20already%20implementation%20cluster%20health%20check%20management:%3C/p%3E%3Cfigure%20class=%22highlight%20shell%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%20prompt_%22%3E#%20%3C/span%3E%3Cspan%20class=%22language-bash%22%3Emanagement%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Emanagement%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20http.hostname%20=%20127.0.0.1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20http.hostname%20=%20$&amp;#123;?HOST_NAME&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20http.bind-hostname%20=%200.0.0.0%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20http.bind-hostname%20=%20$&amp;#123;?HOST_NAME&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20health-checks%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20readiness-path%20=%20&amp;quot;health/ready&amp;quot;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20liveness-path%20=%20&amp;quot;health/alive&amp;quot;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20readiness-checks%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20#%20Default%20health%20check%20for%20cluster.%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20cluster-membership%20=%20&amp;quot;org.apache.pekko.management.cluster.javadsl.ClusterMembershipCheck&amp;quot;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Ch2%20id=%22Summary%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Summary%22%3E%C2%B6%3C/a%3ESummary%3C/h2%3E%3Cp%3EPlease%20check%20my%20own%20repo%20in%20%3Ca%20href=%22https:/github.com/barudisshu/kaxis%22%3EGitHub%3C/a%3E,%20if%20you%20need%20more%20investigate.%3C/p%3E" type="image"/>
    
    
    
    <category term="kubernetes" scheme="https://galudisu.info/tags/kubernetes/"/>
    
    <category term="pekko" scheme="https://galudisu.info/tags/pekko/"/>
    
    <category term="udp" scheme="https://galudisu.info/tags/udp/"/>
    
    <category term="IIoT" scheme="https://galudisu.info/tags/IIoT/"/>
    
  </entry>
  
  <entry>
    <title>Pre-master Secret, Master Secret, Private Key, Shared Secret</title>
    <link href="https://galudisu.info/2024/06/05/cryptography/secret-identified/"/>
    <id>https://galudisu.info/2024/06/05/cryptography/secret-identified/</id>
    <published>2024-06-05T03:32:34.000Z</published>
    <updated>2025-04-27T11:59:08.276Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Introduction"><a class="header-anchor" href="#Introduction">Â¶</a>Introduction</h2><p>Keys are critical in <a href="https://www.baeldung.com/cs/cryptographic-algorithm-complexity">cryptographic</a> operations in <a href="https://www.baeldung.com/cs/introduction-to-cryptography">public-key infrastructure</a>(PKI). <strong><a href="https://www.baeldung.com/cs/connection-oriented-vs-connectionless-protocols">SSL handshake</a> invoke exchanging several pieces of information, such as <a href="https://www.baeldung.com/cs/public-private-keys-vs-certificates">public keys</a>, <a href="https://www.baeldung.com/cs/symmetric-cryptography">private keys</a>, shared secrets, pre-master secrets, and master secrets.</strong></p><p><strong>Letâ€™s explore what happens between the key exchange and the data encryption and <a href="https://www.baeldung.com/cs/authentication-vs-authorization">authentication</a>.</strong></p><span id="more"></span><h2 id="SSL-TLS-Handshake"><a class="header-anchor" href="#SSL-TLS-Handshake">Â¶</a>SSL/TLS Handshake</h2><p>A secure SSL/TLS connection gets established in multiple steps. The client and the server must agree on the methods and data to share.</p><p>Weâ€™ll use a TLS 1.2 connection to illustrate this complex process. The method employed for all prior SSL/TLS versions is the same.</p><p><strong>The handshake initiates and establishes a secure connection between the server and the client:</strong></p><p><img src="/img/cryptography/1_SSL-TLS-Communication-setup-timeline-diagram.png" alt="1_SSL-TLS-Communication-setup-timeline-diagram.png"></p><p>The handshake involves the following:</p><ul><li><strong>Client Hello</strong>: This is a hello message from the client to the server having information such as client version, client random, session ID, <a href="https://www.baeldung.com/cs/stream-cipher-vs-block-cipher">cipher suites</a>, compression methods, and extensions</li><li><strong>Server Hello</strong>: This is a reply message from the server to the client having server version, server random, <a href="https://www.baeldung.com/cs/tokens-vs-sessions">session ID</a>, cipher suites, compression methods, and extensions</li><li><strong>Exchange Certificate</strong>: The server sends a signed TLS/SSL certificate and the serverâ€™s public key to prove its identity. Sometimes, the server may also require the client to authenticate with a certificate and seek the same from the client</li><li><strong>Server Hello Done</strong>: Server sends this message to the client to confirm that the server hello message has been executed and completed</li><li><strong>Client Key Exchange</strong>: This message is sent by the client once it receives the server hello done from the server. At this point, the client creates a pre-master secret. If the serverâ€™s certificate is insufficient for the client to share a pre-master secret, then the client needs a server key exchange message. The client and the server create the master secret key</li><li><strong>Change Cipher spec</strong>:  This protocol initiates symmetric encryption for data exchange using the shared keys</li><li><strong>Handshake Finished</strong>: The handshake process from both the client and server sides exchanges this message at the end.</li></ul><p><strong>Asymmetric and symmetric encryption is part of the SSL/TLS security protocols.</strong> Keys and secrets are for encryption, decryption, and authentication. In the rest of the article, weâ€™ll cover details about when we use different keys.</p><h2 id="SSL-TLS-Keys"><a class="header-anchor" href="#SSL-TLS-Keys">Â¶</a>SSL/TLS Keys</h2><p>Letâ€™s now discuss how the shared secret, pre-master secret, master secret, public key, and private keys work.</p><h3 id="Shared-Secret"><a class="header-anchor" href="#Shared-Secret">Â¶</a>Shared Secret</h3><p><strong>Generally, a shared secret is to generate one or more keys for message encryption and to authenticate users.</strong></p><p>In cryptography, this is a piece of information that is known only to the participating systems:</p><p><img src="/img/cryptography/1_Shared-Secret-1.png" alt="Describe the concept of shared secret"></p><p>The client and the server generate a public/private key pair and share each otherâ€™s public keys as per the <a href="https://www.baeldung.com/cs/symmetric-cryptography">Diffie-Hellman</a> key exchange protocol. Afterward, they can compute a shared secret offline.</p><p>It usually refers to the key of a symmetric cryptosystem, in which the same key encrypts and decrypts data.</p><p>Generally, we use the shared secret and an <a href="https://www.baeldung.com/cs/security-key-vs-vector-vs-nonce">initialization vector</a> (IV) to create the session and message keys. Lastly, a shared secret can be a password, passphrase, large integer, or a collection of bytes selected at random.</p><h3 id="Public-key"><a class="header-anchor" href="#Public-key">Â¶</a>Public key</h3><p><strong>The primary function of a public key is to encrypt messages before sending them.</strong></p><p>An asymmetric cryptosystem uses randomly generated public and private keys. Anybody can encrypt data using a public key, but only those with the corresponding private key can decode the data.</p><p><strong>The public and private keys are mathematically related. Only a related key pair can encrypt and decrypt data.</strong> The encrypted information will be unreadable if the corresponding private key for decryption is missing.</p><p>In PKI, the sender and receiver donâ€™t share the same key. PKI is used only for short messages.</p><h3 id="Private-Key"><a class="header-anchor" href="#Private-Key">Â¶</a>Private Key</h3><p><strong>The private key is kept secret and is only accessible by the owner.</strong></p><p>In a symmetric cryptosystem, the same key (secret key) is used for encryption and decryption. In this cryptography scheme, the sender and receiver share the same key.</p><p>Furthermore, a private key decrypts the cipher text in the asymmetric cryptosystem. <strong>A digital signature created using the private key can be confirmed using the associated public key.</strong> A private key is faster than a public key and applicable to high-volume text content.</p><h3 id="Pre-master-Secret"><a class="header-anchor" href="#Pre-master-Secret">Â¶</a>Pre-master Secret</h3><p><strong>The client generates a 48-bit pre-master secret and sends it to the server mainly to compute master secrets.</strong></p><p>The client encrypts the pre-master secret using the server public key obtained from the serverâ€™s certificate. The server decrypts the message using the private key. The client and the server use the pre-master secret to produce the symmetric keys for the secured portion of the session.</p><p>The algorithm and parameters used during the data exchange affect the length of the message. <strong>We want a fixed-length value to derive the keys for any cipher suite. The pre-master secrets serve this purpose.</strong></p><h3 id="Master-Secret"><a class="header-anchor" href="#Master-Secret">Â¶</a>Master Secret</h3><p><strong>The client and server use the master secret to generate the session key.</strong></p><p>The server decrypts the pre-master secret key using its private key after receiving it.</p><p>The client and the server use a Pseudo-Random Function (<a href="https://en.wikipedia.org/wiki/Pseudorandom_function_family">PRF</a>) to calculate the master secret key. PRF is a deterministic algorithm with two inputs and a single output. PRF obtains its result by iterating a hash-based message authentication code (<a href="https://www.baeldung.com/java-hmac">HMAC</a>) based on the <a href="https://www.baeldung.com/sha-256-hashing-java">SHA256</a> hash function.</p><p>Letâ€™s discuss how the pre-master secret creates the master secret key. The <a href="https://datatracker.ietf.org/doc/html/rfc7627">RFC</a> guideline to calculate the fixed-length value master secret using the pre-master secret is:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">master_secret=PRF(pre-master_secret, &quot;Master Secret&quot;,ClientHello.rando+ServerHello.random)</span><br></pre></td></tr></table></figure><p>The master secret is a function of the client and server randoms that were previously exchanged between the client and the server during the handshake stage.</p><p>Further, the first three inputs to PRF are string representations of byte sequences. So, the addition operator in the above code concatenates the random. <strong>A master secret key is 48 bytes long</strong> and computed using random values.</p><h2 id="When-to-Use-Different-Keys"><a class="header-anchor" href="#When-to-Use-Different-Keys">Â¶</a>When to Use Different Keys?</h2><p>The following table shows at what stage of communication between client and server the shared secret, pre-master secret, public key, private key, and master secret are used:</p><table><thead><tr><th style="text-align:left">Stage</th><th style="text-align:left">Keys Involved</th></tr></thead><tbody><tr><td style="text-align:left">Client-server hello</td><td style="text-align:left">Shared secret (Session ID)</td></tr><tr><td style="text-align:left">Certificate exchange</td><td style="text-align:left">Serverâ€™s public key</td></tr><tr><td style="text-align:left">Client key exchange</td><td style="text-align:left">The client creates a pre-master secret and uses a public key to encrypt it, while the server uses its private key to decrypt it</td></tr><tr><td style="text-align:left">Server key exchange</td><td style="text-align:left">Optional - required only if the serverâ€™s certificate is insufficient for authentication</td></tr><tr><td style="text-align:left">Post handshake</td><td style="text-align:left">Both client and server use master secret for symmetric encryption/decryption</td></tr></tbody></table><h2 id="Conclusion"><a class="header-anchor" href="#Conclusion">Â¶</a>Conclusion</h2><p>In this article, we talked about SSL handshakes, shared secrets, pre-master secrets, master secrets, and public/private keys.</p><p><strong>A key-agreement technique, such as PKI, is used to construct the shared secret at the beginning of the SSL/TLS communication session.</strong> The server uses its public key for encryption and its private key for decryption.</p><p>Once the client and the server receive a hello done message, the client sends a pre-master secret to the server to compute a master secret using PRF.</p><p>Lastly, after the handshake, for the rest of the session, the client and the server use the master secret to generate the session keys for symmetric data encryption/decryption.</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;Introduction&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#Introduction&quot;&gt;Â¶&lt;/a&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Keys are critical in &lt;a href=&quot;https://www.baeldung.com/cs/cryptographic-algorithm-complexity&quot;&gt;cryptographic&lt;/a&gt; operations in &lt;a href=&quot;https://www.baeldung.com/cs/introduction-to-cryptography&quot;&gt;public-key infrastructure&lt;/a&gt;(PKI). &lt;strong&gt;&lt;a href=&quot;https://www.baeldung.com/cs/connection-oriented-vs-connectionless-protocols&quot;&gt;SSL handshake&lt;/a&gt; invoke exchanging several pieces of information, such as &lt;a href=&quot;https://www.baeldung.com/cs/public-private-keys-vs-certificates&quot;&gt;public keys&lt;/a&gt;, &lt;a href=&quot;https://www.baeldung.com/cs/symmetric-cryptography&quot;&gt;private keys&lt;/a&gt;, shared secrets, pre-master secrets, and master secrets.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Letâ€™s explore what happens between the key exchange and the data encryption and &lt;a href=&quot;https://www.baeldung.com/cs/authentication-vs-authorization&quot;&gt;authentication&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Ch2%20id=%22Introduction%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Introduction%22%3E%C2%B6%3C/a%3EIntroduction%3C/h2%3E%3Cp%3EKeys%20are%20critical%20in%20%3Ca%20href=%22https:/www.baeldung.com/cs/cryptographic-algorithm-complexity%22%3Ecryptographic%3C/a%3E%20operations%20in%20%3Ca%20href=%22https:/www.baeldung.com/cs/introduction-to-cryptography%22%3Epublic-key%20infrastructure%3C/a%3E(PKI).%20%3Cstrong%3E%3Ca%20href=%22https:/www.baeldung.com/cs/connection-oriented-vs-connectionless-protocols%22%3ESSL%20handshake%3C/a%3E%20invoke%20exchanging%20several%20pieces%20of%20information,%20such%20as%20%3Ca%20href=%22https:/www.baeldung.com/cs/public-private-keys-vs-certificates%22%3Epublic%20keys%3C/a%3E,%20%3Ca%20href=%22https:/www.baeldung.com/cs/symmetric-cryptography%22%3Eprivate%20keys%3C/a%3E,%20shared%20secrets,%20pre-master%20secrets,%20and%20master%20secrets.%3C/strong%3E%3C/p%3E%3Cp%3E%3Cstrong%3ELet%E2%80%99s%20explore%20what%20happens%20between%20the%20key%20exchange%20and%20the%20data%20encryption%20and%20%3Ca%20href=%22https:/www.baeldung.com/cs/authentication-vs-authorization%22%3Eauthentication%3C/a%3E.%3C/strong%3E%3C/p%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch2%20id=%22SSL-TLS-Handshake%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#SSL-TLS-Handshake%22%3E%C2%B6%3C/a%3ESSL/TLS%20Handshake%3C/h2%3E%3Cp%3EA%20secure%20SSL/TLS%20connection%20gets%20established%20in%20multiple%20steps.%20The%20client%20and%20the%20server%20must%20agree%20on%20the%20methods%20and%20data%20to%20share.%3C/p%3E%3Cp%3EWe%E2%80%99ll%20use%20a%20TLS%201.2%20connection%20to%20illustrate%20this%20complex%20process.%20The%20method%20employed%20for%20all%20prior%20SSL/TLS%20versions%20is%20the%20same.%3C/p%3E%3Cp%3E%3Cstrong%3EThe%20handshake%20initiates%20and%20establishes%20a%20secure%20connection%20between%20the%20server%20and%20the%20client:%3C/strong%3E%3C/p%3E%3Cp%3E%3Cimg%20src=%22/img/cryptography/1_SSL-TLS-Communication-setup-timeline-diagram.png%22%20alt=%221_SSL-TLS-Communication-setup-timeline-diagram.png%22%3E%3C/p%3E%3Cp%3EThe%20handshake%20involves%20the%20following:%3C/p%3E%3Cul%3E%3Cli%3E%3Cstrong%3EClient%20Hello%3C/strong%3E:%20This%20is%20a%20hello%20message%20from%20the%20client%20to%20the%20server%20having%20information%20such%20as%20client%20version,%20client%20random,%20session%20ID,%20%3Ca%20href=%22https:/www.baeldung.com/cs/stream-cipher-vs-block-cipher%22%3Ecipher%20suites%3C/a%3E,%20compression%20methods,%20and%20extensions%3C/li%3E%3Cli%3E%3Cstrong%3EServer%20Hello%3C/strong%3E:%20This%20is%20a%20reply%20message%20from%20the%20server%20to%20the%20client%20having%20server%20version,%20server%20random,%20%3Ca%20href=%22https:/www.baeldung.com/cs/tokens-vs-sessions%22%3Esession%20ID%3C/a%3E,%20cipher%20suites,%20compression%20methods,%20and%20extensions%3C/li%3E%3Cli%3E%3Cstrong%3EExchange%20Certificate%3C/strong%3E:%20The%20server%20sends%20a%20signed%20TLS/SSL%20certificate%20and%20the%20server%E2%80%99s%20public%20key%20to%20prove%20its%20identity.%20Sometimes,%20the%20server%20may%20also%20require%20the%20client%20to%20authenticate%20with%20a%20certificate%20and%20seek%20the%20same%20from%20the%20client%3C/li%3E%3Cli%3E%3Cstrong%3EServer%20Hello%20Done%3C/strong%3E:%20Server%20sends%20this%20message%20to%20the%20client%20to%20confirm%20that%20the%20server%20hello%20message%20has%20been%20executed%20and%20completed%3C/li%3E%3Cli%3E%3Cstrong%3EClient%20Key%20Exchange%3C/strong%3E:%20This%20message%20is%20sent%20by%20the%20client%20once%20it%20receives%20the%20server%20hello%20done%20from%20the%20server.%20At%20this%20point,%20the%20client%20creates%20a%20pre-master%20secret.%20If%20the%20server%E2%80%99s%20certificate%20is%20insufficient%20for%20the%20client%20to%20share%20a%20pre-master%20secret,%20then%20the%20client%20needs%20a%20server%20key%20exchange%20message.%20The%20client%20and%20the%20server%20create%20the%20master%20secret%20key%3C/li%3E%3Cli%3E%3Cstrong%3EChange%20Cipher%20spec%3C/strong%3E:%20%20This%20protocol%20initiates%20symmetric%20encryption%20for%20data%20exchange%20using%20the%20shared%20keys%3C/li%3E%3Cli%3E%3Cstrong%3EHandshake%20Finished%3C/strong%3E:%20The%20handshake%20process%20from%20both%20the%20client%20and%20server%20sides%20exchanges%20this%20message%20at%20the%20end.%3C/li%3E%3C/ul%3E%3Cp%3E%3Cstrong%3EAsymmetric%20and%20symmetric%20encryption%20is%20part%20of%20the%20SSL/TLS%20security%20protocols.%3C/strong%3E%20Keys%20and%20secrets%20are%20for%20encryption,%20decryption,%20and%20authentication.%20In%20the%20rest%20of%20the%20article,%20we%E2%80%99ll%20cover%20details%20about%20when%20we%20use%20different%20keys.%3C/p%3E%3Ch2%20id=%22SSL-TLS-Keys%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#SSL-TLS-Keys%22%3E%C2%B6%3C/a%3ESSL/TLS%20Keys%3C/h2%3E%3Cp%3ELet%E2%80%99s%20now%20discuss%20how%20the%20shared%20secret,%20pre-master%20secret,%20master%20secret,%20public%20key,%20and%20private%20keys%20work.%3C/p%3E%3Ch3%20id=%22Shared-Secret%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Shared-Secret%22%3E%C2%B6%3C/a%3EShared%20Secret%3C/h3%3E%3Cp%3E%3Cstrong%3EGenerally,%20a%20shared%20secret%20is%20to%20generate%20one%20or%20more%20keys%20for%20message%20encryption%20and%20to%20authenticate%20users.%3C/strong%3E%3C/p%3E%3Cp%3EIn%20cryptography,%20this%20is%20a%20piece%20of%20information%20that%20is%20known%20only%20to%20the%20participating%20systems:%3C/p%3E%3Cp%3E%3Cimg%20src=%22/img/cryptography/1_Shared-Secret-1.png%22%20alt=%22Describe%20the%20concept%20of%20shared%20secret%22%3E%3C/p%3E%3Cp%3EThe%20client%20and%20the%20server%20generate%20a%20public/private%20key%20pair%20and%20share%20each%20other%E2%80%99s%20public%20keys%20as%20per%20the%20%3Ca%20href=%22https:/www.baeldung.com/cs/symmetric-cryptography%22%3EDiffie-Hellman%3C/a%3E%20key%20exchange%20protocol.%20Afterward,%20they%20can%20compute%20a%20shared%20secret%20offline.%3C/p%3E%3Cp%3EIt%20usually%20refers%20to%20the%20key%20of%20a%20symmetric%20cryptosystem,%20in%20which%20the%20same%20key%20encrypts%20and%20decrypts%20data.%3C/p%3E%3Cp%3EGenerally,%20we%20use%20the%20shared%20secret%20and%20an%20%3Ca%20href=%22https:/www.baeldung.com/cs/security-key-vs-vector-vs-nonce%22%3Einitialization%20vector%3C/a%3E%20(IV)%20to%20create%20the%20session%20and%20message%20keys.%20Lastly,%20a%20shared%20secret%20can%20be%20a%20password,%20passphrase,%20large%20integer,%20or%20a%20collection%20of%20bytes%20selected%20at%20random.%3C/p%3E%3Ch3%20id=%22Public-key%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Public-key%22%3E%C2%B6%3C/a%3EPublic%20key%3C/h3%3E%3Cp%3E%3Cstrong%3EThe%20primary%20function%20of%20a%20public%20key%20is%20to%20encrypt%20messages%20before%20sending%20them.%3C/strong%3E%3C/p%3E%3Cp%3EAn%20asymmetric%20cryptosystem%20uses%20randomly%20generated%20public%20and%20private%20keys.%20Anybody%20can%20encrypt%20data%20using%20a%20public%20key,%20but%20only%20those%20with%20the%20corresponding%20private%20key%20can%20decode%20the%20data.%3C/p%3E%3Cp%3E%3Cstrong%3EThe%20public%20and%20private%20keys%20are%20mathematically%20related.%20Only%20a%20related%20key%20pair%20can%20encrypt%20and%20decrypt%20data.%3C/strong%3E%20The%20encrypted%20information%20will%20be%20unreadable%20if%20the%20corresponding%20private%20key%20for%20decryption%20is%20missing.%3C/p%3E%3Cp%3EIn%20PKI,%20the%20sender%20and%20receiver%20don%E2%80%99t%20share%20the%20same%20key.%20PKI%20is%20used%20only%20for%20short%20messages.%3C/p%3E%3Ch3%20id=%22Private-Key%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Private-Key%22%3E%C2%B6%3C/a%3EPrivate%20Key%3C/h3%3E%3Cp%3E%3Cstrong%3EThe%20private%20key%20is%20kept%20secret%20and%20is%20only%20accessible%20by%20the%20owner.%3C/strong%3E%3C/p%3E%3Cp%3EIn%20a%20symmetric%20cryptosystem,%20the%20same%20key%20(secret%20key)%20is%20used%20for%20encryption%20and%20decryption.%20In%20this%20cryptography%20scheme,%20the%20sender%20and%20receiver%20share%20the%20same%20key.%3C/p%3E%3Cp%3EFurthermore,%20a%20private%20key%20decrypts%20the%20cipher%20text%20in%20the%20asymmetric%20cryptosystem.%20%3Cstrong%3EA%20digital%20signature%20created%20using%20the%20private%20key%20can%20be%20confirmed%20using%20the%20associated%20public%20key.%3C/strong%3E%20A%20private%20key%20is%20faster%20than%20a%20public%20key%20and%20applicable%20to%20high-volume%20text%20content.%3C/p%3E%3Ch3%20id=%22Pre-master-Secret%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Pre-master-Secret%22%3E%C2%B6%3C/a%3EPre-master%20Secret%3C/h3%3E%3Cp%3E%3Cstrong%3EThe%20client%20generates%20a%2048-bit%20pre-master%20secret%20and%20sends%20it%20to%20the%20server%20mainly%20to%20compute%20master%20secrets.%3C/strong%3E%3C/p%3E%3Cp%3EThe%20client%20encrypts%20the%20pre-master%20secret%20using%20the%20server%20public%20key%20obtained%20from%20the%20server%E2%80%99s%20certificate.%20The%20server%20decrypts%20the%20message%20using%20the%20private%20key.%20The%20client%20and%20the%20server%20use%20the%20pre-master%20secret%20to%20produce%20the%20symmetric%20keys%20for%20the%20secured%20portion%20of%20the%20session.%3C/p%3E%3Cp%3EThe%20algorithm%20and%20parameters%20used%20during%20the%20data%20exchange%20affect%20the%20length%20of%20the%20message.%20%3Cstrong%3EWe%20want%20a%20fixed-length%20value%20to%20derive%20the%20keys%20for%20any%20cipher%20suite.%20The%20pre-master%20secrets%20serve%20this%20purpose.%3C/strong%3E%3C/p%3E%3Ch3%20id=%22Master-Secret%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Master-Secret%22%3E%C2%B6%3C/a%3EMaster%20Secret%3C/h3%3E%3Cp%3E%3Cstrong%3EThe%20client%20and%20server%20use%20the%20master%20secret%20to%20generate%20the%20session%20key.%3C/strong%3E%3C/p%3E%3Cp%3EThe%20server%20decrypts%20the%20pre-master%20secret%20key%20using%20its%20private%20key%20after%20receiving%20it.%3C/p%3E%3Cp%3EThe%20client%20and%20the%20server%20use%20a%20Pseudo-Random%20Function%20(%3Ca%20href=%22https:/en.wikipedia.org/wiki/Pseudorandom_function_family%22%3EPRF%3C/a%3E)%20to%20calculate%20the%20master%20secret%20key.%20PRF%20is%20a%20deterministic%20algorithm%20with%20two%20inputs%20and%20a%20single%20output.%20PRF%20obtains%20its%20result%20by%20iterating%20a%20hash-based%20message%20authentication%20code%20(%3Ca%20href=%22https:/www.baeldung.com/java-hmac%22%3EHMAC%3C/a%3E)%20based%20on%20the%20%3Ca%20href=%22https:/www.baeldung.com/sha-256-hashing-java%22%3ESHA256%3C/a%3E%20hash%20function.%3C/p%3E%3Cp%3ELet%E2%80%99s%20discuss%20how%20the%20pre-master%20secret%20creates%20the%20master%20secret%20key.%20The%20%3Ca%20href=%22https:/datatracker.ietf.org/doc/html/rfc7627%22%3ERFC%3C/a%3E%20guideline%20to%20calculate%20the%20fixed-length%20value%20master%20secret%20using%20the%20pre-master%20secret%20is:%3C/p%3E%3Cfigure%20class=%22highlight%20text%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3Emaster_secret=PRF(pre-master_secret,%20&amp;quot;Master%20Secret&amp;quot;,ClientHello.rando+ServerHello.random)%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3EThe%20master%20secret%20is%20a%20function%20of%20the%20client%20and%20server%20randoms%20that%20were%20previously%20exchanged%20between%20the%20client%20and%20the%20server%20during%20the%20handshake%20stage.%3C/p%3E%3Cp%3EFurther,%20the%20first%20three%20inputs%20to%20PRF%20are%20string%20representations%20of%20byte%20sequences.%20So,%20the%20addition%20operator%20in%20the%20above%20code%20concatenates%20the%20random.%20%3Cstrong%3EA%20master%20secret%20key%20is%2048%20bytes%20long%3C/strong%3E%20and%20computed%20using%20random%20values.%3C/p%3E%3Ch2%20id=%22When-to-Use-Different-Keys%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#When-to-Use-Different-Keys%22%3E%C2%B6%3C/a%3EWhen%20to%20Use%20Different%20Keys?%3C/h2%3E%3Cp%3EThe%20following%20table%20shows%20at%20what%20stage%20of%20communication%20between%20client%20and%20server%20the%20shared%20secret,%20pre-master%20secret,%20public%20key,%20private%20key,%20and%20master%20secret%20are%20used:%3C/p%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%20style=%22text-align:left%22%3EStage%3C/th%3E%3Cth%20style=%22text-align:left%22%3EKeys%20Involved%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3EClient-server%20hello%3C/td%3E%3Ctd%20style=%22text-align:left%22%3EShared%20secret%20(Session%20ID)%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3ECertificate%20exchange%3C/td%3E%3Ctd%20style=%22text-align:left%22%3EServer%E2%80%99s%20public%20key%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3EClient%20key%20exchange%3C/td%3E%3Ctd%20style=%22text-align:left%22%3EThe%20client%20creates%20a%20pre-master%20secret%20and%20uses%20a%20public%20key%20to%20encrypt%20it,%20while%20the%20server%20uses%20its%20private%20key%20to%20decrypt%20it%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3EServer%20key%20exchange%3C/td%3E%3Ctd%20style=%22text-align:left%22%3EOptional%20-%20required%20only%20if%20the%20server%E2%80%99s%20certificate%20is%20insufficient%20for%20authentication%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3EPost%20handshake%3C/td%3E%3Ctd%20style=%22text-align:left%22%3EBoth%20client%20and%20server%20use%20master%20secret%20for%20symmetric%20encryption/decryption%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Ch2%20id=%22Conclusion%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Conclusion%22%3E%C2%B6%3C/a%3EConclusion%3C/h2%3E%3Cp%3EIn%20this%20article,%20we%20talked%20about%20SSL%20handshakes,%20shared%20secrets,%20pre-master%20secrets,%20master%20secrets,%20and%20public/private%20keys.%3C/p%3E%3Cp%3E%3Cstrong%3EA%20key-agreement%20technique,%20such%20as%20PKI,%20is%20used%20to%20construct%20the%20shared%20secret%20at%20the%20beginning%20of%20the%20SSL/TLS%20communication%20session.%3C/strong%3E%20The%20server%20uses%20its%20public%20key%20for%20encryption%20and%20its%20private%20key%20for%20decryption.%3C/p%3E%3Cp%3EOnce%20the%20client%20and%20the%20server%20receive%20a%20hello%20done%20message,%20the%20client%20sends%20a%20pre-master%20secret%20to%20the%20server%20to%20compute%20a%20master%20secret%20using%20PRF.%3C/p%3E%3Cp%3ELastly,%20after%20the%20handshake,%20for%20the%20rest%20of%20the%20session,%20the%20client%20and%20the%20server%20use%20the%20master%20secret%20to%20generate%20the%20session%20keys%20for%20symmetric%20data%20encryption/decryption.%3C/p%3E" type="image"/>
    
    
    
    <category term="cryptography" scheme="https://galudisu.info/tags/cryptography/"/>
    
    <category term="security" scheme="https://galudisu.info/tags/security/"/>
    
  </entry>
  
  <entry>
    <title>Termius Cracked</title>
    <link href="https://galudisu.info/2023/10/26/termius/cracked/"/>
    <id>https://galudisu.info/2023/10/26/termius/cracked/</id>
    <published>2023-10-26T14:14:34.000Z</published>
    <updated>2025-04-27T11:59:08.289Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span><h2 id="ç ´è§£æ–¹æ³•"><a class="header-anchor" href="#ç ´è§£æ–¹æ³•">Â¶</a>ç ´è§£æ–¹æ³•</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g asar</span><br></pre></td></tr></table></figure><p>æ‰€æœ‰å¹³å°ç ´è§£æ–¹æ³•å¤§åŒå°å¼‚</p><ul><li>è§£åŒ…</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/Termius/resources</span><br><span class="line">asar extract app.asar ./app # ä¿®æ”¹å®Œä¸éœ€è¦é‡æ–°æ‰“åŒ…</span><br><span class="line">mv app.asar app.asar.bak # ç•™ä¸ªå¤‡ä»½ï¼Œæˆ–è€…ç›´æ¥rm</span><br><span class="line">rm app-update.yml # é˜²æ­¢è‡ªåŠ¨æ›´æ–°</span><br></pre></td></tr></table></figure><ul><li>ä¿®æ”¹app/js/background-process.js</li></ul><p>æœç´¢ <code>await this.api.bulkAccount</code></p><p><code>const e=await this.api.bulkAccount();</code> -&gt; <code>var e=wait this.api.bulkAccount()</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> e=<span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">api</span>.<span class="title function_">bulkAccount</span>();e.<span class="property">account</span>.<span class="property">pro_mode</span>=!<span class="number">0</span>,e.<span class="property">account</span>.<span class="property">need_to_update_subscription</span>=!<span class="number">1</span>,e.<span class="property">account</span>.<span class="property">current_period</span>=&#123;<span class="attr">from</span>:<span class="string">&quot;2022-01-01T00:00:00&quot;</span>,<span class="attr">until</span>:<span class="string">&quot;2099-01-01T00:00:00&quot;</span>&#125;,e.<span class="property">account</span>.<span class="property">plan_type</span>=<span class="string">&quot;Premium&quot;</span>,e.<span class="property">account</span>.<span class="property">user_type</span>=<span class="string">&quot;Premium&quot;</span>,e.<span class="property">student</span>=<span class="literal">null</span>,e.<span class="property">trial</span>=<span class="literal">null</span>,e.<span class="property">account</span>.<span class="property">authorized_features</span>.<span class="property">show_trial_section</span>=!<span class="number">1</span>,e.<span class="property">account</span>.<span class="property">authorized_features</span>.<span class="property">show_subscription_section</span>=!<span class="number">0</span>,e.<span class="property">account</span>.<span class="property">authorized_features</span>.<span class="property">show_github_account_section</span>=!<span class="number">1</span>,e.<span class="property">account</span>.<span class="property">expired_screen_type</span>=<span class="literal">null</span>,e.<span class="property">personal_subscription</span>=&#123;<span class="attr">now</span>:(<span class="keyword">new</span> <span class="title class_">Date</span>).<span class="title function_">toISOString</span>().<span class="title function_">slice</span>(<span class="number">0</span>,-<span class="number">5</span>),<span class="attr">status</span>:<span class="string">&quot;SUCCESS&quot;</span>,<span class="attr">platform</span>:<span class="string">&quot;stripe&quot;</span>,<span class="attr">current_period</span>:&#123;<span class="attr">from</span>:<span class="string">&quot;2022-01-01T00:00:00&quot;</span>,<span class="attr">until</span>:<span class="string">&quot;2099-01-01T00:00:00&quot;</span>&#125;,<span class="attr">revokable</span>:!<span class="number">0</span>,<span class="attr">refunded</span>:!<span class="number">1</span>,<span class="attr">cancelable</span>:!<span class="number">0</span>,<span class="attr">reactivatable</span>:!<span class="number">1</span>,<span class="attr">currency</span>:<span class="string">&quot;usd&quot;</span>,<span class="attr">created_at</span>:<span class="string">&quot;2022-01-01T00:00:00&quot;</span>,<span class="attr">updated_at</span>:(<span class="keyword">new</span> <span class="title class_">Date</span>).<span class="title function_">toISOString</span>().<span class="title function_">slice</span>(<span class="number">0</span>,-<span class="number">5</span>),<span class="attr">valid_until</span>:<span class="string">&quot;2099-01-01T00:00:00&quot;</span>,<span class="attr">auto_renew</span>:!<span class="number">0</span>,<span class="attr">price</span>:<span class="number">12</span>,<span class="attr">verbose_plan_name</span>:<span class="string">&quot;Termius Pro Monthly&quot;</span>,<span class="attr">plan_type</span>:<span class="string">&quot;SINGLE&quot;</span>,<span class="attr">is_expired</span>:!<span class="number">1</span>&#125;,e.<span class="property">access_objects</span>=[&#123;<span class="attr">period</span>:&#123;<span class="attr">start</span>:<span class="string">&quot;2022-01-01T00:00:00&quot;</span>,<span class="attr">end</span>:<span class="string">&quot;2099-01-01T00:00:00&quot;</span>&#125;,<span class="attr">title</span>:<span class="string">&quot;Pro&quot;</span>&#125;];<span class="keyword">return</span> ...</span><br></pre></td></tr></table></figure><p>å¯åŠ¨Termiusï¼Œç™»å½•å¸å·ï¼Œé‡å¯Termius</p>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
&lt;h2 id=&quot;ç ´è§£æ–¹æ³•&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#ç ´è§£æ–¹æ³•&quot;&gt;Â¶&lt;/a&gt;ç ´è§£æ–¹æ³•&lt;/h2&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td cl</summary>
      
    
    
    <content src="https://galudisu.info/%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch2%20id=%22%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95%22%3E%C2%B6%3C/a%3E%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95%3C/h2%3E%3Cfigure%20class=%22highlight%20shell%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3Enpm%20install%20-g%20asar%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%89%80%E6%9C%89%E5%B9%B3%E5%8F%B0%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95%E5%A4%A7%E5%90%8C%E5%B0%8F%E5%BC%82%3C/p%3E%3Cul%3E%3Cli%3E%E8%A7%A3%E5%8C%85%3C/li%3E%3C/ul%3E%3Cfigure%20class=%22highlight%20shell%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3Ecd%20/opt/Termius/resources%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Easar%20extract%20app.asar%20./app%20#%20%E4%BF%AE%E6%94%B9%E5%AE%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E9%87%8D%E6%96%B0%E6%89%93%E5%8C%85%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Emv%20app.asar%20app.asar.bak%20#%20%E7%95%99%E4%B8%AA%E5%A4%87%E4%BB%BD%EF%BC%8C%E6%88%96%E8%80%85%E7%9B%B4%E6%8E%A5rm%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Erm%20app-update.yml%20#%20%E9%98%B2%E6%AD%A2%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cul%3E%3Cli%3E%E4%BF%AE%E6%94%B9app/js/background-process.js%3C/li%3E%3C/ul%3E%3Cp%3E%E6%90%9C%E7%B4%A2%20%3Ccode%3Eawait%20this.api.bulkAccount%3C/code%3E%3C/p%3E%3Cp%3E%3Ccode%3Econst%20e=await%20this.api.bulkAccount();%3C/code%3E%20-&amp;gt;%20%3Ccode%3Evar%20e=wait%20this.api.bulkAccount()%3C/code%3E%3C/p%3E%3Cfigure%20class=%22highlight%20javascript%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Evar%3C/span%3E%20e=%3Cspan%20class=%22keyword%22%3Eawait%3C/span%3E%20%3Cspan%20class=%22variable%20language_%22%3Ethis%3C/span%3E.%3Cspan%20class=%22property%22%3Eapi%3C/span%3E.%3Cspan%20class=%22title%20function_%22%3EbulkAccount%3C/span%3E();e.%3Cspan%20class=%22property%22%3Eaccount%3C/span%3E.%3Cspan%20class=%22property%22%3Epro_mode%3C/span%3E=!%3Cspan%20class=%22number%22%3E0%3C/span%3E,e.%3Cspan%20class=%22property%22%3Eaccount%3C/span%3E.%3Cspan%20class=%22property%22%3Eneed_to_update_subscription%3C/span%3E=!%3Cspan%20class=%22number%22%3E1%3C/span%3E,e.%3Cspan%20class=%22property%22%3Eaccount%3C/span%3E.%3Cspan%20class=%22property%22%3Ecurrent_period%3C/span%3E=&amp;#123;%3Cspan%20class=%22attr%22%3Efrom%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;2022-01-01T00:00:00&amp;quot;%3C/span%3E,%3Cspan%20class=%22attr%22%3Euntil%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;2099-01-01T00:00:00&amp;quot;%3C/span%3E&amp;#125;,e.%3Cspan%20class=%22property%22%3Eaccount%3C/span%3E.%3Cspan%20class=%22property%22%3Eplan_type%3C/span%3E=%3Cspan%20class=%22string%22%3E&amp;quot;Premium&amp;quot;%3C/span%3E,e.%3Cspan%20class=%22property%22%3Eaccount%3C/span%3E.%3Cspan%20class=%22property%22%3Euser_type%3C/span%3E=%3Cspan%20class=%22string%22%3E&amp;quot;Premium&amp;quot;%3C/span%3E,e.%3Cspan%20class=%22property%22%3Estudent%3C/span%3E=%3Cspan%20class=%22literal%22%3Enull%3C/span%3E,e.%3Cspan%20class=%22property%22%3Etrial%3C/span%3E=%3Cspan%20class=%22literal%22%3Enull%3C/span%3E,e.%3Cspan%20class=%22property%22%3Eaccount%3C/span%3E.%3Cspan%20class=%22property%22%3Eauthorized_features%3C/span%3E.%3Cspan%20class=%22property%22%3Eshow_trial_section%3C/span%3E=!%3Cspan%20class=%22number%22%3E1%3C/span%3E,e.%3Cspan%20class=%22property%22%3Eaccount%3C/span%3E.%3Cspan%20class=%22property%22%3Eauthorized_features%3C/span%3E.%3Cspan%20class=%22property%22%3Eshow_subscription_section%3C/span%3E=!%3Cspan%20class=%22number%22%3E0%3C/span%3E,e.%3Cspan%20class=%22property%22%3Eaccount%3C/span%3E.%3Cspan%20class=%22property%22%3Eauthorized_features%3C/span%3E.%3Cspan%20class=%22property%22%3Eshow_github_account_section%3C/span%3E=!%3Cspan%20class=%22number%22%3E1%3C/span%3E,e.%3Cspan%20class=%22property%22%3Eaccount%3C/span%3E.%3Cspan%20class=%22property%22%3Eexpired_screen_type%3C/span%3E=%3Cspan%20class=%22literal%22%3Enull%3C/span%3E,e.%3Cspan%20class=%22property%22%3Epersonal_subscription%3C/span%3E=&amp;#123;%3Cspan%20class=%22attr%22%3Enow%3C/span%3E:(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EDate%3C/span%3E).%3Cspan%20class=%22title%20function_%22%3EtoISOString%3C/span%3E().%3Cspan%20class=%22title%20function_%22%3Eslice%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E,-%3Cspan%20class=%22number%22%3E5%3C/span%3E),%3Cspan%20class=%22attr%22%3Estatus%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;SUCCESS&amp;quot;%3C/span%3E,%3Cspan%20class=%22attr%22%3Eplatform%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;stripe&amp;quot;%3C/span%3E,%3Cspan%20class=%22attr%22%3Ecurrent_period%3C/span%3E:&amp;#123;%3Cspan%20class=%22attr%22%3Efrom%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;2022-01-01T00:00:00&amp;quot;%3C/span%3E,%3Cspan%20class=%22attr%22%3Euntil%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;2099-01-01T00:00:00&amp;quot;%3C/span%3E&amp;#125;,%3Cspan%20class=%22attr%22%3Erevokable%3C/span%3E:!%3Cspan%20class=%22number%22%3E0%3C/span%3E,%3Cspan%20class=%22attr%22%3Erefunded%3C/span%3E:!%3Cspan%20class=%22number%22%3E1%3C/span%3E,%3Cspan%20class=%22attr%22%3Ecancelable%3C/span%3E:!%3Cspan%20class=%22number%22%3E0%3C/span%3E,%3Cspan%20class=%22attr%22%3Ereactivatable%3C/span%3E:!%3Cspan%20class=%22number%22%3E1%3C/span%3E,%3Cspan%20class=%22attr%22%3Ecurrency%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;usd&amp;quot;%3C/span%3E,%3Cspan%20class=%22attr%22%3Ecreated_at%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;2022-01-01T00:00:00&amp;quot;%3C/span%3E,%3Cspan%20class=%22attr%22%3Eupdated_at%3C/span%3E:(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EDate%3C/span%3E).%3Cspan%20class=%22title%20function_%22%3EtoISOString%3C/span%3E().%3Cspan%20class=%22title%20function_%22%3Eslice%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E,-%3Cspan%20class=%22number%22%3E5%3C/span%3E),%3Cspan%20class=%22attr%22%3Evalid_until%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;2099-01-01T00:00:00&amp;quot;%3C/span%3E,%3Cspan%20class=%22attr%22%3Eauto_renew%3C/span%3E:!%3Cspan%20class=%22number%22%3E0%3C/span%3E,%3Cspan%20class=%22attr%22%3Eprice%3C/span%3E:%3Cspan%20class=%22number%22%3E12%3C/span%3E,%3Cspan%20class=%22attr%22%3Everbose_plan_name%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;Termius%20Pro%20Monthly&amp;quot;%3C/span%3E,%3Cspan%20class=%22attr%22%3Eplan_type%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;SINGLE&amp;quot;%3C/span%3E,%3Cspan%20class=%22attr%22%3Eis_expired%3C/span%3E:!%3Cspan%20class=%22number%22%3E1%3C/span%3E&amp;#125;,e.%3Cspan%20class=%22property%22%3Eaccess_objects%3C/span%3E=[&amp;#123;%3Cspan%20class=%22attr%22%3Eperiod%3C/span%3E:&amp;#123;%3Cspan%20class=%22attr%22%3Estart%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;2022-01-01T00:00:00&amp;quot;%3C/span%3E,%3Cspan%20class=%22attr%22%3Eend%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;2099-01-01T00:00:00&amp;quot;%3C/span%3E&amp;#125;,%3Cspan%20class=%22attr%22%3Etitle%3C/span%3E:%3Cspan%20class=%22string%22%3E&amp;quot;Pro&amp;quot;%3C/span%3E&amp;#125;];%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20...%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%90%AF%E5%8A%A8Termius%EF%BC%8C%E7%99%BB%E5%BD%95%E5%B8%90%E5%8F%B7%EF%BC%8C%E9%87%8D%E5%90%AFTermius%3C/p%3E" type="image"/>
    
    
    
    <category term="termius" scheme="https://galudisu.info/tags/termius/"/>
    
  </entry>
  
  <entry>
    <title>ruståŸºç¡€å…¥é—¨[23] - More About Lifetimes</title>
    <link href="https://galudisu.info/2023/01/23/rust/beginning/chapter23_More%20About%20Lifetimes/"/>
    <id>https://galudisu.info/2023/01/23/rust/beginning/chapter23_More%20About%20Lifetimes/</id>
    <published>2023-01-23T07:50:46.000Z</published>
    <updated>2025-04-27T11:59:08.286Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç« è¦†ç›–æœ‰ï¼š</p><ul><li>ç®€å•ã€è‡ªç”±(free)å‡½æ•°å’Œæ–¹æ³•éœ€è¦é¿å…å†™å…¥ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨(lifetime specifiers)ï¼Œå› ä¸ºå®ƒä»¬æ˜¯è¢«æ¨æ–­çš„</li><li>ä¸ºä»€ä¹ˆåŒ…å«å¼•ç”¨çš„ç»“æ„ä½“(structs)ã€å…ƒç»„-ç»“æ„ä½“(tuple-structs)ã€æšä¸¾(enums)éœ€è¦ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨(lifetime specifiers)</li><li>å¦‚ä½•ä¸ºç»“æ„ä½“(structs)ã€å…ƒç»„-ç»“æ„ä½“(tuple-structs)ã€æšä¸¾(enums)ç¼–å†™ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨(lifetime specifiers)</li><li>ä¸ºä»€ä¹ˆåŒ…å«æŒ‡å‘æ³›å‹å‚æ•°çš„ç»“æ„ä½“éœ€è¦ç”Ÿå‘½å‘¨æœŸè¾¹ç•Œ(åå˜ã€é€†åå˜)</li></ul><span id="more"></span><h2 id="Lifetime-Elision"><a class="header-anchor" href="#Lifetime-Elision">Â¶</a>Lifetime Elision</h2><p>ä¸Šä¸€ç« èŠ‚ï¼Œæˆ‘ä»¬çœ‹åˆ°æ¯ä¸ªå‡½æ•°ç­¾åï¼Œéƒ½å¿…é¡»ç¡®å®šå¼•ç”¨è¿”å›å€¼ï¼Œå³è¦ä¹ˆæ˜¯<code>'static</code>çš„lifetime specifierï¼Œè¦ä¹ˆæ˜¯å…³è”çš„å‡½æ•°å‚æ•°çš„lifetime specifierã€‚</p><p>æœ‰æ—¶é¿å…ç¼–å†™è¿™ç§çƒ¦äººçš„æ³¨è§£ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">f</span>(x: &amp;<span class="type">u8</span>) <span class="punctuation">-&gt;</span> &amp;<span class="type">u8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä»£ç æ˜¯è¢«å…è®¸çš„ã€‚è¿”å›çš„å€¼æ˜¯ä¸ªå¼•ç”¨ï¼Œå®ƒæ²¡ç”¨æŒ‡å®šç”Ÿå‘½å‘¨æœŸï¼Œä½†å®ƒä¹Ÿä¸æ˜¯<code>'static</code>çš„ï¼Œå› æ­¤è¿™ä¸ªéšå¼ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨(implicit lifetime specifier)å¿…é¡»æ˜¯å‡½æ•°å‚æ•°ä¸­çš„å…¶ä¸­ä¸€ä¸ªã€‚å› ä¸ºå‡½æ•°å‚æ•°ä»…æœ‰ä¸€ä¸ªï¼Œå› æ­¤å®ƒçš„lifetime specifieræ— å¯åšéå°±æ˜¯è¯¥å‚æ•°å…³è”çš„lifetime specifierã€‚æ¢è¨€ä¹‹ï¼Œè¿™ä¸ªå£°æ˜å‡½æ•°ç­‰æ•ˆäºä¸‹é¢çš„å†™æ³•ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(x: &amp;<span class="symbol">&#x27;a</span> <span class="type">u8</span>) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;a</span> <span class="type">u8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”šè‡³ä¸‹é¢çš„å£°æ˜ä¹Ÿæ˜¯æœ‰æ•ˆçš„ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">f</span>(b: <span class="type">bool</span>, x: (<span class="type">u32</span>, &amp;<span class="type">u8</span>)) <span class="punctuation">-&gt;</span> &amp;<span class="type">u8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› ä¸ºä»…æœ‰ä¸€ä¸ªå¼•ç”¨ï¼Œå› æ­¤å¯ä»¥æ¨æ–­å‡ºè¿”å›å€¼æŒ‡å‘çš„å¯¹è±¡ã€‚</p><p>ä¸‹é¢çš„ä»£ç ä¹Ÿæ˜¯æœ‰æ•ˆçš„ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">f</span>(x: &amp;<span class="type">u8</span>) <span class="punctuation">-&gt;</span> (&amp;<span class="type">u8</span>, &amp;<span class="type">f64</span>, <span class="type">bool</span>, &amp;<span class="type">Vec</span>&lt;<span class="type">String</span>&gt;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µï¼Œè¿”å›å€¼æœ‰å¥½å‡ ä¸ªå¼•ç”¨ï¼Œä½†å‚æ•°çš„å¼•ç”¨ä»ç„¶ä»…æœ‰ä¸€ç§ã€‚</p><p>å‚æ•°å¼•ç”¨ç±»å‹ä»…æœ‰ä¸€ç§æ—¶ï¼Œä½ ç”šè‡³å¯ä»¥çœç•¥å…¶è¿”å›å€¼ç±»å‹ï¼Œè€Œç”¨åœ¨å…¶å®ƒç±»å‹ä¸­æŒ‡å®šã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(x: &amp;<span class="symbol">&#x27;a</span> <span class="type">u8</span>) <span class="punctuation">-&gt;</span> (&amp;<span class="type">u8</span>, &amp;<span class="symbol">&#x27;a</span> <span class="type">f64</span>, <span class="type">bool</span>, &amp;<span class="symbol">&#x27;static</span> <span class="type">Vec</span>&lt;<span class="type">String</span>&gt;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„è¿”å›å€¼åŒ…å«ä¸‰ä¸ªå¼•ç”¨ï¼šç¬¬ä¸€ä¸ªæ²¡æœ‰æŒ‡å®šï¼Œç¬¬äºŒå­—æ®µæœ‰<code>'a</code>ï¼Œç¬¬ä¸‰ä¸ªç”¨äº†<code>'static</code>ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨ã€‚ç„¶è€Œï¼Œå‚æ•°ä¸­ä»ç„¶ä»…æœ‰ä¸€ä¸ªå¼•ç”¨ï¼Œå› æ­¤è¿”å›çš„ç¬¬ä¸€ä¸ªå­—æ®µçš„å¼•ç”¨æœ‰ä¸€ä¸ªéšå¼<code>'a</code>ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨ã€‚</p><p>è¿™ç§çœç•¥æœºåˆ¶ç§°ä¸ºâ€œ<strong>lifetime elision</strong>â€ã€‚ä¸ºäº†ç®€åŒ–è¯­æ³•ï¼Œç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨é‡åˆ°è¿™ç§ä»…æœ‰ä¸€ä¸ªéé™æ€(non-static)å€¼æ—¶ï¼Œå¯ä»¥ <strong>åˆ å»(elided)</strong> ã€‚</p><h2 id="Lifetime-Elision-with-Object-Oriented-Programming"><a class="header-anchor" href="#Lifetime-Elision-with-Object-Oriented-Programming">Â¶</a>Lifetime Elision with Object-Oriented Programming</h2><p>è€ƒè™‘ä¸‹é¢ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">f</span>(&amp;<span class="keyword">self</span>, y: &amp;<span class="type">u8</span>) <span class="punctuation">-&gt;</span> (&amp;<span class="type">u8</span>, &amp;<span class="type">f64</span>, <span class="type">bool</span>, &amp;<span class="type">Vec</span>&lt;<span class="type">String</span>&gt;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› ä¸ºå‚æ•°æœ‰ä¸¤ä¸ªå¼•ç”¨ï¼Œæ‰€ä»¥å‰é¢çš„è§„åˆ™ä¸èµ·ä½œç”¨ã€‚ç„¶è€Œï¼Œå½“ä¸€ä¸ªæ–¹æ³•è¿”å›æŸäº›å¼•ç”¨æ—¶ï¼Œå¤šæ•°æƒ…å†µä¸‹è¿™äº›å¼•ç”¨ä¼šç§Ÿå€Ÿå½“å‰çš„å¯¹è±¡ï¼Œå³ç”±<code>&amp;self</code>æŒ‡å‘çš„å€¼ã€‚å› æ­¤ï¼Œä¸ºäº†ç®€åŒ–è¡¨è¾¾å¼ï¼Œå‰é¢çš„ä»£ç è¢«çœ‹åšæ˜¯ä¸‹é¢çš„ç­‰ä»·ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(&amp;<span class="symbol">&#x27;a</span> <span class="keyword">self</span>, y: &amp;<span class="type">u8</span>) <span class="punctuation">-&gt;</span> (&amp;<span class="symbol">&#x27;a</span> <span class="type">u8</span>, &amp;<span class="symbol">&#x27;a</span> <span class="type">f64</span>, <span class="type">bool</span>, &amp;<span class="symbol">&#x27;a</span> <span class="type">Vec</span>&lt;<span class="type">String</span>&gt;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›®å‰ï¼Œä½ å¯ä»¥ä¸ºç‰¹å®šå¼•ç”¨é‡è½½è¡Œä¸ºã€‚è¿™ç§æƒ…å†µï¼Œä½ å¸Œæœ›è¿”å›å€¼çš„ç¬¬äºŒä¸ªå­—æ®µç”Ÿå‘½å‘¨æœŸå…³è”å‚æ•°<code>y</code>ï¼Œä½ éœ€è¦å†™ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(&amp;<span class="keyword">self</span>, y: &amp;<span class="symbol">&#x27;a</span> <span class="type">u8</span>) <span class="punctuation">-&gt;</span> (&amp;<span class="type">u8</span>, &amp;<span class="symbol">&#x27;a</span> <span class="type">f64</span>, <span class="type">bool</span>, &amp;<span class="type">Vec</span>&lt;<span class="type">String</span>&gt;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œtupleä¸­ç¬¬äºŒä¸ªå­—æ®µæŒ‡å‘çš„å¯¹è±¡ï¼Œå­˜æ´»æ—¶é—´å¿…é¡»è¦å°‘äº<code>y</code>æŒ‡å‘çš„å¯¹è±¡ï¼Œä»¥åŠç¬¬ä¸€ä¸ªå­—æ®µå’Œç¬¬å››ä¸ªå­—æ®µæŒ‡å‘çš„å¯¹è±¡ï¼Œå­˜æ´»æ—¶é—´å¿…é¡»è¦å°‘äº<code>self</code>æŒ‡å‘çš„å¯¹è±¡ã€‚</p><p>å½“ç„¶ï¼Œè¿™ä¸ªè§„åˆ™åŒæ ·ä½œç”¨äº<code>&amp;mut self</code>å‚æ•°ã€‚</p><h2 id="The-Need-of-Lifetime-Specifiers-for-Structs"><a class="header-anchor" href="#The-Need-of-Lifetime-Specifiers-for-Structs">Â¶</a>The Need of Lifetime Specifiers for Structs</h2><p>ä¸Šä¸€ä¸ªç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°è¿™ç§ä»£ç æ˜¯æœ‰æ•ˆçš„ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">i32</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_y</span>: &amp;<span class="type">i32</span> = &amp;x;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸ºï¼Œå°½ç®¡<code>_y</code>æŒæœ‰å¯¹<code>x</code>çš„å¼•ç”¨ï¼Œå®ƒå­˜æ´»å°‘äº<code>x</code>ã€‚</p><p>ç›¸åï¼Œä¸‹é¢æ˜¯ä¸åˆæ³•çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">_y</span>: &amp;<span class="type">i32</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">i32</span> = <span class="number">12</span>;</span><br><span class="line">_y = &amp;x;</span><br></pre></td></tr></table></figure><p>å› ä¸º<code>_y</code>å…ˆäº<code>x</code>å£°æ˜ï¼Œæ‰€ä»¥å®ƒä¼šåœ¨<code>x</code>åé”€æ¯ï¼Œå®ƒå­˜æ´»é•¿äº<code>x</code>ã€‚</p><p>æˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ï¼Œå¯¹äºå‡½æ•°ç­¾åï¼Œéœ€è¦æœ‰åˆé€‚çš„æ³¨è§£(å³lifetime specifier)ï¼Œæ¥æ»¡è¶³æœ‰æ•ˆçš„ç§Ÿå€Ÿæ£€æŸ¥(borrow checker)ã€‚</p><p>é™¤äº†ä¸Šä¸€ç« ä»‹ç»è¿™äº›æƒ…å†µï¼Œå¯¹äºç»“æ„ä½“(struct)æ¥è¯´ï¼ŒåŒ…å«æŸäº›å¼•ç”¨çš„issueä¸‹ä¹Ÿç›¸ä¼¼ã€‚</p><p>ä¸‹é¢ä»£ç çœ‹èµ·æ¥æ˜¯åˆæ³•çš„(å®é™…ä¸Šä¸æ˜¯)ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;</span><br><span class="line">_b: <span class="type">bool</span>,</span><br><span class="line">_ri: &amp;<span class="type">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">i32</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_y</span>: S = S &#123; _b: <span class="literal">true</span>, _ri: &amp;x &#125;;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è¿™ç§å¾ˆæ˜æ˜¾æ˜¯ä¸åˆæ³•ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;</span><br><span class="line">_b: <span class="type">bool</span>,</span><br><span class="line">_ri: &amp;<span class="type">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_y</span>: S;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">i32</span> = <span class="number">12</span>;</span><br><span class="line">_y = s &#123; _b: <span class="literal">true</span>, _ri: &amp;x &#125;;</span><br></pre></td></tr></table></figure><p>å°½ç®¡<code>S</code>çš„å­—æ®µ<code>_ri</code>æŒæœ‰ä¸€ä¸ª<code>x</code>çš„å¼•ç”¨ï¼Œä½†å®ƒå­˜æ´»é•¿äº<code>x</code>ã€‚</p><p>è¿™ç§æƒ…å†µå¯ä»¥éå¸¸ç®€å•åˆ†æå‡ºæ¥ï¼Œä½†åœ¨ä¸€ä¸ªreal-worldç¨‹åºä¸­å¯èƒ½æ˜¯ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// In some library code:</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;</span><br><span class="line">_b: <span class="type">bool</span>,</span><br><span class="line">_ri: &amp;<span class="type">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">create_s</span>(ri: &amp;<span class="type">i32</span>) <span class="punctuation">-&gt;</span> &#123;</span><br><span class="line">s &#123; _b: <span class="literal">true</span>, _ri: ri &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// In application code:</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_y</span>: S;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">i32</span> = <span class="number">12</span>;</span><br><span class="line">_y = <span class="title function_ invoke__">create_s</span>(&amp;x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥ç¨‹åºä»£ç æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºï¼Œå½“è°ƒç”¨<code>create_s</code>æ—¶ï¼ŒæŒ‡å‘<code>x</code>çš„å¼•ç”¨ä¼šè¢«å­˜å‚¨åœ¨<code>_y</code>å¯¹è±¡å†…éƒ¨ï¼Œä½†<code>_y</code>å­˜æ´»é•¿äº<code>x</code>(<code>_y</code>å…ˆäº<code>x</code>å£°æ˜)ã€‚</p><p>ä½†ç¨‹åºå‘˜è‹¥ä¸æŸ¥çœ‹å‡½æ•°ä½“çš„ä»£ç ï¼Œåˆæ€ä¹ˆçŸ¥é“<code>create_s</code>å‡½æ•°å°†å‚æ•°çš„å¼•ç”¨å¯¹è±¡ä½œä¸ºè¿”å›å­˜å‚¨äº†ï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢çš„æœ‰æ•ˆç¨‹åºï¼Œå®ƒå’Œä¸Šé¢è¿™ä¸ªç±»ä¼¼ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// In some library code:</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;</span><br><span class="line">_b: <span class="type">bool</span>,</span><br><span class="line">_ri: &amp;<span class="symbol">&#x27;static</span> <span class="type">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">create_s</span>(ri: &amp;<span class="type">i32</span>) <span class="punctuation">-&gt;</span> S &#123;</span><br><span class="line"><span class="keyword">static</span> ZERO: <span class="type">i32</span> = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">static</span> ONE: <span class="type">i32</span> = <span class="number">1</span>;</span><br><span class="line">S &#123;</span><br><span class="line">_b: <span class="literal">true</span>,</span><br><span class="line">_ri: <span class="keyword">if</span> *ri &gt; <span class="number">0</span> &#123; &amp;ONE &#125; <span class="keyword">else</span> &#123; &amp;ZERO &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// In application code:</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_y</span>: S;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">i32</span> = <span class="number">12</span>;</span><br><span class="line">_y = <span class="title function_ invoke__">create_s</span>(&amp;x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç ä¸­ï¼Œå‡½æ•°<code>create_s</code>ä»…æ˜¯ç”¨<code>ri</code>å‚æ•°æ¥åˆå§‹åŒ–ç»“æ„ä½“çš„<code>_ri</code>å­—æ®µã€‚å› æ­¤å‚æ•°çš„å€¼æ²¡æœ‰è¢«å­˜å‚¨åœ¨ç»“æ„ä½“å†…ã€‚<code>_ri</code>ä¼šåŒ…å«ä¸€ä¸ªé™æ€å€¼ï¼Œå³<code>ZERO</code>æˆ–<code>ONE</code>ï¼Œé™æ€å˜é‡ä¸ä¼šè¢«é”€æ¯ã€‚</p><p>è¿™é‡Œçš„<code>create_s</code>å‡½æ•°ç­¾åè™½ç„¶å’Œä¸Šä¸€ä¸ªä»£ç ä¸€æ ·ï¼›ä½†å‰ä¸€ä¸ªä»£ç æ˜¯ä¸åˆæ³•çš„ï¼Œå› ä¸ºå‚æ•°è¢«å­˜å‚¨åœ¨ç»“æ„ä½“çš„å­—æ®µä¸­ï¼Œè€Œè¿™é‡Œï¼Œå‚æ•°é€šè¿‡<code>*ri</code>ä½¿ç”¨åï¼Œscopeå°±å·²ç»ç»“æŸäº†ï¼Œå¹¶è¢«å›æ”¶æ‰ã€‚</p><p>å› æ­¤ï¼Œå¦‚æœæ²¡æœ‰lifetime specifierï¼Œç¼–ç¨‹è€…è¢«å¼ºè¿«å»é˜…è¯»å‡½æ•°<code>create_s</code>çš„æ–¹æ³•ä½“çš„å†…å®¹ï¼Œè¿™æ ·æ‰èƒ½å¾—çŸ¥è¯¥å‡½æ•°æ˜¯å¦ä¼šå­˜å‚¨å‚æ•°çš„å¼•ç”¨å¯¹è±¡ã€‚è¿™ç§è®¾è®¡æ˜¯ç³Ÿç³•çš„ã€‚</p><p>ä¸ºäº†è®©ç¼–ç¨‹è€…é¿å…éœ€è¦åˆ†æ<code>create_s</code>å‡½æ•°æ¥å¾—çŸ¥å¯¹è±¡çš„å£°æ˜å‘¨æœŸæ˜¯å¦åˆæ³•ï¼Œæœ‰å¿…è¦æœ‰æ›´è¿›ä¸€æ­¥çš„ç”Ÿå‘½å‘¨æœŸæ³¨è§£(lifetime annotations)ã€‚</p><p>å› æ­¤ï¼Œç±»ä¼¼äºå‡½æ•°ï¼Œä»…æ˜¯å¯¹äºç»“æ„ä½“å‡½æ•°ï¼Œå¿…é¡»æ˜¾å¼æŒ‡å®šå®ƒä»¬å­—æ®µçš„æ¯ä¸ªå¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><p>è¿™è§£æäº†ä¸Šé¢ä»£ç ä¸­ï¼Œå½¢å¼ä¸Šçœ‹èµ·æ¥æ˜¯æœ‰æ•ˆçš„ä»£ç ç‰‡æ®µï¼Œå®é™…ä¸Šä¼šäº§ç”Ÿâ€œmissing lifetime specifierâ€çš„ç¼–è¯‘é”™è¯¯ã€‚</p><h2 id="Possible-Lifetime-Specifiers-for-Structs"><a class="header-anchor" href="#Possible-Lifetime-Specifiers-for-Structs">Â¶</a>Possible Lifetime Specifiers for Structs</h2><p>å®é™…ä¸Šï¼Œå¯¹äºä¸€ä¸ªç»“æ„ä½“çš„å¼•ç”¨å­—æ®µçš„ç”Ÿå‘½å‘¨æœŸï¼ŒRustç¼–è¯‘å™¨ä»…å…è®¸ä¸¤ç§å¯èƒ½ï¼š</p><ul><li>è¯¥å­—æ®µä»…æŒ‡å‘é™æ€å¯¹è±¡(static objects)ã€‚</li><li>æˆ–è€…æŒ‡å‘çš„å¯¹è±¡ï¼Œè™½ç„¶ä¸æ˜¯é™æ€çš„ï¼Œä½†é¢„å…ˆå­˜åœ¨æ•´ä¸ªç»“æ„ä½“å¯¹è±¡ä¸­ï¼Œå¹¶ä¸”å­˜æ´»é•¿äºè¯¥ç»“æ„ä½“ã€‚</li></ul><p>ç¬¬ä¸€ç§æƒ…å†µå·²ç»ä»‹ç»è¿‡ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123; _b: <span class="type">bool</span>, _ri: &amp;<span class="symbol">&#x27;static</span> <span class="type">i32</span> &#125;</span><br></pre></td></tr></table></figure><p>è¯¥ç»“æ„ä½“åŒ…å«æœ‰ä¸€ä¸ªå¼•ç”¨ï¼Œä¸è¿‡å®ƒæ˜¯<code>'static</code>å¼•ç”¨ï¼Œæ‰€ä»¥è¯¥å¼•ç”¨ä¸èƒ½è¢«æŒ‡æ´¾ç»™ä»»ä½•ç§Ÿå€Ÿçš„å¼•ç”¨å€¼ã€‚å› æ­¤ä¸ä¼šæœ‰ç”Ÿå‘½å‘¨æœŸçš„è®¨è®ºé—®é¢˜ï¼Œåªè¦<code>_ri</code>å­—æ®µè¢«åˆ†é…çš„æ˜¯é™æ€å¼•ç”¨ã€‚</p><p>ç›¸åï¼Œå¯¹äºç¬¬äºŒç§æƒ…å†µï¼Œä¸‹é¢æœ‰æ•ˆä»£ç é˜è¿°ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// In some library code:</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">s</span>&lt;<span class="symbol">&#x27;a</span>&gt; &#123; _b: <span class="type">bool</span>, _ri: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span> &#125;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">create_s</span>&lt;<span class="symbol">&#x27;b</span>&gt;(ri: &amp;<span class="symbol">&#x27;b</span> <span class="type">i32</span>) <span class="punctuation">-&gt;</span> S&lt;<span class="symbol">&#x27;b</span>&gt; &#123;</span><br><span class="line">s&#123; _b: <span class="literal">true</span>, _ri: ri &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// In application code:</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">i32</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_y</span>: S;</span><br><span class="line">_y = <span class="title function_ invoke__">create_s</span>(&amp;x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå˜é‡<code>x</code>çš„å€¼è¢«<code>create_s</code>å‡½æ•°ç§Ÿå€Ÿä»¥åŠæŒä¹…åŒ–ã€‚å®é™…ä¸Šï¼Œå®ƒè¢«å­˜å‚¨åœ¨ç»“æ„å¯¹è±¡çš„è¿”å›å­—æ®µ<code>_ri</code>ä¸­ï¼›è¯¥å¯¹è±¡åœ¨<code>main</code>å‡½æ•°ä¸­è¢«ç”¨äºåˆå§‹åŒ–å˜é‡<code>_y</code>ã€‚å› æ­¤ï¼Œå˜é‡<code>_y</code>å¿…é¡»å­˜æ´»å°‘äº<code>x</code>ã€‚è‹¥å°†<code>let _y: S;</code>ç§»åˆ°<code>x</code>å‰é¢ï¼Œå…ˆäº<code>x</code>å£°æ˜ï¼Œä¼šäº§ç”Ÿé”™è¯¯â€œ<code>x</code> does not live long enoughâ€ã€‚</p><p>è¦åˆ¤æ–­<code>_x</code>æ˜¯å¦è¢«å­˜å‚¨åœ¨ç»“æ„ä½“å†…éƒ¨ï¼Œä¸éœ€è¦æ£€æŸ¥<code>create_s</code>å‡½æ•°ä½“å†…éƒ¨å®ç°ï¼Œä¹Ÿä¸éœ€è¦æ£€æŸ¥ç»“æ„ä½“<code>S</code>çš„å­—æ®µï¼›æ£€æŸ¥<code>create_s</code>å’Œ<code>S</code>çš„å‡½æ•°ç­¾åè¶³å¤Ÿäº†ã€‚</p><p>é€šè¿‡æ£€æŸ¥<code>create_s</code>å‡½æ•°ç­¾åï¼Œå‘ç°å¼•ç”¨å‚æ•°çš„ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨ï¼Œå’Œè¿”å›å€¼<code>S</code>ç±»å‹çš„å¼•ç”¨æŒ‡ç¤ºå™¨æ˜¯åŒä¸€ä¸ª<code>'b</code>ã€‚è¿™æ„å‘³ç€è¿”å›çš„ç»“æ„ä½“å¿…é¡»å­˜æ´»é•¿äºç§Ÿå€Ÿçš„<code>i32</code>ç±»å‹çš„å¯¹è±¡ã€‚</p><p>é€šè¿‡æ£€æŸ¥ç»“æ„ä½“<code>S</code>çš„ç­¾åï¼Œå‘ç°å®ƒç”±ä¸€ä¸ªlifetime specifierå‚æ•°åŒ–ï¼Œä¹Ÿæ„å‘³ç€ç›¸å…³çš„æŸä¸ªå­—æ®µä¸ä¼šæ˜¯<code>'static</code>çš„å¼•ç”¨ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å‘ç°<code>create_s</code>å‡½æ•°æ˜¯é€šè¿‡åŒä¸€ä¸ªlifetime specifierï¼Œè·å–å‚æ•°çš„å¼•ç”¨å’Œå‚æ•°åŒ–çš„(parameterizedè¿”å›å¯¹è±¡ã€‚è¿™è¡¨ç¤ºè¿”å›çš„å¼•ç”¨çš„å¯¹è±¡ï¼Œå¯èƒ½ç§Ÿå€Ÿè‡ªå¼•ç”¨å‚æ•°ã€‚</p><p>ç¼–è¯‘å™¨å¿…é¡»åˆ†åˆ«æ£€æµ‹ç»“æ„å£°æ˜çš„ä¸€è‡´æ€§ã€‚<code>struct S&lt;'a&gt;</code>è¡¨ç¤º<code>S</code>ç§Ÿå€Ÿäº†æŸäº›å¯¹è±¡ï¼Œè€Œç»“æ„ä½“å†…çš„<code>_ri: &amp;'a i32</code>è¡¨ç¤º<code>_ri</code>å­—æ®µæ˜¯ä¸€ä¸ªå¼•ç”¨ç§Ÿå€Ÿäº†ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>å› æ­¤ï¼ŒåŒ…å«æœ‰å¼•ç”¨å­—æ®µçš„ç»“æ„ä½“ï¼Œä»…å…è®¸ä¸¤ç§åˆæ³•è¯­æ³•ï¼šâ€œ<code>field: &amp;'static type</code>â€ æˆ– â€œ<code>field: &amp;'lifetime type</code>â€ï¼Œå…¶ä¸­<code>lifetime</code>ä¹Ÿæ˜¯ç»“æ„ä½“è‡ªèº«çš„ä¸€ä¸ªå‚æ•°ã€‚å¦‚æœç»“æ„ä½“ä¸åŒ…å«å¼•ç”¨å­—æ®µæˆ–ä»…ä¼šå‡ºç°é™æ€å¼•ç”¨å­—æ®µï¼Œç»“æ„ä½“å¯ä»¥ä¸éœ€è¦å£°æ˜å‘¨æœŸå‚æ•°ã€‚</p><p>ç”±äºä»…åŒ…å«ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡lifetime elisionç”±å…¶éšå¼æ¨æ–­ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">create_s</span>(ri: &amp; <span class="type">i32</span>) <span class="punctuation">-&gt;</span> S &#123;</span><br><span class="line">S&#123; _b: <span class="literal">true</span>, _ri: ri &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œå¯èƒ½ä¼šæœ‰å‡ ç§çš„è¯­æ³•é”™è¯¯æƒ…å†µï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">_S1</span> &#123; _f: &amp;<span class="type">i32</span> &#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">_S2</span>&lt;<span class="symbol">&#x27;a</span>&gt; &#123; _f: &amp;<span class="type">i32</span> &#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">_S3</span> &#123; _f: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span> &#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">_S4</span>&lt;<span class="symbol">&#x27;a</span>&gt; &#123; _f: &amp;<span class="symbol">&#x27;static</span> <span class="type">i32</span> &#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">_S5</span> &#123; _f: &amp;<span class="symbol">&#x27;static</span> <span class="type">i32</span> &#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">_S6</span>&lt;<span class="symbol">&#x27;a</span>&gt; &#123; _f: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span> &#125;</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¡å’Œç¬¬å››æ¡è¯­å¥æ˜¯ä¸åˆæ³•çš„ã€‚<code>_S1</code>å’Œ<code>_S2</code>çš„å£°æ˜æ˜¯ä¸åˆæ³•çš„ï¼Œå› ä¸º<code>_f</code>å­—æ®µæ˜¯ä¸€ä¸ªå¼•ç”¨å­—æ®µï¼Œæ²¡æœ‰lifetime specifierã€‚</p><p><code>_S3</code>çš„å£°æ˜æ˜¯ä¸åˆæ³•çš„ï¼Œå› ä¸ºç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨<code>'a</code>æ²¡æœ‰ä½œä¸º<code>S</code>çš„ä¸€ä¸ªå‚æ•°ã€‚</p><p><code>_S4</code>çš„å£°æ˜æ˜¯ä¸åˆæ³•çš„ï¼Œå› ä¸ºå‚æ•°<code>'a</code>æ²¡ç”¨è¢«ç”¨äºç»“æ„ä½“å†…ã€‚</p><p>ç›¸åï¼Œæœ€åä¸¤ä¸ªç»“æ„ä½“çš„å£°æ˜æ˜¯æœ‰æ•ˆçš„ã€‚<code>_S5</code>åŒ…å«ä¸€ä¸ªé™æ€å¯¹è±¡å¼•ç”¨ã€‚è€Œ<code>_S6</code>åŒ…å«åŒ…å«çš„å¼•ç”¨æ€»æ˜¯å­˜æ´»é•¿äºç»“æ„ä½“è‡ªèº«ã€‚</p><h2 id="Other-Uses-of-Lifetime-Specifiers"><a class="header-anchor" href="#Other-Uses-of-Lifetime-Specifiers">Â¶</a>Other Uses of Lifetime Specifiers</h2><p>æˆ‘ä»¬çŸ¥é“ï¼Œå½“å®šä¹‰ä¸€ä¸ªåŒ…å«å¼•ç”¨çš„ç»“æ„ä½“ç±»å‹æ—¶ï¼Œç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨æ˜¯å¿…è¦çš„ã€‚å¯¹äºå…ƒç»„-ç»“æ„ä½“ç±»å‹ä¹Ÿä¸€æ ·ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">TS</span>&lt;<span class="symbol">&#x27;a</span>&gt;(&amp;<span class="symbol">&#x27;a</span> <span class="type">u8</span>);</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">E</span>&lt;<span class="symbol">&#x27;a</span>, <span class="symbol">&#x27;b</span>&gt; &#123;</span><br><span class="line">    _A(&amp;<span class="symbol">&#x27;a</span> <span class="type">u8</span>),</span><br><span class="line">    _B,</span><br><span class="line">    _C(<span class="type">bool</span>, &amp;<span class="symbol">&#x27;b</span> <span class="type">f64</span>, <span class="type">char</span>),</span><br><span class="line">    _D(&amp;<span class="symbol">&#x27;static</span> <span class="type">str</span>),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">byte</span> = <span class="number">34</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_ts</span> = <span class="title function_ invoke__">TS</span>(&amp;byte);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_e</span> = E::_A(&amp;byte);</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç æ˜¯æœ‰æ•ˆçš„ï¼Œä»¥åŠç§»é™¤ä»»ä½•ä¸€ä¸ªlifetime specifierï¼Œéƒ½ä¼šäº§ç”Ÿâ€œmissing lifetime specifierâ€é”™è¯¯ã€‚</p><p>é¡ºå¸¦ä¸€ä¸‹ï¼Œæ³¨æ„<code>E::_D</code>å­—æ®µçš„å®šä¹‰ã€‚å®ƒæ˜¯ä¸€ä¸ªstatic string slice å¼•ç”¨ã€‚å®ƒä»¬æ˜¯ <strong>å­—ç¬¦ä¸²å­—é¢é‡(string literals)</strong>ã€‚</p><p>ä¸ºäº†ç®€åŒ–ï¼Œæˆ‘ä»¬ä»ä¸åœ¨å¯å˜å¼•ç”¨ä¸­æ··å…¥æŒ‡ç¤ºå™¨ã€‚å®é™…ä¸Šï¼Œå®ƒæ˜¯è¢«å…è®¸çš„ï¼Œè™½ç„¶å¾ˆå¦ç±»ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(b: &amp;<span class="symbol">&#x27;a</span> <span class="keyword">mut</span> <span class="type">u8</span>) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;a</span> <span class="type">u8</span> &#123;</span><br><span class="line">    *b += <span class="number">1</span>;</span><br><span class="line">    b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">byte</span> = <span class="number">12u8</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">byte_ref</span> = <span class="title function_ invoke__">f</span>(&amp;<span class="keyword">mut</span> byte);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, *byte_ref);</span><br></pre></td></tr></table></figure><p>ç»“æœå°†ä¼šæ‰“å°ï¼šâ€œ13â€ã€‚ä¸€ä¸ªæŒ‡å‘byteçš„å¯å˜å¼•ç”¨è¢«ä½œä¸ºå‚æ•°ä¼ é€’ç»™<code>f</code>ï¼Œä»¥åŠé€’å¢ä¹‹åä½œä¸ºè¿”å›å€¼ã€‚é€šå¸¸å¯¹äºä¸€ä¸ªå¯å˜å‚æ•°æ¥è¯´ï¼Œä¼ é€’ç»™å‡½æ•°åæ²¡å¿…è¦è¿”å›å®ƒç§Ÿå€Ÿçš„å¼•ç”¨çš„ï¼Œå› ä¸º<code>byte_ref</code>å’Œ<code>byte</code>éƒ½æ˜¯æŒ‡å‘åŒä¸€ä¸ªå†…å­˜å¯¹è±¡ã€‚</p><p>å‰é¢çœ‹è¿‡äº†ï¼Œç±»å‹å‚æ•°å’Œç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨å¯ä»¥å‚æ•°åŒ–ä½¿ç”¨ï¼Œå®ƒä»¬ä¹Ÿå¯ä»¥ç”¨äºåŒä¸€ä¸ªå‡½æ•°ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>, T&gt;(b: &amp;<span class="symbol">&#x27;a</span> T) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;a</span> T &#123; b &#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">pi</span> = <span class="number">3.14</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">pi_ref</span> = <span class="title function_ invoke__">f</span>(&amp;pi);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, *pi_ref);</span><br></pre></td></tr></table></figure><p>ç»“æœå°†ä¼šæ‰“å°ï¼šâ€œ3.14â€ã€‚</p><p>ä¸‹é¢æ˜¯ä¸åˆæ³•çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span>&lt;<span class="symbol">&#x27;a</span>, T&gt; &#123; b: &amp;<span class="symbol">&#x27;a</span> T&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨å‡ºç°â€œthe parameter type <code>T</code> may not live long enoughâ€ã€‚è¿™æ˜¯å› ä¸ºæ³›å‹ç±»å‹<code>T</code>è¢«å…·ç°åŒ–æ—¶ï¼Œå®ƒçš„ç±»å‹å¯èƒ½ä¼šåŒ…å«ä¸€ä¸ªå¼•ç”¨ï¼Œè¿™ç§å¼•ç”¨å¯èƒ½ä¼šå¯¼è‡´å£°æ˜å‘¨æœŸé”™è¯¯ã€‚å¤„äºä¿æŠ¤æœºåˆ¶ï¼Œç¼–è¯‘å™¨ç¦æ­¢è¿™ç§è¯­æ³•ã€‚å®é™…ä¸Šæœ‰ä¸¤ç§æƒ…å†µï¼š</p><ul><li><code>T</code>æ‰€è¡¨ç¤ºçš„ç±»å‹ä¸åŒ…å«å¼•ç”¨ï¼Œæˆ–ä»…åŒ…å«é™æ€å¯¹è±¡çš„å¼•ç”¨ã€‚</li><li><code>T</code>æ‰€è¡¨ç¤ºçš„ç±»å‹åŒ…å«non-staticå¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸéœ€è¦æŒ‡å®šã€‚</li></ul><p>ç¬¬ä¸€ç§æƒ…å†µç±»ä¼¼äºï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span>&lt;<span class="symbol">&#x27;a</span>, T: <span class="symbol">&#x27;static</span>&gt; &#123; b: &amp;<span class="symbol">&#x27;a</span> T &#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = S &#123; b: &amp;<span class="literal">true</span> &#125;;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, *s.b);</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§æƒ…å†µç±»ä¼¼äºï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span>&lt;<span class="symbol">&#x27;a</span>, T: <span class="symbol">&#x27;a</span>&gt; &#123; b: &amp;<span class="symbol">&#x27;a</span> T &#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s1</span> = S &#123; b: &amp;<span class="literal">true</span> &#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s2</span> = S &#123; b: &amp;s1 &#125;;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>, *s1.b, *s2.b.b);</span><br></pre></td></tr></table></figure><p>åœ¨ç¬¬ä¸€è¡Œï¼Œ<code>T</code>ç±»å‹å‚æ•°è¢«ç•Œé™åœ¨<code>'a</code>ï¼Œæ„å‘³ç€ä¸ç®¡è¿™ä¸ªç±»å‹æ˜¯ä»€ä¹ˆï¼Œä¼šåŒ…å«ä¸€ä¸ªå¼•ç”¨ï¼Œå¹¶ç§Ÿå€Ÿè¿™ä¸ªlifetime specifieræ³¨è§£çš„å¯¹è±¡ï¼Œå³æ•´ä¸ªç»“æ„å¯¹è±¡è‡ªå·±ã€‚</p><p>åœ¨ç¬¬äºŒè¡Œï¼Œ<code>S</code>ç»“æ„ä½“è¢«<code>bool</code>åˆå§‹åŒ–ã€‚å®é™…ä¸Šï¼ŒåŸç”Ÿç±»å‹ä¸åŒ…å«ä»»ä½•å¼•ç”¨ï¼Œæ‰€ä»¥è¿™é‡Œç”¨<code>'static</code>é™ç•Œå³å¯ã€‚</p><p>å¯¹äºç¬¬ä¸‰è¡Œï¼Œ<code>S</code>ç»“æ„ä½“ç”±<code>S&lt;bool&gt;</code>åˆå§‹åŒ–ã€‚è¯¥ç±»å‹åŒ…å«ä¸€ä¸ªnon-staticå¼•ç”¨ï¼Œç”¨<code>'a</code>é™ç•Œã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ¬ç« è¦†ç›–æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç®€å•ã€è‡ªç”±(free)å‡½æ•°å’Œæ–¹æ³•éœ€è¦é¿å…å†™å…¥ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨(lifetime specifiers)ï¼Œå› ä¸ºå®ƒä»¬æ˜¯è¢«æ¨æ–­çš„&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆåŒ…å«å¼•ç”¨çš„ç»“æ„ä½“(structs)ã€å…ƒç»„-ç»“æ„ä½“(tuple-structs)ã€æšä¸¾(enums)éœ€è¦ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨(lifetime specifiers)&lt;/li&gt;
&lt;li&gt;å¦‚ä½•ä¸ºç»“æ„ä½“(structs)ã€å…ƒç»„-ç»“æ„ä½“(tuple-structs)ã€æšä¸¾(enums)ç¼–å†™ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨(lifetime specifiers)&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆåŒ…å«æŒ‡å‘æ³›å‹å‚æ•°çš„ç»“æ„ä½“éœ€è¦ç”Ÿå‘½å‘¨æœŸè¾¹ç•Œ(åå˜ã€é€†åå˜)&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cp%3E%E6%9C%AC%E7%AB%A0%E8%A6%86%E7%9B%96%E6%9C%89%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E7%AE%80%E5%8D%95%E3%80%81%E8%87%AA%E7%94%B1(free)%E5%87%BD%E6%95%B0%E5%92%8C%E6%96%B9%E6%B3%95%E9%9C%80%E8%A6%81%E9%81%BF%E5%85%8D%E5%86%99%E5%85%A5%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8(lifetime%20specifiers)%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E4%BB%AC%E6%98%AF%E8%A2%AB%E6%8E%A8%E6%96%AD%E7%9A%84%3C/li%3E%3Cli%3E%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8C%85%E5%90%AB%E5%BC%95%E7%94%A8%E7%9A%84%E7%BB%93%E6%9E%84%E4%BD%93(structs)%E3%80%81%E5%85%83%E7%BB%84-%E7%BB%93%E6%9E%84%E4%BD%93(tuple-structs)%E3%80%81%E6%9E%9A%E4%B8%BE(enums)%E9%9C%80%E8%A6%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8(lifetime%20specifiers)%3C/li%3E%3Cli%3E%E5%A6%82%E4%BD%95%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93(structs)%E3%80%81%E5%85%83%E7%BB%84-%E7%BB%93%E6%9E%84%E4%BD%93(tuple-structs)%E3%80%81%E6%9E%9A%E4%B8%BE(enums)%E7%BC%96%E5%86%99%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8(lifetime%20specifiers)%3C/li%3E%3Cli%3E%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8C%85%E5%90%AB%E6%8C%87%E5%90%91%E6%B3%9B%E5%9E%8B%E5%8F%82%E6%95%B0%E7%9A%84%E7%BB%93%E6%9E%84%E4%BD%93%E9%9C%80%E8%A6%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E8%BE%B9%E7%95%8C(%E5%8D%8F%E5%8F%98%E3%80%81%E9%80%86%E5%8D%8F%E5%8F%98)%3C/li%3E%3C/ul%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch2%20id=%22Lifetime-Elision%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Lifetime-Elision%22%3E%C2%B6%3C/a%3ELifetime%20Elision%3C/h2%3E%3Cp%3E%E4%B8%8A%E4%B8%80%E7%AB%A0%E8%8A%82%EF%BC%8C%E6%88%91%E4%BB%AC%E7%9C%8B%E5%88%B0%E6%AF%8F%E4%B8%AA%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%EF%BC%8C%E9%83%BD%E5%BF%85%E9%A1%BB%E7%A1%AE%E5%AE%9A%E5%BC%95%E7%94%A8%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%8C%E5%8D%B3%E8%A6%81%E4%B9%88%E6%98%AF%3Ccode%3E&#39;static%3C/code%3E%E7%9A%84lifetime%20specifier%EF%BC%8C%E8%A6%81%E4%B9%88%E6%98%AF%E5%85%B3%E8%81%94%E7%9A%84%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84lifetime%20specifier%E3%80%82%3C/p%3E%3Cp%3E%E6%9C%89%E6%97%B6%E9%81%BF%E5%85%8D%E7%BC%96%E5%86%99%E8%BF%99%E7%A7%8D%E7%83%A6%E4%BA%BA%E7%9A%84%E6%B3%A8%E8%A7%A3%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E(x:%20&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E4%BB%A3%E7%A0%81%E6%98%AF%E8%A2%AB%E5%85%81%E8%AE%B8%E7%9A%84%E3%80%82%E8%BF%94%E5%9B%9E%E7%9A%84%E5%80%BC%E6%98%AF%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E5%AE%83%E6%B2%A1%E7%94%A8%E6%8C%87%E5%AE%9A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%8C%E4%BD%86%E5%AE%83%E4%B9%9F%E4%B8%8D%E6%98%AF%3Ccode%3E&#39;static%3C/code%3E%E7%9A%84%EF%BC%8C%E5%9B%A0%E6%AD%A4%E8%BF%99%E4%B8%AA%E9%9A%90%E5%BC%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8(implicit%20lifetime%20specifier)%E5%BF%85%E9%A1%BB%E6%98%AF%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E4%B8%AD%E7%9A%84%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E3%80%82%E5%9B%A0%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E4%BB%85%E6%9C%89%E4%B8%80%E4%B8%AA%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%AE%83%E7%9A%84lifetime%20specifier%E6%97%A0%E5%8F%AF%E5%8E%9A%E9%9D%9E%E5%B0%B1%E6%98%AF%E8%AF%A5%E5%8F%82%E6%95%B0%E5%85%B3%E8%81%94%E7%9A%84lifetime%20specifier%E3%80%82%E6%8D%A2%E8%A8%80%E4%B9%8B%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%A3%B0%E6%98%8E%E5%87%BD%E6%95%B0%E7%AD%89%E6%95%88%E4%BA%8E%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%86%99%E6%B3%95%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(x:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%94%9A%E8%87%B3%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%A3%B0%E6%98%8E%E4%B9%9F%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E(b:%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20x:%20(%3Cspan%20class=%22type%22%3Eu32%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E))%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%9B%A0%E4%B8%BA%E4%BB%85%E6%9C%89%E4%B8%80%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%8F%AF%E4%BB%A5%E6%8E%A8%E6%96%AD%E5%87%BA%E8%BF%94%E5%9B%9E%E5%80%BC%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E7%9A%84%E4%BB%A3%E7%A0%81%E4%B9%9F%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E(x:%20&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22type%22%3Ef64%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3EString%3C/span%3E&amp;gt;);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E6%9C%89%E5%A5%BD%E5%87%A0%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E4%BD%86%E5%8F%82%E6%95%B0%E7%9A%84%E5%BC%95%E7%94%A8%E4%BB%8D%E7%84%B6%E4%BB%85%E6%9C%89%E4%B8%80%E7%A7%8D%E3%80%82%3C/p%3E%3Cp%3E%E5%8F%82%E6%95%B0%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E4%BB%85%E6%9C%89%E4%B8%80%E7%A7%8D%E6%97%B6%EF%BC%8C%E4%BD%A0%E7%94%9A%E8%87%B3%E5%8F%AF%E4%BB%A5%E7%9C%81%E7%95%A5%E5%85%B6%E8%BF%94%E5%9B%9E%E5%80%BC%E7%B1%BB%E5%9E%8B%EF%BC%8C%E8%80%8C%E7%94%A8%E5%9C%A8%E5%85%B6%E5%AE%83%E7%B1%BB%E5%9E%8B%E4%B8%AD%E6%8C%87%E5%AE%9A%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(x:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3EString%3C/span%3E&amp;gt;);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E9%87%8C%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%E5%8C%85%E5%90%AB%E4%B8%89%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%9A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B2%A1%E6%9C%89%E6%8C%87%E5%AE%9A%EF%BC%8C%E7%AC%AC%E4%BA%8C%E5%AD%97%E6%AE%B5%E6%9C%89%3Ccode%3E&#39;a%3C/code%3E%EF%BC%8C%E7%AC%AC%E4%B8%89%E4%B8%AA%E7%94%A8%E4%BA%86%3Ccode%3E&#39;static%3C/code%3E%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E3%80%82%E7%84%B6%E8%80%8C%EF%BC%8C%E5%8F%82%E6%95%B0%E4%B8%AD%E4%BB%8D%E7%84%B6%E4%BB%85%E6%9C%89%E4%B8%80%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E5%9B%A0%E6%AD%A4%E8%BF%94%E5%9B%9E%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%9A%84%E5%BC%95%E7%94%A8%E6%9C%89%E4%B8%80%E4%B8%AA%E9%9A%90%E5%BC%8F%3Ccode%3E&#39;a%3C/code%3E%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E7%A7%8D%E7%9C%81%E7%95%A5%E6%9C%BA%E5%88%B6%E7%A7%B0%E4%B8%BA%E2%80%9C%3Cstrong%3Elifetime%20elision%3C/strong%3E%E2%80%9D%E3%80%82%E4%B8%BA%E4%BA%86%E7%AE%80%E5%8C%96%E8%AF%AD%E6%B3%95%EF%BC%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E9%81%87%E5%88%B0%E8%BF%99%E7%A7%8D%E4%BB%85%E6%9C%89%E4%B8%80%E4%B8%AA%E9%9D%9E%E9%9D%99%E6%80%81(non-static)%E5%80%BC%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%20%3Cstrong%3E%E5%88%A0%E5%8E%BB(elided)%3C/strong%3E%20%E3%80%82%3C/p%3E%3Ch2%20id=%22Lifetime-Elision-with-Object-Oriented-Programming%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Lifetime-Elision-with-Object-Oriented-Programming%22%3E%C2%B6%3C/a%3ELifetime%20Elision%20with%20Object-Oriented%20Programming%3C/h2%3E%3Cp%3E%E8%80%83%E8%99%91%E4%B8%8B%E9%9D%A2%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E,%20y:%20&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22type%22%3Ef64%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3EString%3C/span%3E&amp;gt;);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%9B%A0%E4%B8%BA%E5%8F%82%E6%95%B0%E6%9C%89%E4%B8%A4%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E6%89%80%E4%BB%A5%E5%89%8D%E9%9D%A2%E7%9A%84%E8%A7%84%E5%88%99%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8%E3%80%82%E7%84%B6%E8%80%8C%EF%BC%8C%E5%BD%93%E4%B8%80%E4%B8%AA%E6%96%B9%E6%B3%95%E8%BF%94%E5%9B%9E%E6%9F%90%E4%BA%9B%E5%BC%95%E7%94%A8%E6%97%B6%EF%BC%8C%E5%A4%9A%E6%95%B0%E6%83%85%E5%86%B5%E4%B8%8B%E8%BF%99%E4%BA%9B%E5%BC%95%E7%94%A8%E4%BC%9A%E7%A7%9F%E5%80%9F%E5%BD%93%E5%89%8D%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%8D%B3%E7%94%B1%3Ccode%3E&amp;amp;self%3C/code%3E%E6%8C%87%E5%90%91%E7%9A%84%E5%80%BC%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E4%B8%BA%E4%BA%86%E7%AE%80%E5%8C%96%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E5%89%8D%E9%9D%A2%E7%9A%84%E4%BB%A3%E7%A0%81%E8%A2%AB%E7%9C%8B%E5%81%9A%E6%98%AF%E4%B8%8B%E9%9D%A2%E7%9A%84%E7%AD%89%E4%BB%B7%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E,%20y:%20&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3EString%3C/span%3E&amp;gt;);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%9B%AE%E5%89%8D%EF%BC%8C%E4%BD%A0%E5%8F%AF%E4%BB%A5%E4%B8%BA%E7%89%B9%E5%AE%9A%E5%BC%95%E7%94%A8%E9%87%8D%E8%BD%BD%E8%A1%8C%E4%B8%BA%E3%80%82%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%8C%E4%BD%A0%E5%B8%8C%E6%9C%9B%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%85%B3%E8%81%94%E5%8F%82%E6%95%B0%3Ccode%3Ey%3C/code%3E%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E5%86%99%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(&amp;amp;%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E,%20y:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3EString%3C/span%3E&amp;gt;);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E9%87%8C%EF%BC%8Ctuple%E4%B8%AD%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%AD%97%E6%AE%B5%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%AD%98%E6%B4%BB%E6%97%B6%E9%97%B4%E5%BF%85%E9%A1%BB%E8%A6%81%E5%B0%91%E4%BA%8E%3Ccode%3Ey%3C/code%3E%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E5%92%8C%E7%AC%AC%E5%9B%9B%E4%B8%AA%E5%AD%97%E6%AE%B5%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%AD%98%E6%B4%BB%E6%97%B6%E9%97%B4%E5%BF%85%E9%A1%BB%E8%A6%81%E5%B0%91%E4%BA%8E%3Ccode%3Eself%3C/code%3E%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E5%BD%93%E7%84%B6%EF%BC%8C%E8%BF%99%E4%B8%AA%E8%A7%84%E5%88%99%E5%90%8C%E6%A0%B7%E4%BD%9C%E7%94%A8%E4%BA%8E%3Ccode%3E&amp;amp;mut%20self%3C/code%3E%E5%8F%82%E6%95%B0%E3%80%82%3C/p%3E%3Ch2%20id=%22The-Need-of-Lifetime-Specifiers-for-Structs%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#The-Need-of-Lifetime-Specifiers-for-Structs%22%3E%C2%B6%3C/a%3EThe%20Need%20of%20Lifetime%20Specifiers%20for%20Structs%3C/h2%3E%3Cp%3E%E4%B8%8A%E4%B8%80%E4%B8%AA%E7%AB%A0%E8%8A%82%E4%B8%AD%EF%BC%8C%E6%88%91%E4%BB%AC%E7%9C%8B%E5%88%B0%E8%BF%99%E7%A7%8D%E4%BB%A3%E7%A0%81%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ex%3C/span%3E:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_y%3C/span%3E:%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20=%20&amp;amp;x;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E6%98%AF%E5%9B%A0%E4%B8%BA%EF%BC%8C%E5%B0%BD%E7%AE%A1%3Ccode%3E_y%3C/code%3E%E6%8C%81%E6%9C%89%E5%AF%B9%3Ccode%3Ex%3C/code%3E%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%8C%E5%AE%83%E5%AD%98%E6%B4%BB%E5%B0%91%E4%BA%8E%3Ccode%3Ex%3C/code%3E%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E4%B8%8B%E9%9D%A2%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_y%3C/span%3E:%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ex%3C/span%3E:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_y%20=%20&amp;amp;x;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%9B%A0%E4%B8%BA%3Ccode%3E_y%3C/code%3E%E5%85%88%E4%BA%8E%3Ccode%3Ex%3C/code%3E%E5%A3%B0%E6%98%8E%EF%BC%8C%E6%89%80%E4%BB%A5%E5%AE%83%E4%BC%9A%E5%9C%A8%3Ccode%3Ex%3C/code%3E%E5%90%8E%E9%94%80%E6%AF%81%EF%BC%8C%E5%AE%83%E5%AD%98%E6%B4%BB%E9%95%BF%E4%BA%8E%3Ccode%3Ex%3C/code%3E%E3%80%82%3C/p%3E%3Cp%3E%E6%88%91%E4%BB%AC%E4%B9%9F%E7%9C%8B%E5%88%B0%E4%BA%86%EF%BC%8C%E5%AF%B9%E4%BA%8E%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%EF%BC%8C%E9%9C%80%E8%A6%81%E6%9C%89%E5%90%88%E9%80%82%E7%9A%84%E6%B3%A8%E8%A7%A3(%E5%8D%B3lifetime%20specifier)%EF%BC%8C%E6%9D%A5%E6%BB%A1%E8%B6%B3%E6%9C%89%E6%95%88%E7%9A%84%E7%A7%9F%E5%80%9F%E6%A3%80%E6%9F%A5(borrow%20checker)%E3%80%82%3C/p%3E%3Cp%3E%E9%99%A4%E4%BA%86%E4%B8%8A%E4%B8%80%E7%AB%A0%E4%BB%8B%E7%BB%8D%E8%BF%99%E4%BA%9B%E6%83%85%E5%86%B5%EF%BC%8C%E5%AF%B9%E4%BA%8E%E7%BB%93%E6%9E%84%E4%BD%93(struct)%E6%9D%A5%E8%AF%B4%EF%BC%8C%E5%8C%85%E5%90%AB%E6%9F%90%E4%BA%9B%E5%BC%95%E7%94%A8%E7%9A%84issue%E4%B8%8B%E4%B9%9F%E7%9B%B8%E4%BC%BC%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E4%BB%A3%E7%A0%81%E7%9C%8B%E8%B5%B7%E6%9D%A5%E6%98%AF%E5%90%88%E6%B3%95%E7%9A%84(%E5%AE%9E%E9%99%85%E4%B8%8A%E4%B8%8D%E6%98%AF)%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_b:%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_ri:%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ex%3C/span%3E:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_y%3C/span%3E:%20S%20=%20S%20&amp;#123;%20_b:%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%20_ri:%20&amp;amp;x%20&amp;#125;;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E8%BF%99%E7%A7%8D%E5%BE%88%E6%98%8E%E6%98%BE%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_b:%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_ri:%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_y%3C/span%3E:%20S;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ex%3C/span%3E:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_y%20=%20s%20&amp;#123;%20_b:%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%20_ri:%20&amp;amp;x%20&amp;#125;;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%B0%BD%E7%AE%A1%3Ccode%3ES%3C/code%3E%E7%9A%84%E5%AD%97%E6%AE%B5%3Ccode%3E_ri%3C/code%3E%E6%8C%81%E6%9C%89%E4%B8%80%E4%B8%AA%3Ccode%3Ex%3C/code%3E%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%8C%E4%BD%86%E5%AE%83%E5%AD%98%E6%B4%BB%E9%95%BF%E4%BA%8E%3Ccode%3Ex%3C/code%3E%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E5%8F%AF%E4%BB%A5%E9%9D%9E%E5%B8%B8%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90%E5%87%BA%E6%9D%A5%EF%BC%8C%E4%BD%86%E5%9C%A8%E4%B8%80%E4%B8%AAreal-world%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%8F%AF%E8%83%BD%E6%98%AF%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20In%20some%20library%20code:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_b:%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_ri:%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ecreate_s%3C/span%3E(ri:%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Es%20&amp;#123;%20_b:%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%20_ri:%20ri%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20In%20application%20code:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emain%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_y%3C/span%3E:%20S;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ex%3C/span%3E:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_y%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ecreate_s%3C/span%3E(&amp;amp;x);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%AF%A5%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81%E6%98%AF%E6%97%A0%E6%95%88%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%EF%BC%8C%E5%BD%93%E8%B0%83%E7%94%A8%3Ccode%3Ecreate_s%3C/code%3E%E6%97%B6%EF%BC%8C%E6%8C%87%E5%90%91%3Ccode%3Ex%3C/code%3E%E7%9A%84%E5%BC%95%E7%94%A8%E4%BC%9A%E8%A2%AB%E5%AD%98%E5%82%A8%E5%9C%A8%3Ccode%3E_y%3C/code%3E%E5%AF%B9%E8%B1%A1%E5%86%85%E9%83%A8%EF%BC%8C%E4%BD%86%3Ccode%3E_y%3C/code%3E%E5%AD%98%E6%B4%BB%E9%95%BF%E4%BA%8E%3Ccode%3Ex%3C/code%3E(%3Ccode%3E_y%3C/code%3E%E5%85%88%E4%BA%8E%3Ccode%3Ex%3C/code%3E%E5%A3%B0%E6%98%8E)%E3%80%82%3C/p%3E%3Cp%3E%E4%BD%86%E7%A8%8B%E5%BA%8F%E5%91%98%E8%8B%A5%E4%B8%8D%E6%9F%A5%E7%9C%8B%E5%87%BD%E6%95%B0%E4%BD%93%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%8F%88%E6%80%8E%E4%B9%88%E7%9F%A5%E9%81%93%3Ccode%3Ecreate_s%3C/code%3E%E5%87%BD%E6%95%B0%E5%B0%86%E5%8F%82%E6%95%B0%E7%9A%84%E5%BC%95%E7%94%A8%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E8%BF%94%E5%9B%9E%E5%AD%98%E5%82%A8%E4%BA%86%EF%BC%9F%E8%AE%A9%E6%88%91%E4%BB%AC%E7%9C%8B%E7%9C%8B%E4%B8%8B%E9%9D%A2%E7%9A%84%E6%9C%89%E6%95%88%E7%A8%8B%E5%BA%8F%EF%BC%8C%E5%AE%83%E5%92%8C%E4%B8%8A%E9%9D%A2%E8%BF%99%E4%B8%AA%E7%B1%BB%E4%BC%BC%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20In%20some%20library%20code:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_b:%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_ri:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ecreate_s%3C/span%3E(ri:%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20S%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20ZERO:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20ONE:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E1%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ES%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_b:%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_ri:%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20*ri%20&amp;gt;%20%3Cspan%20class=%22number%22%3E0%3C/span%3E%20&amp;#123;%20&amp;amp;ONE%20&amp;#125;%20%3Cspan%20class=%22keyword%22%3Eelse%3C/span%3E%20&amp;#123;%20&amp;amp;ZERO%20&amp;#125;,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20In%20application%20code:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emain%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_y%3C/span%3E:%20S;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ex%3C/span%3E:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_y%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ecreate_s%3C/span%3E(&amp;amp;x);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%BB%A3%E7%A0%81%E4%B8%AD%EF%BC%8C%E5%87%BD%E6%95%B0%3Ccode%3Ecreate_s%3C/code%3E%E4%BB%85%E6%98%AF%E7%94%A8%3Ccode%3Eri%3C/code%3E%E5%8F%82%E6%95%B0%E6%9D%A5%E5%88%9D%E5%A7%8B%E5%8C%96%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%3Ccode%3E_ri%3C/code%3E%E5%AD%97%E6%AE%B5%E3%80%82%E5%9B%A0%E6%AD%A4%E5%8F%82%E6%95%B0%E7%9A%84%E5%80%BC%E6%B2%A1%E6%9C%89%E8%A2%AB%E5%AD%98%E5%82%A8%E5%9C%A8%E7%BB%93%E6%9E%84%E4%BD%93%E5%86%85%E3%80%82%3Ccode%3E_ri%3C/code%3E%E4%BC%9A%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%80%BC%EF%BC%8C%E5%8D%B3%3Ccode%3EZERO%3C/code%3E%E6%88%96%3Ccode%3EONE%3C/code%3E%EF%BC%8C%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F%E4%B8%8D%E4%BC%9A%E8%A2%AB%E9%94%80%E6%AF%81%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E9%87%8C%E7%9A%84%3Ccode%3Ecreate_s%3C/code%3E%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E8%99%BD%E7%84%B6%E5%92%8C%E4%B8%8A%E4%B8%80%E4%B8%AA%E4%BB%A3%E7%A0%81%E4%B8%80%E6%A0%B7%EF%BC%9B%E4%BD%86%E5%89%8D%E4%B8%80%E4%B8%AA%E4%BB%A3%E7%A0%81%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%8F%82%E6%95%B0%E8%A2%AB%E5%AD%98%E5%82%A8%E5%9C%A8%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E5%AD%97%E6%AE%B5%E4%B8%AD%EF%BC%8C%E8%80%8C%E8%BF%99%E9%87%8C%EF%BC%8C%E5%8F%82%E6%95%B0%E9%80%9A%E8%BF%87%3Ccode%3E*ri%3C/code%3E%E4%BD%BF%E7%94%A8%E5%90%8E%EF%BC%8Cscope%E5%B0%B1%E5%B7%B2%E7%BB%8F%E7%BB%93%E6%9D%9F%E4%BA%86%EF%BC%8C%E5%B9%B6%E8%A2%AB%E5%9B%9E%E6%94%B6%E6%8E%89%E3%80%82%3C/p%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89lifetime%20specifier%EF%BC%8C%E7%BC%96%E7%A8%8B%E8%80%85%E8%A2%AB%E5%BC%BA%E8%BF%AB%E5%8E%BB%E9%98%85%E8%AF%BB%E5%87%BD%E6%95%B0%3Ccode%3Ecreate_s%3C/code%3E%E7%9A%84%E6%96%B9%E6%B3%95%E4%BD%93%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%8C%E8%BF%99%E6%A0%B7%E6%89%8D%E8%83%BD%E5%BE%97%E7%9F%A5%E8%AF%A5%E5%87%BD%E6%95%B0%E6%98%AF%E5%90%A6%E4%BC%9A%E5%AD%98%E5%82%A8%E5%8F%82%E6%95%B0%E7%9A%84%E5%BC%95%E7%94%A8%E5%AF%B9%E8%B1%A1%E3%80%82%E8%BF%99%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%98%AF%E7%B3%9F%E7%B3%95%E7%9A%84%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%BA%E4%BA%86%E8%AE%A9%E7%BC%96%E7%A8%8B%E8%80%85%E9%81%BF%E5%85%8D%E9%9C%80%E8%A6%81%E5%88%86%E6%9E%90%3Ccode%3Ecreate_s%3C/code%3E%E5%87%BD%E6%95%B0%E6%9D%A5%E5%BE%97%E7%9F%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%A3%B0%E6%98%8E%E5%91%A8%E6%9C%9F%E6%98%AF%E5%90%A6%E5%90%88%E6%B3%95%EF%BC%8C%E6%9C%89%E5%BF%85%E8%A6%81%E6%9C%89%E6%9B%B4%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B3%A8%E8%A7%A3(lifetime%20annotations)%E3%80%82%3C/p%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8C%E7%B1%BB%E4%BC%BC%E4%BA%8E%E5%87%BD%E6%95%B0%EF%BC%8C%E4%BB%85%E6%98%AF%E5%AF%B9%E4%BA%8E%E7%BB%93%E6%9E%84%E4%BD%93%E5%87%BD%E6%95%B0%EF%BC%8C%E5%BF%85%E9%A1%BB%E6%98%BE%E5%BC%8F%E6%8C%87%E5%AE%9A%E5%AE%83%E4%BB%AC%E5%AD%97%E6%AE%B5%E7%9A%84%E6%AF%8F%E4%B8%AA%E5%BC%95%E7%94%A8%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E8%A7%A3%E6%9E%90%E4%BA%86%E4%B8%8A%E9%9D%A2%E4%BB%A3%E7%A0%81%E4%B8%AD%EF%BC%8C%E5%BD%A2%E5%BC%8F%E4%B8%8A%E7%9C%8B%E8%B5%B7%E6%9D%A5%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5%EF%BC%8C%E5%AE%9E%E9%99%85%E4%B8%8A%E4%BC%9A%E4%BA%A7%E7%94%9F%E2%80%9Cmissing%20lifetime%20specifier%E2%80%9D%E7%9A%84%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%E3%80%82%3C/p%3E%3Ch2%20id=%22Possible-Lifetime-Specifiers-for-Structs%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Possible-Lifetime-Specifiers-for-Structs%22%3E%C2%B6%3C/a%3EPossible%20Lifetime%20Specifiers%20for%20Structs%3C/h2%3E%3Cp%3E%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8C%E5%AF%B9%E4%BA%8E%E4%B8%80%E4%B8%AA%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E5%BC%95%E7%94%A8%E5%AD%97%E6%AE%B5%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%8CRust%E7%BC%96%E8%AF%91%E5%99%A8%E4%BB%85%E5%85%81%E8%AE%B8%E4%B8%A4%E7%A7%8D%E5%8F%AF%E8%83%BD%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E8%AF%A5%E5%AD%97%E6%AE%B5%E4%BB%85%E6%8C%87%E5%90%91%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1(static%20objects)%E3%80%82%3C/li%3E%3Cli%3E%E6%88%96%E8%80%85%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%99%BD%E7%84%B6%E4%B8%8D%E6%98%AF%E9%9D%99%E6%80%81%E7%9A%84%EF%BC%8C%E4%BD%86%E9%A2%84%E5%85%88%E5%AD%98%E5%9C%A8%E6%95%B4%E4%B8%AA%E7%BB%93%E6%9E%84%E4%BD%93%E5%AF%B9%E8%B1%A1%E4%B8%AD%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%AD%98%E6%B4%BB%E9%95%BF%E4%BA%8E%E8%AF%A5%E7%BB%93%E6%9E%84%E4%BD%93%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%83%85%E5%86%B5%E5%B7%B2%E7%BB%8F%E4%BB%8B%E7%BB%8D%E8%BF%87%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%20_b:%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20_ri:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%AF%A5%E7%BB%93%E6%9E%84%E4%BD%93%E5%8C%85%E5%90%AB%E6%9C%89%E4%B8%80%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E4%B8%8D%E8%BF%87%E5%AE%83%E6%98%AF%3Ccode%3E&#39;static%3C/code%3E%E5%BC%95%E7%94%A8%EF%BC%8C%E6%89%80%E4%BB%A5%E8%AF%A5%E5%BC%95%E7%94%A8%E4%B8%8D%E8%83%BD%E8%A2%AB%E6%8C%87%E6%B4%BE%E7%BB%99%E4%BB%BB%E4%BD%95%E7%A7%9F%E5%80%9F%E7%9A%84%E5%BC%95%E7%94%A8%E5%80%BC%E3%80%82%E5%9B%A0%E6%AD%A4%E4%B8%8D%E4%BC%9A%E6%9C%89%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E8%AE%A8%E8%AE%BA%E9%97%AE%E9%A2%98%EF%BC%8C%E5%8F%AA%E8%A6%81%3Ccode%3E_ri%3C/code%3E%E5%AD%97%E6%AE%B5%E8%A2%AB%E5%88%86%E9%85%8D%E7%9A%84%E6%98%AF%E9%9D%99%E6%80%81%E5%BC%95%E7%94%A8%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E5%AF%B9%E4%BA%8E%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%8C%E4%B8%8B%E9%9D%A2%E6%9C%89%E6%95%88%E4%BB%A3%E7%A0%81%E9%98%90%E8%BF%B0%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20In%20some%20library%20code:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3Es%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;%20&amp;#123;%20_b:%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20_ri:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ecreate_s%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E&amp;gt;(ri:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20S&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Es&amp;#123;%20_b:%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%20_ri:%20ri%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20In%20application%20code:%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emain%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ex%3C/span%3E:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_y%3C/span%3E:%20S;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_y%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ecreate_s%3C/span%3E(&amp;amp;x);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E9%87%8C%E5%8F%98%E9%87%8F%3Ccode%3Ex%3C/code%3E%E7%9A%84%E5%80%BC%E8%A2%AB%3Ccode%3Ecreate_s%3C/code%3E%E5%87%BD%E6%95%B0%E7%A7%9F%E5%80%9F%E4%BB%A5%E5%8F%8A%E6%8C%81%E4%B9%85%E5%8C%96%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8C%E5%AE%83%E8%A2%AB%E5%AD%98%E5%82%A8%E5%9C%A8%E7%BB%93%E6%9E%84%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%BF%94%E5%9B%9E%E5%AD%97%E6%AE%B5%3Ccode%3E_ri%3C/code%3E%E4%B8%AD%EF%BC%9B%E8%AF%A5%E5%AF%B9%E8%B1%A1%E5%9C%A8%3Ccode%3Emain%3C/code%3E%E5%87%BD%E6%95%B0%E4%B8%AD%E8%A2%AB%E7%94%A8%E4%BA%8E%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%98%E9%87%8F%3Ccode%3E_y%3C/code%3E%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3E_y%3C/code%3E%E5%BF%85%E9%A1%BB%E5%AD%98%E6%B4%BB%E5%B0%91%E4%BA%8E%3Ccode%3Ex%3C/code%3E%E3%80%82%E8%8B%A5%E5%B0%86%3Ccode%3Elet%20_y:%20S;%3C/code%3E%E7%A7%BB%E5%88%B0%3Ccode%3Ex%3C/code%3E%E5%89%8D%E9%9D%A2%EF%BC%8C%E5%85%88%E4%BA%8E%3Ccode%3Ex%3C/code%3E%E5%A3%B0%E6%98%8E%EF%BC%8C%E4%BC%9A%E4%BA%A7%E7%94%9F%E9%94%99%E8%AF%AF%E2%80%9C%3Ccode%3Ex%3C/code%3E%20does%20not%20live%20long%20enough%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E8%A6%81%E5%88%A4%E6%96%AD%3Ccode%3E_x%3C/code%3E%E6%98%AF%E5%90%A6%E8%A2%AB%E5%AD%98%E5%82%A8%E5%9C%A8%E7%BB%93%E6%9E%84%E4%BD%93%E5%86%85%E9%83%A8%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E6%A3%80%E6%9F%A5%3Ccode%3Ecreate_s%3C/code%3E%E5%87%BD%E6%95%B0%E4%BD%93%E5%86%85%E9%83%A8%E5%AE%9E%E7%8E%B0%EF%BC%8C%E4%B9%9F%E4%B8%8D%E9%9C%80%E8%A6%81%E6%A3%80%E6%9F%A5%E7%BB%93%E6%9E%84%E4%BD%93%3Ccode%3ES%3C/code%3E%E7%9A%84%E5%AD%97%E6%AE%B5%EF%BC%9B%E6%A3%80%E6%9F%A5%3Ccode%3Ecreate_s%3C/code%3E%E5%92%8C%3Ccode%3ES%3C/code%3E%E7%9A%84%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E8%B6%B3%E5%A4%9F%E4%BA%86%E3%80%82%3C/p%3E%3Cp%3E%E9%80%9A%E8%BF%87%E6%A3%80%E6%9F%A5%3Ccode%3Ecreate_s%3C/code%3E%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%EF%BC%8C%E5%8F%91%E7%8E%B0%E5%BC%95%E7%94%A8%E5%8F%82%E6%95%B0%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%EF%BC%8C%E5%92%8C%E8%BF%94%E5%9B%9E%E5%80%BC%3Ccode%3ES%3C/code%3E%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%BC%95%E7%94%A8%E6%8C%87%E7%A4%BA%E5%99%A8%E6%98%AF%E5%90%8C%E4%B8%80%E4%B8%AA%3Ccode%3E&#39;b%3C/code%3E%E3%80%82%E8%BF%99%E6%84%8F%E5%91%B3%E7%9D%80%E8%BF%94%E5%9B%9E%E7%9A%84%E7%BB%93%E6%9E%84%E4%BD%93%E5%BF%85%E9%A1%BB%E5%AD%98%E6%B4%BB%E9%95%BF%E4%BA%8E%E7%A7%9F%E5%80%9F%E7%9A%84%3Ccode%3Ei32%3C/code%3E%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E9%80%9A%E8%BF%87%E6%A3%80%E6%9F%A5%E7%BB%93%E6%9E%84%E4%BD%93%3Ccode%3ES%3C/code%3E%E7%9A%84%E7%AD%BE%E5%90%8D%EF%BC%8C%E5%8F%91%E7%8E%B0%E5%AE%83%E7%94%B1%E4%B8%80%E4%B8%AAlifetime%20specifier%E5%8F%82%E6%95%B0%E5%8C%96%EF%BC%8C%E4%B9%9F%E6%84%8F%E5%91%B3%E7%9D%80%E7%9B%B8%E5%85%B3%E7%9A%84%E6%9F%90%E4%B8%AA%E5%AD%97%E6%AE%B5%E4%B8%8D%E4%BC%9A%E6%98%AF%3Ccode%3E&#39;static%3C/code%3E%E7%9A%84%E5%BC%95%E7%94%A8%E3%80%82%3C/p%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%91%E7%8E%B0%3Ccode%3Ecreate_s%3C/code%3E%E5%87%BD%E6%95%B0%E6%98%AF%E9%80%9A%E8%BF%87%E5%90%8C%E4%B8%80%E4%B8%AAlifetime%20specifier%EF%BC%8C%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E7%9A%84%E5%BC%95%E7%94%A8%E5%92%8C%E5%8F%82%E6%95%B0%E5%8C%96%E7%9A%84(parameterized%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1%E3%80%82%E8%BF%99%E8%A1%A8%E7%A4%BA%E8%BF%94%E5%9B%9E%E7%9A%84%E5%BC%95%E7%94%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%8F%AF%E8%83%BD%E7%A7%9F%E5%80%9F%E8%87%AA%E5%BC%95%E7%94%A8%E5%8F%82%E6%95%B0%E3%80%82%3C/p%3E%3Cp%3E%E7%BC%96%E8%AF%91%E5%99%A8%E5%BF%85%E9%A1%BB%E5%88%86%E5%88%AB%E6%A3%80%E6%B5%8B%E7%BB%93%E6%9E%84%E5%A3%B0%E6%98%8E%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7%E3%80%82%3Ccode%3Estruct%20S&amp;lt;&#39;a&amp;gt;%3C/code%3E%E8%A1%A8%E7%A4%BA%3Ccode%3ES%3C/code%3E%E7%A7%9F%E5%80%9F%E4%BA%86%E6%9F%90%E4%BA%9B%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%80%8C%E7%BB%93%E6%9E%84%E4%BD%93%E5%86%85%E7%9A%84%3Ccode%3E_ri:%20&amp;amp;&#39;a%20i32%3C/code%3E%E8%A1%A8%E7%A4%BA%3Ccode%3E_ri%3C/code%3E%E5%AD%97%E6%AE%B5%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%95%E7%94%A8%E7%A7%9F%E5%80%9F%E4%BA%86%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%8C%85%E5%90%AB%E6%9C%89%E5%BC%95%E7%94%A8%E5%AD%97%E6%AE%B5%E7%9A%84%E7%BB%93%E6%9E%84%E4%BD%93%EF%BC%8C%E4%BB%85%E5%85%81%E8%AE%B8%E4%B8%A4%E7%A7%8D%E5%90%88%E6%B3%95%E8%AF%AD%E6%B3%95%EF%BC%9A%E2%80%9C%3Ccode%3Efield:%20&amp;amp;&#39;static%20type%3C/code%3E%E2%80%9D%20%E6%88%96%20%E2%80%9C%3Ccode%3Efield:%20&amp;amp;&#39;lifetime%20type%3C/code%3E%E2%80%9D%EF%BC%8C%E5%85%B6%E4%B8%AD%3Ccode%3Elifetime%3C/code%3E%E4%B9%9F%E6%98%AF%E7%BB%93%E6%9E%84%E4%BD%93%E8%87%AA%E8%BA%AB%E7%9A%84%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E3%80%82%E5%A6%82%E6%9E%9C%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%8D%E5%8C%85%E5%90%AB%E5%BC%95%E7%94%A8%E5%AD%97%E6%AE%B5%E6%88%96%E4%BB%85%E4%BC%9A%E5%87%BA%E7%8E%B0%E9%9D%99%E6%80%81%E5%BC%95%E7%94%A8%E5%AD%97%E6%AE%B5%EF%BC%8C%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%AF%E4%BB%A5%E4%B8%8D%E9%9C%80%E8%A6%81%E5%A3%B0%E6%98%8E%E5%91%A8%E6%9C%9F%E5%8F%82%E6%95%B0%E3%80%82%3C/p%3E%3Cp%3E%E7%94%B1%E4%BA%8E%E4%BB%85%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E6%89%80%E4%BB%A5%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87lifetime%20elision%E7%94%B1%E5%85%B6%E9%9A%90%E5%BC%8F%E6%8E%A8%E6%96%AD%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ecreate_s%3C/span%3E(ri:%20&amp;amp;%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20S%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ES&amp;#123;%20_b:%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%20_ri:%20ri%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%8F%AF%E8%83%BD%E4%BC%9A%E6%9C%89%E5%87%A0%E7%A7%8D%E7%9A%84%E8%AF%AD%E6%B3%95%E9%94%99%E8%AF%AF%E6%83%85%E5%86%B5%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3E_S1%3C/span%3E%20&amp;#123;%20_f:%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3E_S2%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;%20&amp;#123;%20_f:%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3E_S3%3C/span%3E%20&amp;#123;%20_f:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3E_S4%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;%20&amp;#123;%20_f:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3E_S5%3C/span%3E%20&amp;#123;%20_f:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3E_S6%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;%20&amp;#123;%20_f:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%AC%AC%E4%B8%80%E6%9D%A1%E5%92%8C%E7%AC%AC%E5%9B%9B%E6%9D%A1%E8%AF%AD%E5%8F%A5%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%E3%80%82%3Ccode%3E_S1%3C/code%3E%E5%92%8C%3Ccode%3E_S2%3C/code%3E%E7%9A%84%E5%A3%B0%E6%98%8E%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%3Ccode%3E_f%3C/code%3E%E5%AD%97%E6%AE%B5%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%95%E7%94%A8%E5%AD%97%E6%AE%B5%EF%BC%8C%E6%B2%A1%E6%9C%89lifetime%20specifier%E3%80%82%3C/p%3E%3Cp%3E%3Ccode%3E_S3%3C/code%3E%E7%9A%84%E5%A3%B0%E6%98%8E%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%3Ccode%3E&#39;a%3C/code%3E%E6%B2%A1%E6%9C%89%E4%BD%9C%E4%B8%BA%3Ccode%3ES%3C/code%3E%E7%9A%84%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E3%80%82%3C/p%3E%3Cp%3E%3Ccode%3E_S4%3C/code%3E%E7%9A%84%E5%A3%B0%E6%98%8E%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%8F%82%E6%95%B0%3Ccode%3E&#39;a%3C/code%3E%E6%B2%A1%E7%94%A8%E8%A2%AB%E7%94%A8%E4%BA%8E%E7%BB%93%E6%9E%84%E4%BD%93%E5%86%85%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E6%9C%80%E5%90%8E%E4%B8%A4%E4%B8%AA%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E5%A3%B0%E6%98%8E%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%E3%80%82%3Ccode%3E_S5%3C/code%3E%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1%E5%BC%95%E7%94%A8%E3%80%82%E8%80%8C%3Ccode%3E_S6%3C/code%3E%E5%8C%85%E5%90%AB%E5%8C%85%E5%90%AB%E7%9A%84%E5%BC%95%E7%94%A8%E6%80%BB%E6%98%AF%E5%AD%98%E6%B4%BB%E9%95%BF%E4%BA%8E%E7%BB%93%E6%9E%84%E4%BD%93%E8%87%AA%E8%BA%AB%E3%80%82%3C/p%3E%3Ch2%20id=%22Other-Uses-of-Lifetime-Specifiers%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Other-Uses-of-Lifetime-Specifiers%22%3E%C2%B6%3C/a%3EOther%20Uses%20of%20Lifetime%20Specifiers%3C/h2%3E%3Cp%3E%E6%88%91%E4%BB%AC%E7%9F%A5%E9%81%93%EF%BC%8C%E5%BD%93%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%AB%E5%BC%95%E7%94%A8%E7%9A%84%E7%BB%93%E6%9E%84%E4%BD%93%E7%B1%BB%E5%9E%8B%E6%97%B6%EF%BC%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E6%98%AF%E5%BF%85%E8%A6%81%E7%9A%84%E3%80%82%E5%AF%B9%E4%BA%8E%E5%85%83%E7%BB%84-%E7%BB%93%E6%9E%84%E4%BD%93%E7%B1%BB%E5%9E%8B%E4%B9%9F%E4%B8%80%E6%A0%B7%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETS%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eenum%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EE%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E,%20%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20_A(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E),%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20_B,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20_C(%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E,%20%3Cspan%20class=%22type%22%3Echar%3C/span%3E),%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20_D(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3Estr%3C/span%3E),%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ebyte%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E34%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_ts%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ETS%3C/span%3E(&amp;amp;byte);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_e%3C/span%3E%20=%20E::_A(&amp;amp;byte);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%EF%BC%8C%E4%BB%A5%E5%8F%8A%E7%A7%BB%E9%99%A4%E4%BB%BB%E4%BD%95%E4%B8%80%E4%B8%AAlifetime%20specifier%EF%BC%8C%E9%83%BD%E4%BC%9A%E4%BA%A7%E7%94%9F%E2%80%9Cmissing%20lifetime%20specifier%E2%80%9D%E9%94%99%E8%AF%AF%E3%80%82%3C/p%3E%3Cp%3E%E9%A1%BA%E5%B8%A6%E4%B8%80%E4%B8%8B%EF%BC%8C%E6%B3%A8%E6%84%8F%3Ccode%3EE::_D%3C/code%3E%E5%AD%97%E6%AE%B5%E7%9A%84%E5%AE%9A%E4%B9%89%E3%80%82%E5%AE%83%E6%98%AF%E4%B8%80%E4%B8%AAstatic%20string%20slice%20%E5%BC%95%E7%94%A8%E3%80%82%E5%AE%83%E4%BB%AC%E6%98%AF%20%3Cstrong%3E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AD%97%E9%9D%A2%E9%87%8F(string%20literals)%3C/strong%3E%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%BA%E4%BA%86%E7%AE%80%E5%8C%96%EF%BC%8C%E6%88%91%E4%BB%AC%E4%BB%8E%E4%B8%8D%E5%9C%A8%E5%8F%AF%E5%8F%98%E5%BC%95%E7%94%A8%E4%B8%AD%E6%B7%B7%E5%85%A5%E6%8C%87%E7%A4%BA%E5%99%A8%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8C%E5%AE%83%E6%98%AF%E8%A2%AB%E5%85%81%E8%AE%B8%E7%9A%84%EF%BC%8C%E8%99%BD%E7%84%B6%E5%BE%88%E5%8F%A6%E7%B1%BB%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(b:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20*b%20+=%20%3Cspan%20class=%22number%22%3E1%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20b%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ebyte%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12u8%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ebyte_ref%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20byte);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20*byte_ref);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E5%B0%86%E4%BC%9A%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C13%E2%80%9D%E3%80%82%E4%B8%80%E4%B8%AA%E6%8C%87%E5%90%91byte%E7%9A%84%E5%8F%AF%E5%8F%98%E5%BC%95%E7%94%A8%E8%A2%AB%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E7%BB%99%3Ccode%3Ef%3C/code%3E%EF%BC%8C%E4%BB%A5%E5%8F%8A%E9%80%92%E5%A2%9E%E4%B9%8B%E5%90%8E%E4%BD%9C%E4%B8%BA%E8%BF%94%E5%9B%9E%E5%80%BC%E3%80%82%E9%80%9A%E5%B8%B8%E5%AF%B9%E4%BA%8E%E4%B8%80%E4%B8%AA%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E6%9D%A5%E8%AF%B4%EF%BC%8C%E4%BC%A0%E9%80%92%E7%BB%99%E5%87%BD%E6%95%B0%E5%90%8E%E6%B2%A1%E5%BF%85%E8%A6%81%E8%BF%94%E5%9B%9E%E5%AE%83%E7%A7%9F%E5%80%9F%E7%9A%84%E5%BC%95%E7%94%A8%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%3Ccode%3Ebyte_ref%3C/code%3E%E5%92%8C%3Ccode%3Ebyte%3C/code%3E%E9%83%BD%E6%98%AF%E6%8C%87%E5%90%91%E5%90%8C%E4%B8%80%E4%B8%AA%E5%86%85%E5%AD%98%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E5%89%8D%E9%9D%A2%E7%9C%8B%E8%BF%87%E4%BA%86%EF%BC%8C%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E5%8F%AF%E4%BB%A5%E5%8F%82%E6%95%B0%E5%8C%96%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%AE%83%E4%BB%AC%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BA%8E%E5%90%8C%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E,%20T&amp;gt;(b:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20T)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20T%20&amp;#123;%20b%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Epi%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E3.14%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Epi_ref%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E(&amp;amp;pi);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20*pi_ref);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E5%B0%86%E4%BC%9A%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C3.14%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E,%20T&amp;gt;%20&amp;#123;%20b:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20T&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BC%96%E8%AF%91%E5%99%A8%E5%87%BA%E7%8E%B0%E2%80%9Cthe%20parameter%20type%20%3Ccode%3ET%3C/code%3E%20may%20not%20live%20long%20enough%E2%80%9D%E3%80%82%E8%BF%99%E6%98%AF%E5%9B%A0%E4%B8%BA%E6%B3%9B%E5%9E%8B%E7%B1%BB%E5%9E%8B%3Ccode%3ET%3C/code%3E%E8%A2%AB%E5%85%B7%E7%8E%B0%E5%8C%96%E6%97%B6%EF%BC%8C%E5%AE%83%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E8%BF%99%E7%A7%8D%E5%BC%95%E7%94%A8%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%A3%B0%E6%98%8E%E5%91%A8%E6%9C%9F%E9%94%99%E8%AF%AF%E3%80%82%E5%A4%84%E4%BA%8E%E4%BF%9D%E6%8A%A4%E6%9C%BA%E5%88%B6%EF%BC%8C%E7%BC%96%E8%AF%91%E5%99%A8%E7%A6%81%E6%AD%A2%E8%BF%99%E7%A7%8D%E8%AF%AD%E6%B3%95%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%E6%9C%89%E4%B8%A4%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%3Ccode%3ET%3C/code%3E%E6%89%80%E8%A1%A8%E7%A4%BA%E7%9A%84%E7%B1%BB%E5%9E%8B%E4%B8%8D%E5%8C%85%E5%90%AB%E5%BC%95%E7%94%A8%EF%BC%8C%E6%88%96%E4%BB%85%E5%8C%85%E5%90%AB%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8%E3%80%82%3C/li%3E%3Cli%3E%3Ccode%3ET%3C/code%3E%E6%89%80%E8%A1%A8%E7%A4%BA%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%8C%85%E5%90%ABnon-static%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%8C%E5%AE%83%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%9C%80%E8%A6%81%E6%8C%87%E5%AE%9A%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%83%85%E5%86%B5%E7%B1%BB%E4%BC%BC%E4%BA%8E%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E,%20T:%20%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E&amp;gt;%20&amp;#123;%20b:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20T%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es%3C/span%3E%20=%20S%20&amp;#123;%20b:%20&amp;amp;%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E%20&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20*s.b);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%83%85%E5%86%B5%E7%B1%BB%E4%BC%BC%E4%BA%8E%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E,%20T:%20%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;%20&amp;#123;%20b:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20T%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es1%3C/span%3E%20=%20S%20&amp;#123;%20b:%20&amp;amp;%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es2%3C/span%3E%20=%20S%20&amp;#123;%20b:%20&amp;amp;s1%20&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20*s1.b,%20*s2.b.b);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%9C%A8%E7%AC%AC%E4%B8%80%E8%A1%8C%EF%BC%8C%3Ccode%3ET%3C/code%3E%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E8%A2%AB%E7%95%8C%E9%99%90%E5%9C%A8%3Ccode%3E&#39;a%3C/code%3E%EF%BC%8C%E6%84%8F%E5%91%B3%E7%9D%80%E4%B8%8D%E7%AE%A1%E8%BF%99%E4%B8%AA%E7%B1%BB%E5%9E%8B%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E4%BC%9A%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E5%B9%B6%E7%A7%9F%E5%80%9F%E8%BF%99%E4%B8%AAlifetime%20specifier%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%8D%B3%E6%95%B4%E4%B8%AA%E7%BB%93%E6%9E%84%E5%AF%B9%E8%B1%A1%E8%87%AA%E5%B7%B1%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E7%AC%AC%E4%BA%8C%E8%A1%8C%EF%BC%8C%3Ccode%3ES%3C/code%3E%E7%BB%93%E6%9E%84%E4%BD%93%E8%A2%AB%3Ccode%3Ebool%3C/code%3E%E5%88%9D%E5%A7%8B%E5%8C%96%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8C%E5%8E%9F%E7%94%9F%E7%B1%BB%E5%9E%8B%E4%B8%8D%E5%8C%85%E5%90%AB%E4%BB%BB%E4%BD%95%E5%BC%95%E7%94%A8%EF%BC%8C%E6%89%80%E4%BB%A5%E8%BF%99%E9%87%8C%E7%94%A8%3Ccode%3E&#39;static%3C/code%3E%E9%99%90%E7%95%8C%E5%8D%B3%E5%8F%AF%E3%80%82%3C/p%3E%3Cp%3E%E5%AF%B9%E4%BA%8E%E7%AC%AC%E4%B8%89%E8%A1%8C%EF%BC%8C%3Ccode%3ES%3C/code%3E%E7%BB%93%E6%9E%84%E4%BD%93%E7%94%B1%3Ccode%3ES&amp;lt;bool&amp;gt;%3C/code%3E%E5%88%9D%E5%A7%8B%E5%8C%96%E3%80%82%E8%AF%A5%E7%B1%BB%E5%9E%8B%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AAnon-static%E5%BC%95%E7%94%A8%EF%BC%8C%E7%94%A8%3Ccode%3E&#39;a%3C/code%3E%E9%99%90%E7%95%8C%E3%80%82%3C/p%3E" type="image"/>
    
    
    <category term="learning" scheme="https://galudisu.info/categories/learning/"/>
    
    
    <category term="rust" scheme="https://galudisu.info/tags/rust/"/>
    
  </entry>
  
  <entry>
    <title>ruståŸºç¡€å…¥é—¨[22] - Borrowing and Lifetimes</title>
    <link href="https://galudisu.info/2023/01/22/rust/beginning/chapter22_Borrowing%20and%20Lifetimes/"/>
    <id>https://galudisu.info/2023/01/22/rust/beginning/chapter22_Borrowing%20and%20Lifetimes/</id>
    <published>2023-01-22T07:50:46.000Z</published>
    <updated>2025-04-27T11:59:08.286Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç« è¦†ç›–æœ‰ï¼š</p><ul><li>â€œç§Ÿå€Ÿï¼Œborrowingâ€å’Œâ€œç”Ÿå‘½å‘¨æœŸï¼Œlifetimeâ€çš„æ¦‚å¿µ</li><li>å›°æ‰°ç³»ç»Ÿè½¯ä»¶çš„ç§Ÿå€Ÿå…¸å‹é”™è¯¯æ˜¯å“ªäº›</li><li>å¦‚ä½•é€šè¿‡ç§Ÿå€Ÿcheckerï¼ŒRustçš„ä¸¥æ ¼è¯­æ³•æ¥é¿å…è¿™ç§å…¸å‹é”™è¯¯</li><li>å¦‚ä½•é€šè¿‡æ’å…¥è¯­å¥å—æ¥çº¦æŸç§Ÿå€Ÿçš„ä½œç”¨åŸŸ(scope)</li><li>ä¸ºä»€ä¹ˆå‡½æ•°è¿”å›çš„å¼•ç”¨éœ€è¦ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºç¬¦(specifiers)</li><li>å¦‚ä½•ç»™å‡½æ•°ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºç¬¦(lifetime specifiers)ï¼Œå®ƒä»¬è¡¨ç¤ºä»€ä¹ˆ</li><li>ç§Ÿå€Ÿcheckerçš„ä»»åŠ¡æ˜¯ä»€ä¹ˆ</li></ul><span id="more"></span><h2 id="Ownership-and-Borrowing"><a class="header-anchor" href="#Ownership-and-Borrowing">Â¶</a>Ownership and Borrowing</h2><p>ä¸Šä¸€ç« ä»‹ç»åˆ°ï¼Œå½“å°†å˜é‡<code>a</code>èµ‹å€¼ç»™<code>b</code>æ—¶ï¼Œä¼šæœ‰ä¸¤ç§æƒ…å†µï¼šå¦‚æœå®ƒä»¬ç±»å‹æ˜¯å¯æ‹·è´çš„(copyable)ï¼Œå®ƒå°±å®ç°äº†<code>Copy</code>ç‰¹è´¨(å½“ç„¶ä¹Ÿè‚¯å®šå®ç°äº†<code>Clone</code>)ï¼›å¦‚æœå®ƒä»¬çš„ç±»å‹ä¸å¯æ‹·è´(non-copyable)ï¼Œåˆ™æ²¡æœ‰å®ç°<code>Copy</code>(<code>Clone</code>å¯èƒ½å®ç°ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰)ã€‚</p><p>ç¬¬ä¸€ç§æƒ…å†µï¼Œç”¨åˆ°æ‹·è´è¯­ä¹‰(copy semantics)ã€‚æ„å‘³ç€ï¼Œåœ¨èµ‹å€¼è¿‡ç¨‹ä¸­ï¼Œå½“<code>a</code>ä¿ç•™å®ƒå¯¹è±¡çš„æ‰€æœ‰æƒ(ownership)ï¼Œä¸€ä¸ªæ–°çš„å¯¹è±¡è¢«åˆ›å»ºï¼Œåˆå§‹åŒ–å€¼ç­‰åŒäº<code>a</code>çš„å€¼ï¼Œä»¥åŠ<code>b</code>è·å¾—è¿™äº›æ–°çš„å¯¹è±¡çš„æ‰€æœ‰æƒã€‚å½“<code>a</code>å’Œ<code>b</code>ç¦»å¼€å®ƒçš„ä½œç”¨åŸŸæ—¶ï¼Œå®ƒä»¬æ‹¥æœ‰çš„å¯¹è±¡è¢«é”€æ¯(åˆå«dropped)ã€‚</p><p>ç›¸åï¼Œç¬¬äºŒç§æƒ…å†µï¼Œç”¨åˆ°ç§»åŠ¨è¯­ä¹‰(move semantics)ã€‚æ„å‘³ç€ï¼Œåœ¨èµ‹å€¼è¿‡ç¨‹ä¸­ï¼Œ<code>a</code>å°†å®ƒçš„æ‰€æœ‰æƒç§»äº¤ç»™äº†<code>b</code>ï¼Œä¸ä¼šæœ‰æ–°å¯¹è±¡çš„åˆ›å»ºï¼Œ<code>a</code>ä¸å†å¯è®¿é—®ã€‚å½“<code>b</code>ç¦»å¼€å®ƒçš„ä½œç”¨åŸŸæ—¶ï¼Œå®ƒæ‹¥æœ‰çš„å¯¹è±¡è¢«é”€æ¯ã€‚å½“<code>a</code>ç¦»å¼€å®ƒçš„ä½œç”¨åŸŸï¼Œä¸å‘ç”Ÿä»»ä½•äº‹æƒ…ã€‚</p><p>æ‰€æœ‰è¿™äº›ä¿è¯äº†åˆé€‚çš„å†…å­˜ç®¡ç†ï¼Œåªè¦æ²¡æœ‰å¼•ç”¨è¢«ä½¿ç”¨åˆ°ã€‚</p><p>ä½†çœ‹çœ‹è¿™ä¸ªä»£ç ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">n</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">ref_to_n</span> = &amp;n;</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¡è¯­å¥åï¼Œå˜é‡<code>n</code>æ‹¥æœ‰ä¸€ä¸ªæ•°ã€‚</p><p>ç¬¬äºŒæ¡è¯­å¥åï¼Œå˜é‡<code>ref_to_n</code>æ‹¥æœ‰ä¸€ä¸ªå¼•ç”¨ï¼Œè¯¥å¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªç”±<code>n</code>å¼•ç”¨çš„æ•°ã€‚å®ƒæ˜¯ä¸€ä¸ªæ‰€æœ‰æƒå—ï¼Ÿ</p><p>å®ƒä¸èƒ½ä½œä¸ºä¸€ä¸ªæ‰€æœ‰æƒï¼Œå› ä¸ºè¿™ä¸ªæ•°æ—©å·²ç»ç”±<code>n</code>æ‰€æ‹¥æœ‰ï¼Œå¦‚æœåŒæ—¶è¢«è¿™ä¸ªå¼•ç”¨æ‰€â€œæ‹¥æœ‰â€ï¼Œå®ƒå°†ä¼šè¢«é”€æ¯ä¸¤æ¬¡ã€‚å› æ­¤ï¼Œç±»ä¼¼è¿™æ ·çš„å¼•ç”¨ä¸èƒ½â€œæ‹¥æœ‰â€å¯¹è±¡ã€‚</p><p>è¡¨è¾¾å¼<code>n</code>å’Œ<code>*ref_to_n</code>æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œä½†ä»…<code>n</code>æ‹¥æœ‰è¿™ä¸ªå¯¹è±¡ã€‚å˜é‡<code>ref_to_n</code>å¯ä»¥è®¿é—®è¿™ä¸ªå¯¹è±¡ï¼Œä½†ä¸æ˜¯â€œæ‹¥æœ‰â€è¿™ä¸ªå¯¹è±¡ã€‚è¿™ç§æ¦‚å¿µç§°ä¸º<strong>ç§Ÿå€Ÿï¼Œborrowing</strong>ã€‚æˆ‘ä»¬è¯´<code>ref_to_n</code>å€Ÿäº†<code>n</code>æ‹¥æœ‰çš„æ•°ã€‚è¿™ç§ç§Ÿå€Ÿï¼Œå¼€å§‹äºå¼•ç”¨æŒ‡å‘è¯¥å¯¹è±¡ï¼Œç»“æŸäºè¯¥å¯¹è±¡çš„é”€æ¯ã€‚</p><p>å…³äºå¯å˜æ€§(mutability)ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„borrowingï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">n</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">ref1_to_n</span> = &amp;<span class="keyword">mut</span> n;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">ref2_to_n</span> = &amp;n;</span><br></pre></td></tr></table></figure><p>è¿™æ®µç¨‹åºä¸­ï¼Œ<code>ref1_to_n</code>å°†<code>n</code>æ‹¥æœ‰çš„å€¼ï¼Œç§Ÿå€Ÿä¸º <strong>mutably</strong> çš„å€¼ï¼Œä»¥åŠ<code>ref2_to_n</code>ç§Ÿå€Ÿä¸º <strong>immutably</strong> çš„å€¼ã€‚ç¬¬ä¸€ç§æ˜¯å¯å˜ç§Ÿå€Ÿ(mutable borrowing)ï¼Œç¬¬äºŒç§æ˜¯ä¸å¯å˜ç§Ÿå€Ÿ(immutable borrowing)ã€‚å¯å˜ç§Ÿå€Ÿä»…èƒ½ä»å¯å˜å˜é‡ä¸­è·å–ã€‚</p><h2 id="Object-Lifetimes"><a class="header-anchor" href="#Object-Lifetimes">Â¶</a>Object Lifetimes</h2><p>æ³¨æ„åˆ°ï¼Œâ€œä½œç”¨åŸŸï¼Œscopeâ€çš„æ¦‚å¿µä½œç”¨äºç¼–è¯‘æœŸçš„å˜é‡ï¼Œè€Œä¸æ˜¯è¿è¡ŒæœŸçš„å¯¹è±¡ã€‚å¯¹åº”è¿è¡ŒæœŸå¯¹è±¡çš„æ¦‚å¿µå«â€œç”Ÿå‘½å‘¨æœŸï¼Œlifetimeâ€ã€‚åœ¨Rustä¸­ï¼Œä¸€ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼ŒæŒ‡çš„æ˜¯ä¸€ç³»åˆ—æ‰§è¡ŒæŒ‡ä»¤ï¼Œä»æ‰§è¡ŒæŒ‡ä»¤çš„åˆ›å»ºï¼Œåˆ°æ‰§è¡ŒæŒ‡ä»¤çš„é”€æ¯ã€‚åœ¨è¯¥æ—¶é—´æ®µï¼Œè¯¥å¯¹è±¡å«åšâ€œå­˜æ´»ï¼Œto liveï¼Œto be aliveâ€ã€‚</p><p>å½“ç„¶ï¼Œä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸå­˜åœ¨ä¸€å®šå…³ç³»ï¼Œä½†å®ƒä»¬ä¸æ˜¯åŒä¸€ä¸ªæ¦‚å¿µã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span>;</span><br><span class="line">a = <span class="number">12</span>;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);</span><br></pre></td></tr></table></figure><p>è¯¥ç¨‹åºä¸­ï¼Œå˜é‡<code>a</code>çš„ä½œç”¨åŸŸå¼€å§‹äºç¬¬ä¸€è¡Œï¼Œè€Œ<code>a</code>æ‹¥æœ‰çš„å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå¼€å§‹äºç¬¬äºŒè¡Œã€‚é€šå¸¸è®¤ä¸ºï¼Œå˜é‡<code>a</code>çš„ä½œç”¨åŸŸå¼€å§‹äºå®ƒçš„å£°æ˜ï¼Œå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå¼€å§‹äºè¯¥å¯¹è±¡æ¥æ”¶ä¸€ä¸ªå€¼ã€‚</p><p>å³ä½¿æ˜¯å˜é‡ä½œç”¨åŸŸ(scope)çš„ç»“æŸï¼Œè·Ÿå¯¹è±¡ç”Ÿå‘½å‘¨æœŸ(lifetime)çš„ç»“æŸä¹Ÿä¸æ˜¯åŒæ—¶å‘ç”Ÿçš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="string">&quot;Hello&quot;</span>.<span class="title function_ invoke__">to_string</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">b</span> = a;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;, &quot;</span>, b);</span><br><span class="line">a = <span class="string">&quot;world&quot;</span>.<span class="title function_ invoke__">to_string</span>();</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;!&quot;</span>, a);</span><br><span class="line">b = a;</span><br></pre></td></tr></table></figure><p>ç»“æœå°†è¾“å‡ºï¼šâ€œHello, world!â€ã€‚</p><p>åœ¨ç¬¬ä¸€æ¡è¯­å¥ï¼Œå˜é‡<code>a</code>è¢«å£°æ˜ä»¥åŠåˆå§‹åŒ–ã€‚å› æ­¤<code>a</code>çš„ä½œç”¨åŸŸå¼€å§‹ï¼Œæ¥ç€<code>a</code>æ‹¥æœ‰çš„å¯¹è±¡è¢«åˆ›å»ºï¼Œ<code>a</code>çš„ç”Ÿå‘½å‘¨æœŸå¼€å§‹ã€‚</p><p>åœ¨ç¬¬äºŒæ¡è¯­å¥ï¼Œå˜é‡<code>b</code>è¢«å£°æ˜ï¼Œç”±<code>a</code>ç§»åŠ¨å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ã€‚å› æ­¤ï¼Œ<code>b</code>çš„ä½œç”¨åŸŸå¼€å§‹ï¼Œ<code>a</code>çš„ä½œç”¨åŸŸè¢«æ‚¬æŒ‚(suspended)ï¼Œå› ä¸ºå®ƒè¢«ç§»åŠ¨äº†ï¼Œæ‰€ä»¥å®ƒä¸å¯å†è¢«è®¿é—®ã€‚<code>b</code>æ‹¥æœ‰çš„å¯¹è±¡ä¸ç”¨åˆ›å»ºï¼Œå› ä¸ºå®ƒå°±æ˜¯å…ˆå‰åˆ›å»ºçš„å¯¹è±¡ã€‚</p><p>åœ¨ç¬¬ä¸‰æ¡è¯­å¥ï¼Œ<code>b</code>è¢«è®¿é—®ã€‚</p><p>åœ¨ç¬¬å››æ¡è¯­å¥ï¼Œå˜é‡<code>a</code>é€šè¿‡<code>new</code>æ„é€ å™¨ï¼ŒæŒ‡æ´¾æ–°çš„å€¼ã€‚è¿™é‡Œï¼Œ<code>a</code>æ¢å¤(resume)å®ƒçš„ä½œç”¨åŸŸ(scope)ï¼Œå› ä¸ºå®ƒçš„ä½œç”¨åŸŸè¿˜æ²¡æœ‰ç»“æŸã€‚ä¸€ä¸ªæ–°çš„å¯¹è±¡è¢«åˆ›å»ºï¼Œè¯¥å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå¼€å§‹ã€‚å‰é¢ç”±äºå˜é‡<code>a</code>è¢«â€œç§»åŠ¨â€äº†ï¼Œæ‰€ä»¥å®ƒä¸â€œæ‹¥æœ‰â€ä»»ä½•å¯¹è±¡ã€‚æ‰€ä»¥è¿™é‡Œçš„è¯­å¥ç±»ä¼¼äºä¸€ä¸ªåˆå§‹åŒ–ã€‚</p><p>åœ¨ç¬¬äº”æ¡è¯­å¥ï¼Œ<code>a</code>(æ‹¥æœ‰å¯¹è±¡)å¯è¢«è®¿é—®äº†ã€‚</p><p>åœ¨ç¬¬å…­æ¡è¯­å¥ï¼Œ<code>a</code>å†æ¬¡è¢«ç§»åŠ¨åˆ°<code>b</code>ï¼Œå®ƒçš„ä½œç”¨åŸŸå†æ¬¡è¢«æ‚¬æŒ‚(suspended)ã€‚ç›¸åï¼Œ<code>b</code>ä¸€ç›´æ˜¯æ´»åŠ¨çš„(active)ï¼Œå®ƒæ‹¥æœ‰çš„å¯¹è±¡ç”±ç§»åŠ¨çš„<code>a</code>æ›¿æ¢ï¼Œå› æ­¤ï¼ŒåŸå…ˆçš„å¯¹è±¡åœ¨è¿™é‡Œè¢«é”€æ¯ï¼Œä»¥åŠç”Ÿå‘½å‘¨æœŸç»“æŸã€‚å¦‚æœè¯¥å¯¹è±¡å®ç°äº†<code>Drop</code>ï¼Œåœ¨è¿™é‡Œï¼Œå®ƒçš„<code>drop</code>æ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚</p><p>æœ€åï¼Œ<code>b</code>å’Œ<code>a</code>é™†ç»­é€€å‡ºå®ƒä»¬çš„ä½œç”¨åŸŸã€‚å˜é‡<code>b</code>æ‹¥æœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡è¢«é”€æ¯ï¼Œä»¥åŠç»“æŸå®ƒçš„ç”Ÿå‘½å‘¨æœŸã€‚ç›¸åï¼Œå˜é‡<code>a</code>è¢«â€œç§»åŠ¨â€äº†ï¼Œä¸å†æ‹¥æœ‰ä»»ä½•å¯¹è±¡ï¼Œä¹Ÿå°±ä¸ä¼šæœ‰é”€æ¯å¯¹è±¡çš„å‘ç”Ÿã€‚</p><h2 id="Errors-Regarding-Borrowing"><a class="header-anchor" href="#Errors-Regarding-Borrowing">Â¶</a>Errors Regarding Borrowing</h2><p>Cå’ŒC++ç¨‹åºç¼–å†™æ€»æ˜¯è¢«å„ç§é”™è¯¯å›°æ‰°ï¼Œè€ŒRuståˆ™é€šè¿‡è®¾è®¡æ¥é¿å…è¿™ä¸€ç±»é—®é¢˜ã€‚Rustçš„ä¸€ç§å¸¸è§é”™è¯¯æ˜¯â€œuse after moveâ€ï¼Œå‰é¢ä»‹ç»è¿‡ã€‚å¦ä¸€ç§é”™è¯¯å¦‚ä¸‹ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">ref_to_n</span>;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">n</span> = <span class="number">12</span>;</span><br><span class="line">    ref_to_n = &amp;n;</span><br><span class="line">    <span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &quot;</span>, *ref_to_n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, *ref_to_n);</span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼Œå˜é‡<code>ref_to_n</code>è¢«å£°æ˜ï¼Œä½†æ²¡æœ‰è¢«åˆå§‹åŒ–ã€‚ç„¶åï¼Œåœ¨è¯­å¥å—å†…ï¼Œå¯å˜å˜é‡<code>n</code>è¢«å£°æ˜å¹¶åˆå§‹åŒ–ï¼Œå®ƒåˆ†é…ä¸€ä¸ªæ•°åœ¨æ ˆä¸Šï¼Œå€¼ä¸º12ã€‚</p><p>ç„¶åï¼ŒåŸå…ˆçš„å˜é‡ï¼Œç”¨ä¸€ä¸ªæŒ‡å‘<code>n</code>çš„å¼•ç”¨è¿›è¡Œåˆå§‹åŒ–ï¼Œå®ƒç§Ÿå€Ÿ(borrow)äº†è¿™ä¸ªå¯¹è±¡ã€‚</p><p>æ¥ç€ï¼Œå˜é‡<code>ref_to_n</code>æŒ‡å‘çš„å¯¹è±¡ï¼Œå³å€¼ä¸º12çš„å¯¹è±¡ï¼Œæ‰“å°è¾“å‡ºã€‚</p><p>æ¥ç€ï¼Œè¯­å¥å—ç»“æŸï¼Œå†…éƒ¨å˜é‡<code>n</code>ç»“æŸäº†å®ƒçš„ä½œç”¨åŸŸï¼Œå®ƒçš„å¯¹è±¡è¢«é”€æ¯ã€‚</p><p>æ¥ç€ï¼Œå˜é‡<code>ref_to_n</code>æŒ‡å‘çš„å¯¹è±¡å†æ¬¡è¢«æ‰“å°ã€‚ä½†è¯¥å¯¹è±¡åŸå…ˆè¢«<code>n</code>â€œæ‹¥æœ‰â€ï¼Œå®ƒç°åœ¨ä¸å­˜åœ¨äº†ï¼</p><p>å¹¸è¿çš„æ˜¯ï¼ŒRustç¼–è¯‘å™¨æ‹’ç»è¯¥ä»£ç ï¼Œäº§ç”Ÿé”™è¯¯ä¿¡æ¯â€œ<code>n</code> does not live long enoughâ€ã€‚è¯¥æ¶ˆæ¯è¡¨ç¤ºï¼Œå˜é‡<code>n</code>æ­»äº†(dying)ï¼Œä½†ä»ç„¶æœ‰æŒ‡å‘å®ƒâ€œæ‹¥æœ‰â€çš„å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒåº”è¯¥æ´»æ›´é•¿ä¸€äº›ï¼›è‡³å°‘åº”è¯¥è·Ÿç§Ÿå€Ÿå®ƒå¯¹è±¡çš„ç§Ÿå€Ÿæ–¹ä¸€æ ·é•¿ã€‚</p><p>é¡ºä¾¿ï¼ŒCæˆ–C++å¯¹åº”çš„ä»£ç å¦‚ä¸‹ï¼Œ</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span>* ref_to_n;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> n = <span class="number">12</span>;</span><br><span class="line">        ref_to_n &amp;n;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *ref_to_n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, *ref_to_n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µç¨‹åºå¯è¢«Cå’ŒC++ç¼–è¯‘å™¨æ¥å—ã€‚ç»“æœä¼šæ‰“å°â€œ12â€ï¼Œä¹‹åçš„è¡Œä¸ºä¼šå˜å¾—ä¸å¯é¢„æµ‹ã€‚</p><p>è¿™ç±»ç¨‹åºé”™è¯¯ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œuse after dropâ€ã€‚</p><p>æœ‰å¦ä¸€ç§å¯é¿å…çš„Rusté”™è¯¯ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="built_in">vec!</span>[<span class="number">12</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">ref_to_first</span> = &amp;v[<span class="number">0</span>];</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(<span class="number">13</span>);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, ref_to_first);</span><br></pre></td></tr></table></figure><p>å¯¹åº”çš„Cè¯­è¨€å®ç°æ˜¯ï¼Œ</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span>* v = <span class="built_in">malloc</span>(<span class="number">1</span> * <span class="keyword">sizeof</span> (<span class="type">int</span>));</span><br><span class="line">    v[<span class="number">0</span>] = <span class="number">12</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span>* ref_to_first = &amp;v[<span class="number">0</span>];</span><br><span class="line">    v = <span class="built_in">realloc</span>(v, <span class="number">2</span> * <span class="keyword">sizeof</span> (<span class="type">int</span>));</span><br><span class="line">    v[<span class="number">1</span>] = <span class="number">13</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, *ref_to_first);</span><br><span class="line">    <span class="built_in">free</span>(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥åŠC++çš„å®ç°æ˜¯ï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v &#123; <span class="number">12</span> &#125;;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span>&amp; ref_to_first = v[<span class="number">0</span>];</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">13</span>);</span><br><span class="line">    std::cout &lt;&lt; ref_to_first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ç”¨å¤šè¯´ï¼Œæœ€åä¸¤ä¸ªç¨‹åºä¼šè¢«å„è‡ªçš„ç¼–è¯‘å™¨æ¥å—ï¼Œå³ä½¿å®ƒä»¬çš„è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„ã€‚ç›¸åï¼ŒRustç¼–è¯‘å™¨ä¼šæ‹’ç»å¹¶æŠ›å‡ºé”™è¯¯ä¿¡æ¯â€œcannot borrow <code>v</code> as mutable because it is also borrowed as immutableâ€ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¯¥ç¨‹åºæœ‰ä»€ä¹ˆé”™è¯¯ã€‚</p><p>é¦–å…ˆï¼Œå¯å˜(mutable)å˜é‡<code>v</code>ï¼Œç”¨ä¸€ä¸ªä»…å¸¦æ•°12çš„vectorå£°æ˜å’Œåˆå§‹åŒ–ã€‚</p><p>ç„¶åï¼Œå˜é‡<code>ref_to_first</code>ç”¨åŸå…ˆæŒ‡å‘<code>v</code>çš„å¼•ç”¨å£°æ˜å’Œåˆå§‹åŒ–ã€‚å¼•ç”¨æŒ‡å‘çš„å€¼åŒ…å«æ•°12ã€‚</p><p>ç„¶åï¼Œå¦ä¸€ä¸ªæ•°13è¢«æ·»åŠ åˆ°vectorã€‚ä½†è¿™ç§æ’å…¥ä¼šå¯¼è‡´ç¼“å†²åŒºçš„é‡æ–°åˆ†é…ã€‚å³ä½¿åœ¨è¿™ä¸ªä¾‹å­ï¼Œ<code>ref_to_first</code>ä»ä¼šç»§ç»­æŒ‡å‘æ—§çš„å¯¹è±¡ï¼Œä¸æ˜¯æœ‰æ•ˆçš„å†…å­˜åœ°å€ã€‚</p><p>æœ€åï¼Œè¿™ä¸ªæ—§çš„å†…å­˜åœ°å€ï¼Œå¯èƒ½æ˜¯é”™è¯¯çš„ï¼Œè¯»å–çš„å†…å­˜åœ°å€çš„å€¼æ‰“å°åï¼Œæ˜¯ä¸å¯é¢„æµ‹çš„ç»“æœã€‚</p><p>ç”±äºä»ä¸€ä¸ªvectoræ’å…¥æˆ–æ·»åŠ å…ƒç´ æ—¶ï¼Œæ‰€æœ‰æŒ‡å‘vectorçš„å¼•ç”¨éƒ½â€œå¤±æ•ˆâ€ï¼Œå¯¼è‡´è¿™ç§é”™è¯¯çš„å‡ºç°ã€‚é€šå¸¸ï¼Œè¿™ç§é”™è¯¯å±äºå¹¿ä¹‰çš„é”™è¯¯ç±»åˆ«ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œé€šè¿‡å‡ ç§è·¯å¾„ã€æˆ–åˆ«åè®¿é—®ï¼Œå½“æ•°æ®ç»“æ„è¢«å…¶ä¸­ä¸€ä¸ªåˆ«åä¿®æ”¹æ—¶ï¼Œä¸èƒ½è¢«å¦ä¸€ä¸ªåˆ«åä½¿ç”¨ã€‚</p><p>æˆ‘ä»¬å°†è¿™ç±»ç¼–ç¨‹é”™è¯¯å‘½åä¸ºâ€œuse after change by an aliasâ€ã€‚</p><h2 id="How-to-Prevent-â€œUse-After-Dropâ€-Errors"><a class="header-anchor" href="#How-to-Prevent-â€œUse-After-Dropâ€-Errors">Â¶</a>How to Prevent â€œUse After Dropâ€ Errors</h2><p>Rusté˜²æ­¢ä½¿ç”¨â€œè„±è½ï¼Œdroppedâ€å¯¹è±¡çš„æŠ€æœ¯æ˜¯ç®€å•çš„ã€‚</p><p>æŠŠè¯¥å¯¹è±¡çœ‹åšæ˜¯è¢«ä¸€ä¸ªå˜é‡æŒ‡å‘ï¼Œéµå¾ªæ ˆåˆ†é…çš„è§„åˆ™ï¼Œä¼šæŒ‰ç…§å˜é‡å£°æ˜çš„åå‘é¡ºåºè¢«è„±è½ï¼Œè€Œä¸æ˜¯åˆå§‹åŒ–çš„åå‘é¡ºåºã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">X</span>(<span class="type">char</span>);</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Drop</span> <span class="keyword">for</span> <span class="title class_">X</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">drop</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) &#123;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, <span class="keyword">self</span>.<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_a</span> = <span class="title function_ invoke__">X</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_c</span> = <span class="title function_ invoke__">X</span>(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">_b = <span class="title function_ invoke__">X</span>(<span class="string">&#x27;b&#x27;</span>);</span><br></pre></td></tr></table></figure><p>è¯¥ç¨‹åºä¼šæ‰“å°â€œcbaâ€ã€‚è¿™ä¸‰ä¸ªå¯¹è±¡æŒ‰ç…§é¡ºåºâ€œacbâ€è¢«æ„é€ ï¼Œä½†ä¸‰ä¸ªå¯¹è±¡çš„åˆ†é…é¡ºåºæ˜¯â€œabcâ€ï¼Œå› æ­¤å›æ”¶ä»¥åŠè„±è½çš„æŒ‰ç›¸åçš„é¡ºåºã€‚</p><p>ä¸ºäº†é¿å…ä½¿ç”¨è„±è½å¯¹è±¡ï¼Œæ‰€æœ‰å˜é‡ï¼Œç§Ÿå€Ÿå…¶å®ƒå˜é‡æ‹¥æœ‰çš„å¯¹è±¡ï¼Œå¿…é¡»åœ¨è¯¥å˜é‡çš„ <strong>åé¢</strong> å£°æ˜ã€‚</p><p>ä¾‹å¦‚ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">n</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">_r</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">m</span> = <span class="number">13</span>;</span><br><span class="line">_r = &amp;m;</span><br><span class="line">_r = &amp;n;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä¼šäº§ç”Ÿé”™è¯¯ä¿¡æ¯ï¼šâ€œ<code>m</code> does not live long enoughâ€ã€‚è¿™æ˜¯å› ä¸º<code>_r</code>åŒæ—¶ä»<code>m</code>å’Œ<code>n</code>è¿›è¡Œborrowï¼Œè™½ç„¶ä¸åœ¨åŒä¸€æ—¶åˆ»æŒ‡å‘ä¸¤è€…ï¼Œä½†å®ƒåœ¨<code>m</code>ä¹‹å‰å£°æ˜äº†ã€‚è¦æ›´æ­£è¿™æ®µä»£ç ï¼Œæ”¹ä¸ºå¦‚ä¸‹ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">n</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">m</span> = <span class="number">13</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">_r</span>;</span><br><span class="line">_r = &amp;m;</span><br><span class="line">_r = &amp;n;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç æ˜¯åˆæ³•çš„ï¼Œå½“<code>m</code>å’Œ<code>n</code>æ‹¥æœ‰çš„å¯¹è±¡è¢«droppedæ—¶ï¼Œä¸ä¼šå†æœ‰æŒ‡å‘å®ƒä»¬çš„å¼•ç”¨ã€‚</p><h2 id="How-to-Prevent-â€œUse-After-Change-by-an-Aliasâ€-Errors"><a class="header-anchor" href="#How-to-Prevent-â€œUse-After-Change-by-an-Aliasâ€-Errors">Â¶</a>How to Prevent â€œUse After Change by an Aliasâ€ Errors</h2><p>ç”±äºå…¶å®ƒå˜é‡å¼•èµ·å¯¹è±¡çš„æ”¹å˜ï¼Œå¯¼è‡´å½“å‰å˜é‡ä½¿ç”¨è¯¥å¯¹è±¡å‡ºç°é”™è¯¯ã€‚è¦é¿å…è¿™ç§é”™è¯¯ï¼Œä½¿ç”¨çš„è§„åˆ™æœ‰å‡ åˆ†å¤æ‚ã€‚</p><p>é¦–å…ˆï¼Œè¦æ±‚è€ƒè™‘ä»»ä½•è¯­å¥ä¼šè¯»è¿™ä¸ªå¯¹è±¡ï¼Œä¸ä¼šæœ‰å†™æ“ä½œï¼Œå°±åƒæ˜¯è¯¥å¯¹è±¡çš„ä¸€ä¸ª <strong>ä¸´æ—¶ä¸å¯å˜ç§Ÿå€Ÿ(temporary immutable borrowing)</strong>ï¼›ä»»ä½•è¯­å¥å˜æ›´è¿™ä¸ªå¯¹è±¡ï¼Œå°±åƒæ˜¯è¯¥å¯¹è±¡çš„ä¸€ä¸ª <strong>ä¸´æ—¶å¯å˜ç§Ÿå€Ÿ(temporary mutable borrowing)</strong>ã€‚è¿™ç§ç§Ÿå€Ÿçš„å‡ºç°å’Œç»“æŸåœ¨è¯¥è¯­å¥çš„å†…éƒ¨è¿›è¡Œã€‚</p><p>ç„¶åï¼Œç§Ÿå€Ÿå¼€å§‹äºï¼Œè·å–æŒ‡å‘è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶åˆ†é…ç»™ä¸€ä¸ªå˜é‡ï¼›ç»“æŸäºï¼Œè¯¥å˜é‡çš„ä½œç”¨åŸŸ(scope)ç»“æŸã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">b</span> = <span class="number">13</span>;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &quot;</span>, a);</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">c</span> = &amp;a;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">d</span> = &amp;<span class="keyword">mut</span> b;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &quot;</span>, c, d);</span><br><span class="line">&#125;</span><br><span class="line">b += <span class="number">1</span>;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, b);</span><br></pre></td></tr></table></figure><p>ç»“æœä¼šæ‰“å°ï¼šâ€œ12 12 13 14â€ã€‚</p><p>åœ¨ç¬¬3è¡Œå’Œæœ€åä¸€è¡Œï¼Œä¸€ä¸ªå¯å˜ç§Ÿå€Ÿå¼€å§‹å¹¶ç»“æŸã€‚åœ¨ç¬¬5è¡Œï¼Œä¸€ä¸ªä¸å¯å˜ç§Ÿå€Ÿå¼€å§‹ï¼Œç¬¬6è¡Œï¼Œä¸€ä¸ªå¯å˜ç§Ÿå€Ÿå¼€å§‹ï¼›å®ƒä»¬åœ¨è¯­å¥å—æœ«å°¾ç»“æŸã€‚åœ¨ç¬¬9è¡Œï¼Œä¸€ä¸ªå¯å˜ç§Ÿå€Ÿå¼€å§‹å¹¶ç»“æŸã€‚</p><p>è¿™ç§è§„åˆ™è¦æ±‚ï¼ŒåŒä¸€æ—¶åˆ»ï¼Œå¯å˜ç§Ÿå€Ÿ(å³ï¼Œ&amp;mut )çš„å‡ºç°ä¸èƒ½å’Œå…¶å®ƒç§Ÿå€Ÿå¹¶å­˜ã€‚</p><p>æ¢å¥è¯è¯´ï¼ŒåŒä¸€æ—¶åˆ»ï¼š</p><ul><li>æ²¡æœ‰ç§Ÿå€Ÿ</li><li>æˆ–ï¼Œä¸€ä¸ªå•ä¸€çš„å¯å˜(mutable)ç§Ÿå€Ÿ</li><li>æˆ–ï¼Œä¸€ä¸ªå•ä¸€çš„ä¸å¯å˜(immutable)ç§Ÿå€Ÿ</li><li>æˆ–ï¼Œå‡ ä¸ªä¸å¯å˜(immutable)ç§Ÿå€Ÿ</li></ul><p>ä¸èƒ½æœ‰ï¼š</p><ul><li>å‡ ä¸ªå¯å˜(mutable)ç§Ÿå€Ÿ</li><li>ä¸èƒ½æœ‰ä¸€ä¸ªå•ä¸€çš„å¯å˜(mutable)ç§Ÿå€Ÿå’Œä¸€ä¸ªæˆ–å¤šä¸ªä¸å¯å˜(immutable)ç§Ÿå€Ÿ</li></ul><h2 id="Listing-the-Possible-Cases-of-Multiple-Borrowings"><a class="header-anchor" href="#Listing-the-Possible-Cases-of-Multiple-Borrowings">Â¶</a>Listing the Possible Cases of Multiple Borrowings</h2><p>ä¸‹é¢ç½—åˆ—å…­ç§å…è®¸çš„æƒ…å†µã€‚</p><p>ç¬¬ä¸€ç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;a;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_c</span> = &amp;a;</span><br></pre></td></tr></table></figure><p>æœ‰ä¸¤ä¸ªä¸å¯å˜ç§Ÿå€Ÿï¼Œç›´åˆ°ç»“æŸä¸ºæ­¢è¢«æŒæœ‰ã€‚</p><p>ç¬¬äºŒç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;a;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰ç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line">a = <span class="number">13</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;a;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªä¸å¯å˜ç§Ÿå€Ÿï¼Œç´§éšåä¸€ä¸ªä¸´æ—¶å¯å˜ç§Ÿå€Ÿã€‚</p><p>ç¬¬å››ç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line">a = <span class="number">13</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;<span class="keyword">mut</span> a;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªå¯å˜ç§Ÿå€Ÿï¼Œç´§éšåä¸€ä¸ªä¸´æ—¶å¯å˜ç§Ÿå€Ÿã€‚</p><p>ç¬¬äº”ç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;a;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªä¸å¯å˜ç§Ÿå€Ÿï¼Œç´§éšåä¸€ä¸ªä¸´æ—¶ä¸å¯å˜ç§Ÿå€Ÿã€‚</p><p>ç¬¬å…­ç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;<span class="keyword">mut</span> a;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªå¯å˜ç§Ÿå€Ÿï¼Œç´§éšåä¸€ä¸ªä¸´æ—¶ä¸å¯ç§Ÿå€Ÿã€‚</p><p>ä¸‹é¢æ˜¯å…­ç§ä¸åˆæ³•æƒ…å†µã€‚</p><p>ç¬¬ä¸€ç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;<span class="keyword">mut</span> a;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_c</span> = &amp;a;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å‡ºé”™â€œcannot borrow <code>a</code> as immutable because it is also borrowed as mutableâ€ã€‚</p><p>ç¬¬äºŒç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;a;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_c</span> = &amp;<span class="keyword">mut</span> a;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å‡ºé”™â€œcannot borrow <code>a</code> as mutable because it is also borrowed as immutableâ€ã€‚</p><p>ç¬¬ä¸‰ç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;<span class="keyword">mut</span> a;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_c</span> = &amp;<span class="keyword">mut</span> a;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å‡ºé”™â€œcannot borrow <code>a</code> as mutable more than once at a timeâ€ã€‚</p><p>ç¬¬å››ç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;a;</span><br><span class="line">a = <span class="number">13</span>;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å‡ºé”™â€œcannot assign to <code>a</code> because it is borrowedâ€ã€‚</p><p>ç¬¬äº”ç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;<span class="keyword">mut</span> a;</span><br><span class="line">a = <span class="number">13</span>;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å‡ºé”™â€œcannot assign to <code>a</code> because it is borrowedâ€ã€‚</p><p>ç¬¬å…­ç§ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = &amp;<span class="keyword">mut</span> a;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å‡ºé”™â€œcannot borrow <code>a</code> as immutable because it is also borrowed as mutableâ€ã€‚</p><p>æ¢³ç†ä¸€ä¸‹ã€‚å¯¹äºå½“å‰å°šæœªè¢«borrowedçš„å¯¹è±¡æ¥è¯´ï¼Œå…è®¸çš„æ“ä½œæ˜¯ï¼š</p><ol><li>ä»…å¯è¢«ä¸å¯å˜ç§Ÿå€Ÿ(immutablely borrowed)æ•°æ¬¡ï¼Œç„¶åå¯ä»¥ç”±æ‰€æœ‰è€…(owner)å’Œä»»ä½•ç§Ÿå€Ÿæ–¹(borrower)è¯»å–ã€‚</li><li>ä»…å¯è¢«å¯å˜ç§Ÿå€Ÿ(mutably borrowed)ä¸€æ¬¡ï¼Œç„¶åæœ‰ä¸”ä»…èƒ½ç”±è¿™ä¸ªç§Ÿå€Ÿæ–¹(borrower)è¯»å–å’Œä¿®æ”¹ã€‚</li></ol><h2 id="Using-a-Bock-to-Restrict-Borrowing-Scope"><a class="header-anchor" href="#Using-a-Bock-to-Restrict-Borrowing-Scope">Â¶</a>Using a Bock to Restrict Borrowing Scope</h2><p>å½“ä¸€ä¸ªå¯¹è±¡çš„ç§Ÿå€Ÿç»“æŸåï¼Œå¯¹è±¡å¯¹å…¶å®ƒç§Ÿå€Ÿåˆå˜å¾—å¯ç”¨äº†ã€‚ä»»ä½•ç±»å‹çš„ç§Ÿå€Ÿéƒ½å¯é™åˆ¶åœ¨è¯­å¥å—å†…ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">b</span> = &amp;<span class="keyword">mut</span> a;</span><br><span class="line">*b += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">c</span> = &amp;<span class="keyword">mut</span> a;</span><br><span class="line">*c += <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å…è®¸çš„ï¼Œå› ä¸ºç§Ÿå€Ÿå‘ç”Ÿåœ¨ç¬¬ä¸‰è¡Œï¼Œè¯­å¥å—ç»“æŸåï¼Œç§Ÿå€Ÿä¹Ÿç»“æŸäº†ï¼Œå› æ­¤ç¬¬7è¡Œçš„<code>a</code>å¯ä»¥ç”¨äºå…¶å®ƒç§Ÿå€Ÿã€‚</p><p>ç±»ä¼¼åœ°ï¼Œå¯¹äºå‡½æ•°ä¹Ÿä¸€æ ·ï¼Œåœ¨å‡½æ•°ç»“æŸåï¼Œå¯¹è±¡å†æ¬¡å˜å¾—å¯ç”¨ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>*b: &amp;<span class="keyword">mut</span> <span class="type">i32</span>) &#123;</span><br><span class="line">*b += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_ invoke__">f</span>(&amp;<span class="keyword">mut</span> a);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">c</span> = &amp;<span class="keyword">mut</span> a;</span><br><span class="line">*c += <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>è¿™ç§è§„åˆ™ï¼Œé€‚ç”¨äºRustç¡®ä¿å¯ä»¥è‡ªåŠ¨åœ°å†³å®šå†…å­˜çš„å›æ”¶ï¼Œé¿å…ä¸åˆæ³•çš„å¼•ç”¨ï¼›è¿™ç§è§„åˆ™å…è®¸Rustå®ç°æ— æ•°æ®ç«äº‰(data-race-free)çš„å¹¶å‘ç¼–ç¨‹ã€‚</p><h2 id="The-Need-of-Lifetime-Specifiers-for-Returned-References"><a class="header-anchor" href="#The-Need-of-Lifetime-Specifiers-for-Returned-References">Â¶</a>The Need of Lifetime Specifiers for Returned References</h2><p>å…ˆçœ‹è¿™æ®µä»£ç ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="number">11u8</span>, <span class="number">22</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span>;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">v2</span> = <span class="built_in">vec!</span>[<span class="number">33u8</span>];</span><br><span class="line">result = &#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_x1</span>: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt; = &amp;v1;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_x2</span>: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt; = &amp;v2;</span><br><span class="line">_x1</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, *result);</span><br></pre></td></tr></table></figure><p>ç»“æœå°†ä¼šè¾“å‡ºï¼šâ€œ<code>[11, 22]</code>â€ã€‚</p><p>å˜é‡<code>v1</code>å’Œ<code>v2</code>å„è‡ªæ‹¥æœ‰vectorã€‚æ¥ç€è¢«ä¸¤ä¸ªå¼•ç”¨borrowedäº†ï¼Œåˆ†åˆ«è¢«<code>_x1</code>å’Œ<code>_x2</code>æ‹¥æœ‰ã€‚å› æ­¤ï¼Œåœ¨ç¬¬7è¡Œåï¼Œ<code>_x1</code>ç§Ÿå€Ÿäº†å˜é‡<code>v1</code>æ‹¥æœ‰çš„vectorï¼Œ<code>_x2</code>ç§Ÿå€Ÿäº†å˜é‡<code>v2</code>æ‹¥æœ‰çš„vectorã€‚è¿™æ˜¯è¢«å…è®¸çš„ï¼Œå› ä¸º<code>_x1</code>åœ¨<code>v1</code>ä¹‹åå£°æ˜ï¼Œ<code>_x2</code>åœ¨<code>v2</code>ä¹‹åå£°æ˜ï¼Œè¿™äº›å¼•ç”¨æ¯”å®ƒä»¬ç§Ÿå€Ÿå¯¹è±¡å­˜æ´»æ—¶é—´çŸ­ã€‚</p><p>åœ¨ç¬¬å…«è¡Œï¼Œæœ‰ä¸ªç®€å•çš„è¡¨è¾¾å¼<code>_x1</code>ã€‚å› ä¸ºå®ƒæ˜¯è¯­å¥å—çš„æœ€åè¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼çš„å€¼æˆä¸ºè¯­å¥çš„å€¼ï¼Œå› æ­¤è¯¥å€¼è¢«ç”¨æ¥åˆå§‹åŒ–å˜é‡<code>result</code>ã€‚è¯¥å€¼æ˜¯ä¸€ä¸ªæŒ‡å‘<code>v1</code>çš„å¼•ç”¨ï¼Œ<code>result</code>å˜é‡ç§Ÿå€Ÿäº†vectorã€‚è¿™æ˜¯è¢«å…è®¸çš„ï¼Œå› ä¸º<code>result</code>çš„å£°æ˜åœ¨<code>v1</code>ä¹‹åï¼Œå› æ­¤å¯ä»¥ç§Ÿå€Ÿ<code>v1</code>æ‹¥æœ‰çš„å¯¹è±¡ã€‚</p><p>ç°åœ¨ï¼Œå°å°çš„æ”¹åŠ¨ï¼šåœ¨ç¬¬å…«è¡Œæ›¿æ¢&quot;1&quot;å’Œ&quot;2&quot;ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="number">11u8</span>, <span class="number">22</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span>;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">v2</span> = <span class="built_in">vec!</span>[<span class="number">33u8</span>];</span><br><span class="line">    result = &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">_x1</span>: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt; = &amp;v1;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">_x2</span>: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt; = &amp;v2;</span><br><span class="line">        _x2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, *result);</span><br></pre></td></tr></table></figure><p>è¿™ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼šâ€œ<code>v2</code> does not live long enoughâ€ã€‚å› ä¸º<code>result</code>çš„å€¼æ¥è‡ªäº<code>_x2</code>è¡¨è¾¾å¼ï¼Œç”±äº<code>_x2</code>ç§Ÿå€Ÿäº†<code>v2</code>çš„å¯¹è±¡ï¼Œæ‰€ä»¥<code>result</code>ç§Ÿå€Ÿäº†vectorã€‚å› ä¸º<code>result</code>åœ¨<code>v2</code>ä¹‹å‰å£°æ˜ï¼Œå› æ­¤ä¸èƒ½ç§Ÿå€Ÿå®ƒçš„å¯¹è±¡ã€‚</p><p>Rustç¼–è¯‘å™¨è‡´åŠ›äºè¿™ç§æ¨ç†çš„éƒ¨åˆ†ç§°ä½œâ€œç§Ÿå€Ÿæ£€æŸ¥ï¼Œ<strong>borrow checker</strong>â€ã€‚</p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°è¯•è½¬æ¢å‰é¢ä¸¤ä¸ªä»£ç ï¼Œå°†å†…éƒ¨è¯­å¥è½¬æ¢ä¸ºä¸€ä¸ªå‡½æ•°ã€‚ç¬¬ä¸€ä¸ªå˜ä¸ºï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="number">118</span>, <span class="number">22</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span>;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">v2</span> = <span class="built_in">vec!</span>[<span class="number">33u8</span>];</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">func</span>(_x1: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;, _x2: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;) <span class="punctuation">-&gt;</span> &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt; &#123;</span><br><span class="line">        _x1</span><br><span class="line">    &#125;</span><br><span class="line">    result = <span class="title function_ invoke__">func</span>(&amp;v1, &amp;v2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, *result);</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ªå˜ä¸ºï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="number">11u8</span>, <span class="number">22</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span>;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">v2</span> = <span class="built_in">vec!</span>[<span class="number">33u8</span>];</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">func</span>(_x1: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;, _x2: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;) <span class="punctuation">-&gt;</span> &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt; &#123;</span><br><span class="line">        _x2</span><br><span class="line">    &#125;</span><br><span class="line">    result = <span class="title function_ invoke__">func</span>(&amp;v1, &amp;v2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, *result);</span><br></pre></td></tr></table></figure><p>ä¸¤è€…å”¯ä¸€ä¸åŒçš„æ˜¯<code>func</code>å‡½æ•°ä½“ã€‚</p><p>æ ¹æ®ä¹‹å‰çš„è§„åˆ™ï¼Œç¬¬ä¸€ä¸ªç¨‹åºçœ‹èµ·æ¥æ˜¯åˆæ³•çš„ï¼Œç¬¬äºŒä¸ªä¸åˆæ³•ã€‚ä¸¤ä¸ª<code>func</code>å‡½æ•°æœ¬èº«æ˜¯åˆæ³•çš„ã€‚ä½†borrow checkerä¼šæŸ¥æ‰¾å®ƒä»¬ä¸å…¼å®¹çš„å…·ä½“ç”¨æ³•ã€‚</p><p>æ³›å‹å‡½æ•°çš„å‚æ•°è¾¹ç•Œä½¿ç”¨traitsï¼Œå‡½æ•°è°ƒç”¨æ˜¯å¦æœ‰æ•ˆï¼Œä¾æ®è¯¥å‡½æ•°ä½“çš„å†…å®¹ï¼Œè¿™ä¸æ˜¯å¥½äº‹ã€‚ä¸»è¦æ˜¯å› ä¸ºä¸èƒ½ä»é”™è¯¯ä¿¡æ¯ç†è§£å‡ºé”™çš„åŸå› ï¼Œé™¤éä½ æ¸…æ¥šå‡½æ•°ä½“çš„å†…éƒ¨ä»£ç ã€‚å¦ä¸€ä¸ªåŸå› æ˜¯ï¼Œå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå¦‚æœè¯¥å‡½æ•°ä½“å†…ä»»æ„è°ƒç”¨äº†å…¶å®ƒå‡½æ•°ï¼Œç¡®ä¿<code>main</code>å‡½æ•°æ˜¯åˆæ³•çš„ï¼Œborrow checkeréœ€è¦åˆ†æç¨‹åºçš„æ‰€æœ‰å‡½æ•°ã€‚è¿™ç§æ•´ä¸ªç¨‹åºçš„åˆ†æå¸¦æ¥äº†è¿‡åº¦çš„å¤æ‚ã€‚</p><p>å› æ­¤ï¼Œç±»ä¼¼äºæ³›å‹å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¼•ç”¨çš„å‡½æ•°ï¼Œå¿…é¡»åœ¨å‡½æ•°ç­¾åé˜ˆå°†borrow-checkingéš”ç¦»ï¼å‡½æ•°çš„borrow-checkï¼Œä»…è€ƒè™‘ç­¾åï¼Œå‡½æ•°ä½“ï¼Œå‡½æ•°è°ƒç”¨çš„ç­¾åï¼Œè€Œä¸éœ€è¦è€ƒè™‘å‡½æ•°ä½“è°ƒç”¨å…¶å®ƒå‡½æ•°ã€‚</p><p>å› æ­¤ï¼Œå‰é¢çš„ä¸¤ä¸ªç¨‹åºéƒ½ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ï¼šâ€œmissing lifetime specifierâ€ã€‚â€œå£°æ˜å‘¨æœŸæŒ‡ç¤ºå™¨ï¼Œ<strong>lifetime specifier</strong>â€æ˜¯ä¸€ä¸ªå‡½æ•°ç­¾åçš„ä¸€ä¸ªè£…é¥°ï¼Œå®ƒå…è®¸borrow checkerå¯¹å‡½æ•°ä½“å’Œå‡½æ•°è°ƒç”¨åˆ†ç¦»æ£€æŸ¥ã€‚</p><p>ä¸ç®¡æ€æ ·ï¼Œå‡½æ•°æˆ–è¯­å¥ä½“çš„ç§Ÿå€Ÿè¡Œä¸ºåº”è¯¥æ˜¯â€œåˆ°æ­¤ä¸ºæ­¢â€ï¼Œä¸åº”è¯¥å†å°†å®ƒè¿›ä¸€æ­¥ä¼ é€’ç»™å…¶å®ƒå‡½æ•°æˆ–è¡¨è¾¾å¼ï¼Œä»¥é¿å…å¸¦æ¥ä¸å¿…è¦çš„å‰¯ä½œç”¨ï¼ŒæœªçŸ¥çš„é”™è¯¯ä¿¡æ¯ã€‚</p><h2 id="Usage-and-Meaning-of-Lifetime-Specifiers"><a class="header-anchor" href="#Usage-and-Meaning-of-Lifetime-Specifiers">Â¶</a>Usage and Meaning of Lifetime Specifiers</h2><p>è®¨è®ºåˆ°å‡½æ•°çš„è°ƒç”¨å’Œç”Ÿå‘½å‘¨æœŸï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•ä¾‹å­ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">func</span>(v1: <span class="type">Vec</span>&lt;<span class="type">u32</span>&gt;, v2: &amp;<span class="type">Vec</span>&lt;<span class="type">bool</span>&gt;) &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="string">&quot;Hello&quot;</span>.<span class="title function_ invoke__">to_string</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä»»ä½•Rustå‡½æ•°å†…ï¼Œä»…å¯ä»¥å‚è€ƒçš„æœ‰ï¼š</p><ul><li>å‡½æ•°å‚æ•°æ‹¥æœ‰çš„å¯¹è±¡(<code>v1</code>æ‹¥æœ‰çš„vector)ï¼›</li><li>æœ¬åœ°å˜é‡æ‹¥æœ‰çš„å¯¹è±¡(<code>s</code>æ‹¥æœ‰çš„åŠ¨æ€å­—ç¬¦ä¸²)ï¼›</li><li>ä¸´æ—¶å¯¹è±¡(åŠ¨æ€å­—ç¬¦ä¸²è¡¨è¾¾å¼<code>&quot;Hello&quot;.to_string()</code>)ï¼›</li><li>é™æ€å¯¹è±¡(å­—ç¬¦ä¸²å­—é¢é‡<code>&quot;Hello&quot;</code>)ï¼›</li><li>å‡½æ•°å‚æ•°ç§Ÿå€Ÿçš„å¯¹è±¡ï¼Œç”±é¢„å…ˆå­˜åœ¨çš„æŸäº›å˜é‡æ‹¥æœ‰ï¼Œå‘ç”Ÿåœ¨å½“å‰å‡½æ•°è°ƒç”¨å¤„(<code>v2</code>ç§Ÿå€Ÿè¿‡æ¥çš„å¯¹è±¡)ã€‚</li></ul><p>å½“ä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨çš„å¯¹è±¡ä¸èƒ½æ¨æ–­æ˜¯ç”±å‡½æ•°å‚æ•°æ‹¥æœ‰ï¼Œè¿˜æ˜¯ç”±æœ¬åœ°å˜é‡æ‹¥æœ‰ï¼Œè¿˜æ˜¯ç”±ä¸´æ—¶å¯¹è±¡æ‹¥æœ‰ï¼Œå› ä¸ºå½“å‡½æ•°returnæ—¶ï¼Œæœ¬åœ°å˜é‡ï¼Œå‡½æ•°å‚æ•°ï¼Œä¸´æ—¶å˜é‡éƒ½ä¼šè¢«é”€æ¯ã€‚å› æ­¤ï¼Œè¿™ä¸ªå¼•ç”¨å°†è¢«æ‚¬æŒ‚ã€‚</p><p>ç›¸åï¼Œè¿™ä¸ªå¼•ç”¨å´å¯ä»¥æ¨æ–­å¾—çŸ¥æ˜¯é™æ€å¯¹è±¡ï¼Œæˆ–æ˜¯å‡½æ•°å‚æ•°ç§Ÿå€Ÿçš„å¯¹è±¡ã€‚</p><p>ä¸‹é¢æ˜¯è¿™ä¸¤ç§æƒ…å†µçš„ä¸­ç¬¬ä¸€ç§æƒ…å†µçš„ç¤ºä¾‹(å°½ç®¡ä»£ç åœ¨Rustä¸è¢«å…è®¸)ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">func</span>() <span class="punctuation">-&gt;</span> &amp;<span class="type">str</span> &#123;</span><br><span class="line">    <span class="string">&quot;Hello&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">func</span>(v: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;) <span class="punctuation">-&gt;</span> &amp;<span class="type">u8</span> &#123;</span><br><span class="line">    &amp;v[<span class="number">3</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>borrow checkerä»…å¯¹è¿”å›å€¼çš„å¼•ç”¨æ„Ÿå…´è¶£ï¼Œè¯¥å¼•ç”¨æœ‰ä¸¤ç§ï¼šæŒ‡å‘é™æ€å¯¹è±¡ï¼Œæˆ–æ¥æ”¶çš„å‚æ•°çš„ç§Ÿå€Ÿå¯¹è±¡ã€‚borrow checkeréœ€è¦çŸ¥é“å“ªäº›å¼•ç”¨æ˜¯æŒ‡å‘é™æ€å¯¹è±¡ï¼Œå“ªäº›æ˜¯ç§Ÿå€Ÿçš„å‚æ•°å¯¹è±¡ï¼›å¦‚æœæœ‰å‡ ä¸ªå‚æ•°ç§Ÿå€Ÿå¯¹è±¡ï¼Œéœ€è¦çŸ¥é“å®ƒä»¬ä¸­å“ªäº›ç§Ÿå€Ÿäº†éé™æ€è¿”å›çš„å¼•ç”¨ã€‚</p><p>ä¸å¸¦lifetime speciferçš„å‡½æ•°ç­¾åæ˜¯ä¸åˆæ³•çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">f</span>(flag: <span class="type">bool</span>, b: &amp;<span class="type">i32</span>, c: (<span class="type">char</span>, &amp;<span class="type">i32</span>)) <span class="punctuation">-&gt;</span> (&amp;<span class="type">i32</span>, <span class="type">f64</span>, &amp;<span class="type">i32</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡½æ•°ç­¾åå‚æ•°ä¸­æœ‰ä¸¤ä¸ªå¼•ç”¨ï¼Œè¿”å›å€¼ç±»å‹ä¹ŸåŒ…å«æœ‰ä¸¤ä¸ªå¼•ç”¨ã€‚åä¸¤ä¸ªå¼•ç”¨å¯èƒ½æŒ‡å‘é™æ€å¯¹è±¡ï¼Œæˆ–è€…å‚æ•°<code>b</code>çš„ç§Ÿå€Ÿå¯¹è±¡ï¼Œæˆ–è€…å‚æ•°<code>c</code>çš„ç¬¬äºŒä¸ªå­—æ®µçš„ç§Ÿå€Ÿå¯¹è±¡ã€‚</p><p>ä¸‹é¢è¡¨è¾¾å¼æŒ‡å®šäº†ä¸€ç§å¯èƒ½çš„æƒ…å†µï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(flag: <span class="type">bool</span>, b: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>, c: (<span class="type">char</span>, &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>)) <span class="punctuation">-&gt;</span> (&amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>, <span class="type">f64</span>, &amp;<span class="symbol">&#x27;static</span> <span class="type">i32</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å’Œæ³›å‹å‡½æ•°ç”¨æ³•ä¸€æ ·ï¼Œåœ¨å‡½æ•°ååé¢ï¼Œæ·»åŠ ä¸€ä¸ªå‚æ•°åˆ—è¡¨ã€‚å¦‚å…¶è¯´æ˜¯ä¸€ä¸ªç±»å‹å‚æ•°ï¼Œå®é™…ä¸Šå®ƒæ˜¯ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨(lifetime specifier)ã€‚</p><p>ä»å¥<code>&lt;'a&gt;</code>æ˜¯ä¸€ä¸ªå£°æ˜ã€‚å®ƒè¡¨ç¤ºï¼š<code>&lt;&lt;In this function signature, a lifetime specifier is used; its name is &quot;a&quot;&gt;&gt;</code>ã€‚åå­—&quot;a&quot;æ˜¯ä»»æ„çš„ã€‚å®ƒç®€å•è¡¨ç¤ºæ‰€æœ‰å‡ºç°çš„æƒ…å†µï¼Œâ€œåŒ¹é…â€è¿™ç§å‡ºç°ã€‚å®ƒç±»ä¼¼æ³›å‹å‡½æ•°çš„ç±»å‹å‚æ•°ï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨å‰ç¼€ä½¿ç”¨å•å¼•å·ï¼Œå¦å¤–ï¼ŒæŒ‰ç…§çº¦å®šï¼Œæ³›å‹å‚æ•°é¦–å­—æ¯ä½¿ç”¨å¤§å†™ï¼Œç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨ä½¿ç”¨ä¸€ä¸ªå°å†™å­—æ¯ï¼Œå¦‚aï¼Œbï¼Œcï¼Œâ€¦ã€‚</p><p>ç„¶åï¼Œå‡½æ•°ç­¾ååŒ…å«å…¶å®ƒä¸‰ä¸ª<code>'a</code>ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨çš„å‡ºç°ï¼Œ<code>b</code>å‚æ•°çš„ç±»å‹ã€<code>c</code>å‚æ•°çš„ç¬¬äºŒå­—æ®µçš„ç±»å‹ã€è¿”å›å€¼çš„ç¬¬ä¸€ä¸ªå­—æ®µçš„ç±»å‹ã€‚ç›¸åï¼Œè¿”å›å€¼çš„ç¬¬ä¸‰ä¸ªå­—æ®µç±»å‹ç”¨äº†<code>static</code>ç”Ÿå‘½å‘¨æœŸæ ‡è¯†ã€‚</p><p>è¯¥<code>a</code>ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨çš„ç”¨æ³•è¡¨ç¤ºï¼šâ€œè¿”å›å€¼çš„ç¬¬ä¸€ä¸ªå­—æ®µç§Ÿå€Ÿå·²å­˜åœ¨çš„<code>b</code>å‚æ•°å’Œ<code>c</code>å‚æ•°ç¬¬äºŒä¸ªå­—æ®µçš„å¯¹è±¡ï¼Œå› æ­¤å®ƒå­˜æ´»æ¯”è¯¥å¯¹è±¡è¦çŸ­â€ã€‚</p><p>ç›¸åï¼Œ<code>static</code>ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨çš„ç”¨æ³•è¡¨ç¤ºï¼šâ€œè¿”å›å€¼çš„ç¬¬ä¸‰ä¸ªå­—æ®µæŒ‡å‘ä¸€ä¸ªé™æ€å¯¹è±¡ï¼Œå› æ­¤å®ƒå¯ä»¥å­˜æ´»åœ¨ä»»ä½•æ—¶é—´ï¼Œç”šè‡³å’Œæ•´ä¸ªè¿›ç¨‹ä¸€æ ·é•¿â€ã€‚</p><p>å½“ç„¶ï¼Œè¿™ä»…æ˜¯ä¸€ç§å¯èƒ½ç”Ÿå‘½å‘¨æœŸæ³¨è§£ï¼Œä¸‹é¢æ˜¯å¦ä¸€ç§ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(flag: <span class="type">bool</span>, b: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>, c: (<span class="type">char</span>, &amp;<span class="type">i32</span>)) <span class="punctuation">-&gt;</span> (&amp;<span class="symbol">&#x27;static</span> <span class="type">i32</span>, <span class="type">f64</span>, &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>c</code>å‚æ•°ä¸å¸¦æ³¨è§£ï¼Œå¼•ç”¨çš„å¯¹è±¡ä¸ç§Ÿå€Ÿç»™è¿”å›å€¼çš„å¼•ç”¨ï¼Œ</p><p>è¿˜æœ‰å¦ä¸€ç§å¯èƒ½ç”Ÿå‘½å‘¨æœŸæ³¨è§£ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Tr</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>, <span class="symbol">&#x27;b</span>, T1, T2&gt;(flag: <span class="type">bool</span>, b: &amp;<span class="symbol">&#x27;a</span> T1, c: (<span class="type">char</span>, &amp;<span class="symbol">&#x27;b</span> <span class="type">i32</span>)) <span class="punctuation">-&gt;</span> (&amp;<span class="symbol">&#x27;b</span> <span class="type">i32</span>, <span class="type">f64</span>, &amp;<span class="symbol">&#x27;a</span> T2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³›å‹å‡½æ•°æœ‰ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨å’Œä¸¤ä¸ªæ³›å‹å‚æ•°ã€‚ç”Ÿå‘½å‘¨æœŸå‚æ•°<code>a</code>æŒ‡å®šäº†è¿”å›å€¼çš„ç¬¬ä¸‰ä¸ªå­—æ®µç§Ÿå€Ÿäº†å‚æ•°<code>b</code>çš„å¯¹è±¡ï¼Œä»¥åŠç”Ÿå‘½å‘¨æœŸå‚æ•°<code>b</code>æŒ‡å®šäº†è¿”å›å€¼çš„ç¬¬ä¸€ä¸ªå­—æ®µç§Ÿå€Ÿäº†å‚æ•°<code>c</code>çš„ç¬¬äºŒä¸ªå­—æ®µçš„å¯¹è±¡ã€‚å¦å¤–ï¼Œå‡½æ•°æœ‰ä¸¤ä¸ªç±»å‹å‚æ•°<code>T1</code>å’Œ<code>T2</code>ï¼Œä¸å¸¦traitè¾¹ç•Œã€‚</p><h2 id="Checking-the-Validity-of-Lifetime-Specifiers"><a class="header-anchor" href="#Checking-the-Validity-of-Lifetime-Specifiers">Â¶</a>Checking the Validity of Lifetime Specifiers</h2><p>ç¼–è¯‘ä»»ä½•å‡½æ•°æ—¶ï¼Œborrow checkeræœ‰ä¸¤ä¸ªå·¥ä½œï¼š</p><ul><li>é€šè¿‡å‡½æ•°è‡ªèº«å’Œå‡½æ•°ä½“ï¼Œæ£€æŸ¥å‡½æ•°ç­¾åæ˜¯å¦æœ‰æ•ˆã€‚</li><li>æ£€æŸ¥å‡½æ•°ä½“æ˜¯å¦åˆæ³•ï¼Œç»Ÿè®¡è¯¥å‡½æ•°è¢«è°ƒç”¨æ¬¡æ•°ã€‚</li></ul><p>æœ¬å°èŠ‚ï¼Œå…ˆçœ‹ç¬¬ä¸€ç§æƒ…å†µã€‚</p><p>å¦‚æœå‡½æ•°è¿”å›å€¼æ²¡æœ‰å¼•ç”¨ç±»å‹ï¼Œborrow checkerä¸åšä»»ä½•å¤„ç†ã€‚</p><p>å¦åˆ™ï¼Œæ¯ä¸ªè¿”å›å€¼å¼•ç”¨ï¼Œå¿…é¡»æ£€æŸ¥æ˜¯å¦æœ‰æ­£ç¡®çš„ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨(lifetime specifier)ã€‚</p><p>è¿™æ ·ä¸€ä¸ªæŒ‡ç¤ºå™¨(specifier)å¯ä»¥æ˜¯â€œ<code>'static</code>â€ã€‚è¿™ç§æƒ…å†µï¼Œå¼•ç”¨å¿…é¡»æŒ‡å‘ä¸€ä¸ªé™æ€å¯¹è±¡ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> FOUR: <span class="type">u8</span> = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>() <span class="punctuation">-&gt;</span> (<span class="type">bool</span>, &amp;<span class="symbol">&#x27;static</span> <span class="type">u8</span>, &amp;<span class="symbol">&#x27;static</span> <span class="type">str</span>, &amp;<span class="symbol">&#x27;static</span> <span class="type">f64</span>) &#123;</span><br><span class="line">    (<span class="literal">true</span>, &amp;FOUR, <span class="string">&quot;Hello&quot;</span>, &amp;<span class="number">3.14</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>, <span class="title function_ invoke__">f</span>().<span class="number">0</span>, *<span class="title function_ invoke__">f</span>().<span class="number">1</span>, <span class="title function_ invoke__">f</span>().<span class="number">2</span>, *<span class="title function_ invoke__">f</span>().<span class="number">3</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœå°†ä¼šæ‰“å°ï¼šâ€œ<code>true 4 Hello 3.14</code>â€ã€‚è¯¥ç¨‹åºæ˜¯åˆæ³•çš„ï¼Œå› ä¸ºä¸‰ä¸ªè¿”å›å€¼çš„å¼•ç”¨éƒ½æ˜¯é™æ€å¯¹è±¡ã€‚</p><p>ç›¸åï¼Œä¸‹é¢</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>(n: &amp;<span class="type">u8</span>) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;static</span> <span class="type">u8</span> &#123;</span><br><span class="line">n</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, *<span class="title function_ invoke__">f</span>(&amp;<span class="number">12</span>));</span><br></pre></td></tr></table></figure><p>å°†ä¼šç”Ÿæˆç¼–è¯‘é”™è¯¯ï¼šâ€œlifetime of reference outlives lifetime of borrowed contentâ€¦â€ã€‚è¿™æ˜¯ä¸åˆæ³•çš„ï¼Œè¿”å›å€¼ä¸æ˜¯ä¸€ä¸ªæŒ‡å‘é™æ€å¯¹è±¡çš„å¼•ç”¨ï¼›å®ƒå®é™…ä¸Šæ˜¯æ¥æ”¶å‚æ•°çš„å€¼ï¼Œè¯¥è¿”å›å€¼ç§Ÿå€Ÿäº†å‡½æ•°å‚æ•°å¼•ç”¨å¯¹è±¡çš„åŒä¸€ä¸ªå¯¹è±¡ã€‚</p><p>ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨å¯ä»¥å®šä¹‰æˆåˆ—è¡¨çš„å½¢å¼ï¼Œå¦‚ä¸‹</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>, <span class="symbol">&#x27;b</span>&gt;(x: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>, y: &amp;<span class="symbol">&#x27;b</span> <span class="type">i32</span>) <span class="punctuation">-&gt;</span> (&amp;<span class="symbol">&#x27;b</span> <span class="type">i32</span>, <span class="type">bool</span>, &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>) &#123;</span><br><span class="line">(y, <span class="literal">true</span>, x)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">i</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">j</span> = <span class="number">13</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">r</span> = <span class="title function_ invoke__">f</span>(&amp;i, &amp;j);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>, *r.<span class="number">0</span>, r.<span class="number">1</span>, *r.<span class="number">2</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœå°†æ‰“å°ï¼šâ€œ13 true 12â€ã€‚è¿™æ˜¯æœ‰æ•ˆçš„ï¼Œå› ä¸ºtupleä¸­è¿”å›çš„ç¬¬ä¸€ä¸ªå­—æ®µå¼•ç”¨çš„æ—¶<code>y</code>è¡¨è¾¾å¼çš„å€¼ï¼Œä»¥<code>y</code>å‚æ•°å’Œè¿”å›å€¼çš„ç¬¬ä¸€ä¸ªå­—æ®µæœ‰åŒæ ·çš„ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨(lifetime specifier)ï¼›å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨éƒ½æ˜¯<code>'b</code>ã€‚è¿”å›å€¼çš„ç¬¬ä¸‰ä¸ªå­—æ®µå’Œå‚æ•°<code>x</code>ä¸€æ ·æœ‰åŒä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨<code>'a</code>ã€‚</p><p>ç›¸åï¼Œä¸‹é¢</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>, <span class="symbol">&#x27;b</span>&gt;(x: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>, y: &amp;<span class="symbol">&#x27;b</span> <span class="type">i32</span>) <span class="punctuation">-&gt;</span> (&amp;<span class="symbol">&#x27;b</span> <span class="type">i32</span>, <span class="type">bool</span>, &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>) &#123;</span><br><span class="line">(x, <span class="literal">true</span>, y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">i</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">j</span> = <span class="number">13</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">r</span> = <span class="title function_ invoke__">f</span>(&amp;i, &amp;j);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>, *r.<span class="number">0</span>, r.<span class="number">1</span>, *r.<span class="number">2</span>);</span><br></pre></td></tr></table></figure><p>ä¼šäº§ç”Ÿä¸¤ä¸ªç¼–è¯‘é”™è¯¯ï¼Œä¸¤ä¸ªé”™è¯¯éƒ½æ˜¯ï¼šâ€œlifetime mismatchâ€ã€‚å®é™…ä¸Šï¼Œè¿”å›å€¼çš„ç¬¬ä¸€ä¸ªå­—æ®µå’Œç¬¬ä¸‰ä¸ªå­—æ®µéƒ½æœ‰ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨ï¼Œä½†ä¸æ˜¯å¯¹åº”å®ƒä»¬å‡½æ•°ç­¾åã€‚</p><p>æ³¨æ„åˆ°ï¼Œå¤šä¸ªè¿”å›å­—æ®µå¯èƒ½ä»…ç”¨äº†ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(x: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>, y: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>) <span class="punctuation">-&gt;</span> (&amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>, <span class="type">bool</span>, &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>) &#123;</span><br><span class="line">(x, <span class="literal">true</span>, y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">i</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">j</span> = <span class="number">13</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">r</span> = <span class="title function_ invoke__">f</span>(&amp;i, &amp;j);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>, *r.<span class="number">0</span>, r.<span class="number">1</span>, *r.<span class="number">2</span>);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œ<code>'b</code>è¢«æ›¿æ¢ä¸º<code>'a</code>ã€‚ä½†å‘³é“å®Œå…¨ä¸ä¸€æ ·ã€‚</p><p>åŸæ¥çš„ç‰ˆæœ¬æ˜¯ï¼Œå‚æ•°åˆ—è¡¨æŒ‡ç¤ºäº†ä¼šæœ‰ä¸¤ä¸ªç‹¬ç«‹çš„ç”Ÿå‘½å‘¨æœŸï¼›è¿™ä¸ªç‰ˆæœ¬ï¼Œå®ƒä»¬å…±äº«ç”Ÿå‘½å‘¨æœŸã€‚</p><p>è¿™ä¸ªæ”¹åŠ¨å¯¹äºç§Ÿå€Ÿæ£€æŸ¥å™¨(borrow checker)æ¥è¯´ä¸ç®€å•ã€‚è®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªæ›´å¤æ‚çš„å‡½æ•°ä½“ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(n: <span class="type">i32</span>, x: &amp;<span class="symbol">&#x27;a</span> <span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;, y: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;a</span> <span class="type">u8</span> &#123;</span><br><span class="line"><span class="keyword">if</span> n == <span class="number">0</span> &#123; <span class="keyword">return</span> &amp;x[<span class="number">0</span>]; &#125;</span><br><span class="line"><span class="keyword">if</span> n &lt; <span class="number">0</span> &#123; &amp;x[<span class="number">1</span>] &#125; <span class="keyword">else</span> &#123; &amp;x[<span class="number">2</span>] &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥å‡½æ•°æ˜¯æœ‰æ•ˆçš„ã€‚å‡½æ•°ä½“æœ‰ä¸‰ä¸ªå¯èƒ½çš„è¡¨è¾¾å¼è¿”å›å€¼ï¼Œæ‰€æœ‰è¡¨è¾¾å¼éƒ½ç§Ÿå€Ÿäº†å‚æ•°<code>x</code>çš„å¯¹è±¡ã€‚è¿”å›å€¼æœ‰å’Œå‚æ•°ç­‰åŒçš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€ä»¥æ»¡è¶³borrow checkerã€‚</p><p>ç›¸åï¼Œä¸‹é¢</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(n: <span class="type">i32</span>, x: &amp;<span class="symbol">&#x27;a</span> <span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;, y: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;a</span> <span class="type">u8</span> &#123;</span><br><span class="line"><span class="keyword">if</span> n == <span class="number">0</span> &#123; <span class="keyword">return</span> &amp;x[<span class="number">0</span>]; &#125;</span><br><span class="line"><span class="keyword">if</span> n &lt; <span class="number">0</span> &#123; &amp;x[<span class="number">1</span>] &#125; <span class="keyword">else</span> &#123; &amp;y[<span class="number">2</span>] &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªå¯èƒ½çš„è¿”å›å€¼ï¼Œä¼šæ˜¯è¡¨è¾¾å¼<code>&amp;y[2]</code>ï¼Œè¯¥å¯¹è±¡ç§Ÿå€Ÿè‡ª<code>y</code>ï¼Œè¿™ä¸ªå‚æ•°æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨ï¼Œæ‰€ä»¥è¯¥ä»£ç æ˜¯ä¸åˆæ³•çš„ã€‚</p><p>å³ä½¿ä¸‹é¢ä»£ç ä¹Ÿæ˜¯ä¸åˆæ³•çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(x: &amp;<span class="symbol">&#x27;a</span> <span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;, y: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;a</span> <span class="type">u8</span> &#123;</span><br><span class="line"><span class="keyword">if</span> <span class="literal">true</span> &#123; &amp;x[<span class="number">0</span>] &#125; <span class="keyword">else</span> &#123; &amp;y[<span class="number">0</span>] &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“å¤„ç†æ•°æ®æµåˆ†ææ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ¢æµ‹åˆ°<code>y</code>ä»ä¸è¢«è¿”å›å€¼ç§Ÿå€Ÿï¼›ä½†borrow checkeråšæŒå› ä¸º<code>&amp;y[0]</code>æ˜¯ä¸€ä¸ªå¯èƒ½è¿”å›å€¼ï¼Œæ‰€ä»¥è¯¥æ®µç¨‹åºè¢«è®¤ä¸ºæ˜¯æ— æ•ˆçš„ã€‚</p><h2 id="Using-the-Lifetime-Specifiers-of-Invoked-Functions"><a class="header-anchor" href="#Using-the-Lifetime-Specifiers-of-Invoked-Functions">Â¶</a>Using the Lifetime Specifiers of Invoked Functions</h2><p>ä¸Šä¸€ç« èŠ‚çš„å¼€å§‹éƒ¨åˆ†è¯´è¿‡ï¼Œborrow checkeræœ‰ä¸¤é¡¹å·¥ä½œï¼Œç¼–è¯‘å‡½æ•°æ—¶è¿›è¡Œæ£€æŸ¥å‡½æ•°ä½“æ˜¯å¦æœ‰æ•ˆï¼Œç»Ÿè®¡å‡½æ•°ä½“å†…ä»»æ„è¢«è°ƒç”¨å‡½æ•°çš„ç­¾åã€‚</p><p>æ²¿ç”¨ä¸Šä¸€èŠ‚çš„ä»£ç ç¤ºä¾‹ã€‚æ ¹æ®ç§Ÿå€Ÿçš„è§„åˆ™ï¼Œâ€œmissing lifetime specifierâ€è¡¨ç¤ºç¼ºå°‘lifetime specifierï¼Œæˆ‘ä»¬å°†åŸæ¥çš„åŠ ä¸Šç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºå™¨ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="number">11u8</span>, <span class="number">22</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span>;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">v2</span> = <span class="built_in">vec!</span>[<span class="number">33u8</span>];</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">func</span>&lt;<span class="symbol">&#x27;a</span>&gt;(_x1: &amp;<span class="symbol">&#x27;a</span> <span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;, _x2: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;a</span> <span class="type">Vec</span>&lt;<span class="type">u8</span>&gt; &#123;</span><br><span class="line">_x1</span><br><span class="line">&#125;</span><br><span class="line">result = <span class="title function_ invoke__">func</span>(&amp;v1, &amp;v2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, *result);</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ªä¾‹å­æ”¹ä¸ºï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="number">11u8</span>, <span class="number">22</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span>;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">v2</span> = <span class="built_in">vec!</span>[<span class="number">33u8</span>];</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">func</span>&lt;<span class="symbol">&#x27;a</span>&gt;(_x1: &amp;<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;, _x2: &amp;<span class="symbol">&#x27;a</span> <span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;a</span> <span class="type">Vec</span>&lt;<span class="type">u8</span>&gt; &#123;</span><br><span class="line">_x2</span><br><span class="line">&#125;</span><br><span class="line">result = <span class="title function_ invoke__">func</span>(&amp;v1, &amp;v2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, *result);</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªç¨‹åºæ˜¯æœ‰æ•ˆçš„ï¼Œç»“æœä¼šæ‰“å°ï¼šâ€œ<code>[11, 22]</code>â€ï¼Œç¬¬äºŒä¸ªä¼šæœ‰ç¼–è¯‘é”™è¯¯ï¼šâ€œ<code>v2</code> does not live long enoughâ€ã€‚</p><p>ä¸ºä»€ä¹ˆ<code>func</code>è¿™äº›å†™æ³•ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼Œå‰é¢å°èŠ‚å·²ç»è§£æè¿‡äº†ã€‚</p><p>è®©æˆ‘ä»¬çœ‹çœ‹<code>main</code>å‡½æ•°åœ¨ç¬¬ä¸€ä¸ªç¨‹åºå¦‚ä½•å·¥ä½œçš„ã€‚å½“<code>func</code>è¢«è°ƒç”¨ï¼Œå­˜æ´»<code>v1</code>ã€<code>result</code>å’Œ<code>v2</code>ï¼ŒæŒ‰é¡ºåºå£°æ˜ï¼Œä»¥åŠ<code>v1</code>å’Œ<code>v2</code>æ—©å·²è¢«åˆå§‹åŒ–ã€‚<code>func</code>çš„ç­¾åè¯´ç»“æœå€¼å’Œç¬¬ä¸€ä¸ªå‚æ•°æœ‰ç›¸åŒçš„lifetime specifierï¼Œè¿™æ„å‘³ç€<code>result</code>çš„å€¼ä¸ä¼šå­˜æ´»å¾—æ¯”<code>v1</code>é•¿ã€‚ä»¥åŠï¼Œ<code>result</code>åœ¨<code>v1</code>ä¹‹åå£°æ˜ï¼Œå› æ­¤å®ƒä¼šå…ˆäº<code>v1</code>é”€æ¯ã€‚</p><p>å†çœ‹çœ‹ä¸ºä»€ä¹ˆç¬¬äºŒæ®µç¨‹åºçš„<code>main</code>å‡½æ•°æ˜¯ä¸åˆæ³•çš„ã€‚è¿™é‡Œï¼Œ<code>func</code>çš„ç­¾åè¯´è¿”å›å€¼å’Œç¬¬äºŒä¸ªå‚æ•°æœ‰ç›¸åŒçš„lifetime specifierï¼Œæ„å‘³ç€<code>result</code>å­˜æ´»ä¸ä¼šæ¯”<code>v2</code>é•¿ã€‚ä½†<code>result</code>åœ¨<code>v2</code>ä¹‹å‰å£°æ˜ï¼Œè€Œå®ƒä¼šåœ¨å…¶åè¢«é”€æ¯ã€‚</p><p>è¿™æ˜¯å› ä¸ºåªä½¿ç”¨äº†ä¸€ä¸ªlifetime specifiterï¼Œä¸‹é¢æ”¹ä¸ºä¸¤ä¸ªæŒ‡ç¤ºå™¨ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>, <span class="symbol">&#x27;b</span>&gt;(x: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>, y: &amp;<span class="symbol">&#x27;b</span> <span class="type">i32</span>) <span class="punctuation">-&gt;</span> (&amp;<span class="symbol">&#x27;b</span> <span class="type">i32</span>, <span class="type">bool</span>, &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>) &#123;</span><br><span class="line">    (x, <span class="literal">true</span>, y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">i1</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">i2</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">j1</span> = <span class="number">13</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">j2</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">r</span> = <span class="title function_ invoke__">f</span>(&amp;i1, &amp;j1);</span><br><span class="line">i2 = r.<span class="number">0</span>;</span><br><span class="line">j2 = r.<span class="number">2</span>;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>, *i2, r.<span class="number">1</span>, *j2);</span><br></pre></td></tr></table></figure><p>ç»“æœå°†æ‰“å°â€œ12 true 13â€ã€‚</p><p>ç›¸åï¼Œå¦‚æœä»…ç”¨ä¸€ä¸ªlifetime specifieræ—¶ï¼Œæ˜¯ä¸åˆæ³•çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>&lt;<span class="symbol">&#x27;a</span>&gt;(x: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>, y: &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>) <span class="punctuation">-&gt;</span> (&amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>, <span class="type">bool</span>, &amp;<span class="symbol">&#x27;a</span> <span class="type">i32</span>) &#123;</span><br><span class="line">(x, <span class="literal">true</span>, y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">i1</span> = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">i2</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">j1</span> = <span class="number">13</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">j2</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">r</span> = <span class="title function_ invoke__">f</span>(&amp;i1, &amp;j1);</span><br><span class="line">i2 = r.<span class="number">0</span>;</span><br><span class="line">j2 = r.<span class="number">2</span>;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>, *i2, r.<span class="number">1</span>, *j2);</span><br></pre></td></tr></table></figure><p>è¿™ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼šâ€œ<code>j1</code> does not live long enoughâ€ã€‚</p><p>åœ¨è¿™ä¸¤ä¸ªç‰ˆæœ¬ä¸­ï¼Œå‡½æ•°<code>f</code>éƒ½ä¼šæ¥æ”¶<code>i1</code>å’Œ<code>j1</code>çš„å¼•ç”¨ï¼Œé¦–å…ˆè¿”å›å˜é‡<code>r</code>å­˜å‚¨çš„å€¼ï¼Œç„¶ååˆ†åˆ«åœ°åˆå§‹åŒ–<code>i2</code>å’Œ<code>j2</code>å˜é‡ã€‚</p><p>åœ¨ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å’Œè¿”å›å€¼çš„ç¬¬ä¸€ä¸ªå­—æ®µæ‹¥æœ‰ç›¸åŒçš„lifetime specifierï¼Œè¿™å¯¼è‡´äº†<code>i2</code>å¿…é¡»å­˜æ´»å°‘äº<code>i1</code>ã€‚ç±»ä¼¼åœ°ï¼Œ<code>j2</code>å¿…é¡»å­˜æ´»å°‘äº<code>j1</code>ã€‚å®é™…ä¸Šï¼Œå˜é‡çš„å£°æ˜é¡ºåºéœ€è¦æ»¡è¶³è¿™äº›è¦æ±‚ã€‚</p><p>ç¬¬äºŒä¸ªç‰ˆæœ¬ï¼Œç”±äºåªæœ‰ä¸€ä¸ªlifetime specifierï¼Œæ‰€ä»¥<code>i2</code>å’Œ<code>j2</code>å¿…é¡»å­˜æ´»å°‘äº<code>i1</code>å’Œ<code>j1</code>ã€‚å®é™…ä¸Šï¼Œ<code>i2</code>è¢«å£°æ˜åœ¨<code>j1</code>å‰ï¼Œä¸èƒ½æ»¡è¶³è¿™äº›è¦æ±‚ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ¬ç« è¦†ç›–æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;â€œç§Ÿå€Ÿï¼Œborrowingâ€å’Œâ€œç”Ÿå‘½å‘¨æœŸï¼Œlifetimeâ€çš„æ¦‚å¿µ&lt;/li&gt;
&lt;li&gt;å›°æ‰°ç³»ç»Ÿè½¯ä»¶çš„ç§Ÿå€Ÿå…¸å‹é”™è¯¯æ˜¯å“ªäº›&lt;/li&gt;
&lt;li&gt;å¦‚ä½•é€šè¿‡ç§Ÿå€Ÿcheckerï¼ŒRustçš„ä¸¥æ ¼è¯­æ³•æ¥é¿å…è¿™ç§å…¸å‹é”™è¯¯&lt;/li&gt;
&lt;li&gt;å¦‚ä½•é€šè¿‡æ’å…¥è¯­å¥å—æ¥çº¦æŸç§Ÿå€Ÿçš„ä½œç”¨åŸŸ(scope)&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆå‡½æ•°è¿”å›çš„å¼•ç”¨éœ€è¦ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºç¬¦(specifiers)&lt;/li&gt;
&lt;li&gt;å¦‚ä½•ç»™å‡½æ•°ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæŒ‡ç¤ºç¬¦(lifetime specifiers)ï¼Œå®ƒä»¬è¡¨ç¤ºä»€ä¹ˆ&lt;/li&gt;
&lt;li&gt;ç§Ÿå€Ÿcheckerçš„ä»»åŠ¡æ˜¯ä»€ä¹ˆ&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cp%3E%E6%9C%AC%E7%AB%A0%E8%A6%86%E7%9B%96%E6%9C%89%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E2%80%9C%E7%A7%9F%E5%80%9F%EF%BC%8Cborrowing%E2%80%9D%E5%92%8C%E2%80%9C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%8Clifetime%E2%80%9D%E7%9A%84%E6%A6%82%E5%BF%B5%3C/li%3E%3Cli%3E%E5%9B%B0%E6%89%B0%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E7%9A%84%E7%A7%9F%E5%80%9F%E5%85%B8%E5%9E%8B%E9%94%99%E8%AF%AF%E6%98%AF%E5%93%AA%E4%BA%9B%3C/li%3E%3Cli%3E%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87%E7%A7%9F%E5%80%9Fchecker%EF%BC%8CRust%E7%9A%84%E4%B8%A5%E6%A0%BC%E8%AF%AD%E6%B3%95%E6%9D%A5%E9%81%BF%E5%85%8D%E8%BF%99%E7%A7%8D%E5%85%B8%E5%9E%8B%E9%94%99%E8%AF%AF%3C/li%3E%3Cli%3E%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87%E6%8F%92%E5%85%A5%E8%AF%AD%E5%8F%A5%E5%9D%97%E6%9D%A5%E7%BA%A6%E6%9D%9F%E7%A7%9F%E5%80%9F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F(scope)%3C/li%3E%3Cli%3E%E4%B8%BA%E4%BB%80%E4%B9%88%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E7%9A%84%E5%BC%95%E7%94%A8%E9%9C%80%E8%A6%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E7%AC%A6(specifiers)%3C/li%3E%3Cli%3E%E5%A6%82%E4%BD%95%E7%BB%99%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E7%AC%A6(lifetime%20specifiers)%EF%BC%8C%E5%AE%83%E4%BB%AC%E8%A1%A8%E7%A4%BA%E4%BB%80%E4%B9%88%3C/li%3E%3Cli%3E%E7%A7%9F%E5%80%9Fchecker%E7%9A%84%E4%BB%BB%E5%8A%A1%E6%98%AF%E4%BB%80%E4%B9%88%3C/li%3E%3C/ul%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch2%20id=%22Ownership-and-Borrowing%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Ownership-and-Borrowing%22%3E%C2%B6%3C/a%3EOwnership%20and%20Borrowing%3C/h2%3E%3Cp%3E%E4%B8%8A%E4%B8%80%E7%AB%A0%E4%BB%8B%E7%BB%8D%E5%88%B0%EF%BC%8C%E5%BD%93%E5%B0%86%E5%8F%98%E9%87%8F%3Ccode%3Ea%3C/code%3E%E8%B5%8B%E5%80%BC%E7%BB%99%3Ccode%3Eb%3C/code%3E%E6%97%B6%EF%BC%8C%E4%BC%9A%E6%9C%89%E4%B8%A4%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%9A%E5%A6%82%E6%9E%9C%E5%AE%83%E4%BB%AC%E7%B1%BB%E5%9E%8B%E6%98%AF%E5%8F%AF%E6%8B%B7%E8%B4%9D%E7%9A%84(copyable)%EF%BC%8C%E5%AE%83%E5%B0%B1%E5%AE%9E%E7%8E%B0%E4%BA%86%3Ccode%3ECopy%3C/code%3E%E7%89%B9%E8%B4%A8(%E5%BD%93%E7%84%B6%E4%B9%9F%E8%82%AF%E5%AE%9A%E5%AE%9E%E7%8E%B0%E4%BA%86%3Ccode%3EClone%3C/code%3E)%EF%BC%9B%E5%A6%82%E6%9E%9C%E5%AE%83%E4%BB%AC%E7%9A%84%E7%B1%BB%E5%9E%8B%E4%B8%8D%E5%8F%AF%E6%8B%B7%E8%B4%9D(non-copyable)%EF%BC%8C%E5%88%99%E6%B2%A1%E6%9C%89%E5%AE%9E%E7%8E%B0%3Ccode%3ECopy%3C/code%3E(%3Ccode%3EClone%3C/code%3E%E5%8F%AF%E8%83%BD%E5%AE%9E%E7%8E%B0%EF%BC%8C%E4%B9%9F%E5%8F%AF%E8%83%BD%E6%B2%A1%E6%9C%89)%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%8C%E7%94%A8%E5%88%B0%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89(copy%20semantics)%E3%80%82%E6%84%8F%E5%91%B3%E7%9D%80%EF%BC%8C%E5%9C%A8%E8%B5%8B%E5%80%BC%E8%BF%87%E7%A8%8B%E4%B8%AD%EF%BC%8C%E5%BD%93%3Ccode%3Ea%3C/code%3E%E4%BF%9D%E7%95%99%E5%AE%83%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%80%E6%9C%89%E6%9D%83(ownership)%EF%BC%8C%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%A2%AB%E5%88%9B%E5%BB%BA%EF%BC%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E5%80%BC%E7%AD%89%E5%90%8C%E4%BA%8E%3Ccode%3Ea%3C/code%3E%E7%9A%84%E5%80%BC%EF%BC%8C%E4%BB%A5%E5%8F%8A%3Ccode%3Eb%3C/code%3E%E8%8E%B7%E5%BE%97%E8%BF%99%E4%BA%9B%E6%96%B0%E7%9A%84%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%80%E6%9C%89%E6%9D%83%E3%80%82%E5%BD%93%3Ccode%3Ea%3C/code%3E%E5%92%8C%3Ccode%3Eb%3C/code%3E%E7%A6%BB%E5%BC%80%E5%AE%83%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%97%B6%EF%BC%8C%E5%AE%83%E4%BB%AC%E6%8B%A5%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%A2%AB%E9%94%80%E6%AF%81(%E5%8F%88%E5%8F%ABdropped)%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%8C%E7%94%A8%E5%88%B0%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89(move%20semantics)%E3%80%82%E6%84%8F%E5%91%B3%E7%9D%80%EF%BC%8C%E5%9C%A8%E8%B5%8B%E5%80%BC%E8%BF%87%E7%A8%8B%E4%B8%AD%EF%BC%8C%3Ccode%3Ea%3C/code%3E%E5%B0%86%E5%AE%83%E7%9A%84%E6%89%80%E6%9C%89%E6%9D%83%E7%A7%BB%E4%BA%A4%E7%BB%99%E4%BA%86%3Ccode%3Eb%3C/code%3E%EF%BC%8C%E4%B8%8D%E4%BC%9A%E6%9C%89%E6%96%B0%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%EF%BC%8C%3Ccode%3Ea%3C/code%3E%E4%B8%8D%E5%86%8D%E5%8F%AF%E8%AE%BF%E9%97%AE%E3%80%82%E5%BD%93%3Ccode%3Eb%3C/code%3E%E7%A6%BB%E5%BC%80%E5%AE%83%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%97%B6%EF%BC%8C%E5%AE%83%E6%8B%A5%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%A2%AB%E9%94%80%E6%AF%81%E3%80%82%E5%BD%93%3Ccode%3Ea%3C/code%3E%E7%A6%BB%E5%BC%80%E5%AE%83%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%8C%E4%B8%8D%E5%8F%91%E7%94%9F%E4%BB%BB%E4%BD%95%E4%BA%8B%E6%83%85%E3%80%82%3C/p%3E%3Cp%3E%E6%89%80%E6%9C%89%E8%BF%99%E4%BA%9B%E4%BF%9D%E8%AF%81%E4%BA%86%E5%90%88%E9%80%82%E7%9A%84%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%EF%BC%8C%E5%8F%AA%E8%A6%81%E6%B2%A1%E6%9C%89%E5%BC%95%E7%94%A8%E8%A2%AB%E4%BD%BF%E7%94%A8%E5%88%B0%E3%80%82%3C/p%3E%3Cp%3E%E4%BD%86%E7%9C%8B%E7%9C%8B%E8%BF%99%E4%B8%AA%E4%BB%A3%E7%A0%81%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3En%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eref_to_n%3C/span%3E%20=%20&amp;amp;n;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%AC%AC%E4%B8%80%E6%9D%A1%E8%AF%AD%E5%8F%A5%E5%90%8E%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3En%3C/code%3E%E6%8B%A5%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%BA%8C%E6%9D%A1%E8%AF%AD%E5%8F%A5%E5%90%8E%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Eref_to_n%3C/code%3E%E6%8B%A5%E6%9C%89%E4%B8%80%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E8%AF%A5%E5%BC%95%E7%94%A8%E6%8C%87%E5%90%91%E5%90%8C%E4%B8%80%E4%B8%AA%E7%94%B1%3Ccode%3En%3C/code%3E%E5%BC%95%E7%94%A8%E7%9A%84%E6%95%B0%E3%80%82%E5%AE%83%E6%98%AF%E4%B8%80%E4%B8%AA%E6%89%80%E6%9C%89%E6%9D%83%E5%90%97%EF%BC%9F%3C/p%3E%3Cp%3E%E5%AE%83%E4%B8%8D%E8%83%BD%E4%BD%9C%E4%B8%BA%E4%B8%80%E4%B8%AA%E6%89%80%E6%9C%89%E6%9D%83%EF%BC%8C%E5%9B%A0%E4%B8%BA%E8%BF%99%E4%B8%AA%E6%95%B0%E6%97%A9%E5%B7%B2%E7%BB%8F%E7%94%B1%3Ccode%3En%3C/code%3E%E6%89%80%E6%8B%A5%E6%9C%89%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%90%8C%E6%97%B6%E8%A2%AB%E8%BF%99%E4%B8%AA%E5%BC%95%E7%94%A8%E6%89%80%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%EF%BC%8C%E5%AE%83%E5%B0%86%E4%BC%9A%E8%A2%AB%E9%94%80%E6%AF%81%E4%B8%A4%E6%AC%A1%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E7%B1%BB%E4%BC%BC%E8%BF%99%E6%A0%B7%E7%9A%84%E5%BC%95%E7%94%A8%E4%B8%8D%E8%83%BD%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E8%A1%A8%E8%BE%BE%E5%BC%8F%3Ccode%3En%3C/code%3E%E5%92%8C%3Ccode%3E*ref_to_n%3C/code%3E%E6%8C%87%E5%90%91%E5%90%8C%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%BD%86%E4%BB%85%3Ccode%3En%3C/code%3E%E6%8B%A5%E6%9C%89%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E3%80%82%E5%8F%98%E9%87%8F%3Ccode%3Eref_to_n%3C/code%3E%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%BD%86%E4%B8%8D%E6%98%AF%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E3%80%82%E8%BF%99%E7%A7%8D%E6%A6%82%E5%BF%B5%E7%A7%B0%E4%B8%BA%3Cstrong%3E%E7%A7%9F%E5%80%9F%EF%BC%8Cborrowing%3C/strong%3E%E3%80%82%E6%88%91%E4%BB%AC%E8%AF%B4%3Ccode%3Eref_to_n%3C/code%3E%E5%80%9F%E4%BA%86%3Ccode%3En%3C/code%3E%E6%8B%A5%E6%9C%89%E7%9A%84%E6%95%B0%E3%80%82%E8%BF%99%E7%A7%8D%E7%A7%9F%E5%80%9F%EF%BC%8C%E5%BC%80%E5%A7%8B%E4%BA%8E%E5%BC%95%E7%94%A8%E6%8C%87%E5%90%91%E8%AF%A5%E5%AF%B9%E8%B1%A1%EF%BC%8C%E7%BB%93%E6%9D%9F%E4%BA%8E%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%94%80%E6%AF%81%E3%80%82%3C/p%3E%3Cp%3E%E5%85%B3%E4%BA%8E%E5%8F%AF%E5%8F%98%E6%80%A7(mutability)%EF%BC%8C%E6%9C%89%E4%B8%A4%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84borrowing%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3En%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eref1_to_n%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20n;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eref2_to_n%3C/span%3E%20=%20&amp;amp;n;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E6%AE%B5%E7%A8%8B%E5%BA%8F%E4%B8%AD%EF%BC%8C%3Ccode%3Eref1_to_n%3C/code%3E%E5%B0%86%3Ccode%3En%3C/code%3E%E6%8B%A5%E6%9C%89%E7%9A%84%E5%80%BC%EF%BC%8C%E7%A7%9F%E5%80%9F%E4%B8%BA%20%3Cstrong%3Emutably%3C/strong%3E%20%E7%9A%84%E5%80%BC%EF%BC%8C%E4%BB%A5%E5%8F%8A%3Ccode%3Eref2_to_n%3C/code%3E%E7%A7%9F%E5%80%9F%E4%B8%BA%20%3Cstrong%3Eimmutably%3C/strong%3E%20%E7%9A%84%E5%80%BC%E3%80%82%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%98%AF%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F(mutable%20borrowing)%EF%BC%8C%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%98%AF%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F(immutable%20borrowing)%E3%80%82%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%E4%BB%85%E8%83%BD%E4%BB%8E%E5%8F%AF%E5%8F%98%E5%8F%98%E9%87%8F%E4%B8%AD%E8%8E%B7%E5%8F%96%E3%80%82%3C/p%3E%3Ch2%20id=%22Object-Lifetimes%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Object-Lifetimes%22%3E%C2%B6%3C/a%3EObject%20Lifetimes%3C/h2%3E%3Cp%3E%E6%B3%A8%E6%84%8F%E5%88%B0%EF%BC%8C%E2%80%9C%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%8Cscope%E2%80%9D%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BD%9C%E7%94%A8%E4%BA%8E%E7%BC%96%E8%AF%91%E6%9C%9F%E7%9A%84%E5%8F%98%E9%87%8F%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E8%BF%90%E8%A1%8C%E6%9C%9F%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%E5%AF%B9%E5%BA%94%E8%BF%90%E8%A1%8C%E6%9C%9F%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%A6%82%E5%BF%B5%E5%8F%AB%E2%80%9C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%8Clifetime%E2%80%9D%E3%80%82%E5%9C%A8Rust%E4%B8%AD%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%8C%E6%8C%87%E7%9A%84%E6%98%AF%E4%B8%80%E7%B3%BB%E5%88%97%E6%89%A7%E8%A1%8C%E6%8C%87%E4%BB%A4%EF%BC%8C%E4%BB%8E%E6%89%A7%E8%A1%8C%E6%8C%87%E4%BB%A4%E7%9A%84%E5%88%9B%E5%BB%BA%EF%BC%8C%E5%88%B0%E6%89%A7%E8%A1%8C%E6%8C%87%E4%BB%A4%E7%9A%84%E9%94%80%E6%AF%81%E3%80%82%E5%9C%A8%E8%AF%A5%E6%97%B6%E9%97%B4%E6%AE%B5%EF%BC%8C%E8%AF%A5%E5%AF%B9%E8%B1%A1%E5%8F%AB%E5%81%9A%E2%80%9C%E5%AD%98%E6%B4%BB%EF%BC%8Cto%20live%EF%BC%8Cto%20be%20alive%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E5%BD%93%E7%84%B6%EF%BC%8C%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%AD%98%E5%9C%A8%E4%B8%80%E5%AE%9A%E5%85%B3%E7%B3%BB%EF%BC%8C%E4%BD%86%E5%AE%83%E4%BB%AC%E4%B8%8D%E6%98%AF%E5%90%8C%E4%B8%80%E4%B8%AA%E6%A6%82%E5%BF%B5%E3%80%82%E4%BE%8B%E5%A6%82%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ea%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ea%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20a);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%AF%A5%E7%A8%8B%E5%BA%8F%E4%B8%AD%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Ea%3C/code%3E%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%BC%80%E5%A7%8B%E4%BA%8E%E7%AC%AC%E4%B8%80%E8%A1%8C%EF%BC%8C%E8%80%8C%3Ccode%3Ea%3C/code%3E%E6%8B%A5%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%BC%80%E5%A7%8B%E4%BA%8E%E7%AC%AC%E4%BA%8C%E8%A1%8C%E3%80%82%E9%80%9A%E5%B8%B8%E8%AE%A4%E4%B8%BA%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Ea%3C/code%3E%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%BC%80%E5%A7%8B%E4%BA%8E%E5%AE%83%E7%9A%84%E5%A3%B0%E6%98%8E%EF%BC%8C%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%BC%80%E5%A7%8B%E4%BA%8E%E8%AF%A5%E5%AF%B9%E8%B1%A1%E6%8E%A5%E6%94%B6%E4%B8%80%E4%B8%AA%E5%80%BC%E3%80%82%3C/p%3E%3Cp%3E%E5%8D%B3%E4%BD%BF%E6%98%AF%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F(scope)%E7%9A%84%E7%BB%93%E6%9D%9F%EF%BC%8C%E8%B7%9F%E5%AF%B9%E8%B1%A1%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F(lifetime)%E7%9A%84%E7%BB%93%E6%9D%9F%E4%B9%9F%E4%B8%8D%E6%98%AF%E5%90%8C%E6%97%B6%E5%8F%91%E7%94%9F%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22string%22%3E&amp;quot;Hello&amp;quot;%3C/span%3E.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eto_string%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Eb%3C/span%3E%20=%20a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;,%20&amp;quot;%3C/span%3E,%20b);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ea%20=%20%3Cspan%20class=%22string%22%3E&amp;quot;world&amp;quot;%3C/span%3E.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eto_string%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;!&amp;quot;%3C/span%3E,%20a);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Eb%20=%20a;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E5%B0%86%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9CHello,%20world!%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E7%AC%AC%E4%B8%80%E6%9D%A1%E8%AF%AD%E5%8F%A5%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Ea%3C/code%3E%E8%A2%AB%E5%A3%B0%E6%98%8E%E4%BB%A5%E5%8F%8A%E5%88%9D%E5%A7%8B%E5%8C%96%E3%80%82%E5%9B%A0%E6%AD%A4%3Ccode%3Ea%3C/code%3E%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%BC%80%E5%A7%8B%EF%BC%8C%E6%8E%A5%E7%9D%80%3Ccode%3Ea%3C/code%3E%E6%8B%A5%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%A2%AB%E5%88%9B%E5%BB%BA%EF%BC%8C%3Ccode%3Ea%3C/code%3E%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%BC%80%E5%A7%8B%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E7%AC%AC%E4%BA%8C%E6%9D%A1%E8%AF%AD%E5%8F%A5%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Eb%3C/code%3E%E8%A2%AB%E5%A3%B0%E6%98%8E%EF%BC%8C%E7%94%B1%3Ccode%3Ea%3C/code%3E%E7%A7%BB%E5%8A%A8%E5%AF%B9%E8%B1%A1%E8%BF%9B%E8%A1%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%3Ccode%3Eb%3C/code%3E%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%BC%80%E5%A7%8B%EF%BC%8C%3Ccode%3Ea%3C/code%3E%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E8%A2%AB%E6%82%AC%E6%8C%82(suspended)%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E8%A2%AB%E7%A7%BB%E5%8A%A8%E4%BA%86%EF%BC%8C%E6%89%80%E4%BB%A5%E5%AE%83%E4%B8%8D%E5%8F%AF%E5%86%8D%E8%A2%AB%E8%AE%BF%E9%97%AE%E3%80%82%3Ccode%3Eb%3C/code%3E%E6%8B%A5%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8D%E7%94%A8%E5%88%9B%E5%BB%BA%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E5%B0%B1%E6%98%AF%E5%85%88%E5%89%8D%E5%88%9B%E5%BB%BA%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E7%AC%AC%E4%B8%89%E6%9D%A1%E8%AF%AD%E5%8F%A5%EF%BC%8C%3Ccode%3Eb%3C/code%3E%E8%A2%AB%E8%AE%BF%E9%97%AE%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E7%AC%AC%E5%9B%9B%E6%9D%A1%E8%AF%AD%E5%8F%A5%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Ea%3C/code%3E%E9%80%9A%E8%BF%87%3Ccode%3Enew%3C/code%3E%E6%9E%84%E9%80%A0%E5%99%A8%EF%BC%8C%E6%8C%87%E6%B4%BE%E6%96%B0%E7%9A%84%E5%80%BC%E3%80%82%E8%BF%99%E9%87%8C%EF%BC%8C%3Ccode%3Ea%3C/code%3E%E6%81%A2%E5%A4%8D(resume)%E5%AE%83%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F(scope)%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E8%BF%98%E6%B2%A1%E6%9C%89%E7%BB%93%E6%9D%9F%E3%80%82%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%A2%AB%E5%88%9B%E5%BB%BA%EF%BC%8C%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%BC%80%E5%A7%8B%E3%80%82%E5%89%8D%E9%9D%A2%E7%94%B1%E4%BA%8E%E5%8F%98%E9%87%8F%3Ccode%3Ea%3C/code%3E%E8%A2%AB%E2%80%9C%E7%A7%BB%E5%8A%A8%E2%80%9D%E4%BA%86%EF%BC%8C%E6%89%80%E4%BB%A5%E5%AE%83%E4%B8%8D%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%E4%BB%BB%E4%BD%95%E5%AF%B9%E8%B1%A1%E3%80%82%E6%89%80%E4%BB%A5%E8%BF%99%E9%87%8C%E7%9A%84%E8%AF%AD%E5%8F%A5%E7%B1%BB%E4%BC%BC%E4%BA%8E%E4%B8%80%E4%B8%AA%E5%88%9D%E5%A7%8B%E5%8C%96%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E7%AC%AC%E4%BA%94%E6%9D%A1%E8%AF%AD%E5%8F%A5%EF%BC%8C%3Ccode%3Ea%3C/code%3E(%E6%8B%A5%E6%9C%89%E5%AF%B9%E8%B1%A1)%E5%8F%AF%E8%A2%AB%E8%AE%BF%E9%97%AE%E4%BA%86%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E7%AC%AC%E5%85%AD%E6%9D%A1%E8%AF%AD%E5%8F%A5%EF%BC%8C%3Ccode%3Ea%3C/code%3E%E5%86%8D%E6%AC%A1%E8%A2%AB%E7%A7%BB%E5%8A%A8%E5%88%B0%3Ccode%3Eb%3C/code%3E%EF%BC%8C%E5%AE%83%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%86%8D%E6%AC%A1%E8%A2%AB%E6%82%AC%E6%8C%82(suspended)%E3%80%82%E7%9B%B8%E5%8F%8D%EF%BC%8C%3Ccode%3Eb%3C/code%3E%E4%B8%80%E7%9B%B4%E6%98%AF%E6%B4%BB%E5%8A%A8%E7%9A%84(active)%EF%BC%8C%E5%AE%83%E6%8B%A5%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%E7%94%B1%E7%A7%BB%E5%8A%A8%E7%9A%84%3Ccode%3Ea%3C/code%3E%E6%9B%BF%E6%8D%A2%EF%BC%8C%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%8E%9F%E5%85%88%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%9C%A8%E8%BF%99%E9%87%8C%E8%A2%AB%E9%94%80%E6%AF%81%EF%BC%8C%E4%BB%A5%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%BB%93%E6%9D%9F%E3%80%82%E5%A6%82%E6%9E%9C%E8%AF%A5%E5%AF%B9%E8%B1%A1%E5%AE%9E%E7%8E%B0%E4%BA%86%3Ccode%3EDrop%3C/code%3E%EF%BC%8C%E5%9C%A8%E8%BF%99%E9%87%8C%EF%BC%8C%E5%AE%83%E7%9A%84%3Ccode%3Edrop%3C/code%3E%E6%96%B9%E6%B3%95%E4%BC%9A%E8%A2%AB%E8%B0%83%E7%94%A8%E3%80%82%3C/p%3E%3Cp%3E%E6%9C%80%E5%90%8E%EF%BC%8C%3Ccode%3Eb%3C/code%3E%E5%92%8C%3Ccode%3Ea%3C/code%3E%E9%99%86%E7%BB%AD%E9%80%80%E5%87%BA%E5%AE%83%E4%BB%AC%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E3%80%82%E5%8F%98%E9%87%8F%3Ccode%3Eb%3C/code%3E%E6%8B%A5%E6%9C%89%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%AF%A5%E5%AF%B9%E8%B1%A1%E8%A2%AB%E9%94%80%E6%AF%81%EF%BC%8C%E4%BB%A5%E5%8F%8A%E7%BB%93%E6%9D%9F%E5%AE%83%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E3%80%82%E7%9B%B8%E5%8F%8D%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Ea%3C/code%3E%E8%A2%AB%E2%80%9C%E7%A7%BB%E5%8A%A8%E2%80%9D%E4%BA%86%EF%BC%8C%E4%B8%8D%E5%86%8D%E6%8B%A5%E6%9C%89%E4%BB%BB%E4%BD%95%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%B9%9F%E5%B0%B1%E4%B8%8D%E4%BC%9A%E6%9C%89%E9%94%80%E6%AF%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8F%91%E7%94%9F%E3%80%82%3C/p%3E%3Ch2%20id=%22Errors-Regarding-Borrowing%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Errors-Regarding-Borrowing%22%3E%C2%B6%3C/a%3EErrors%20Regarding%20Borrowing%3C/h2%3E%3Cp%3EC%E5%92%8CC++%E7%A8%8B%E5%BA%8F%E7%BC%96%E5%86%99%E6%80%BB%E6%98%AF%E8%A2%AB%E5%90%84%E7%A7%8D%E9%94%99%E8%AF%AF%E5%9B%B0%E6%89%B0%EF%BC%8C%E8%80%8CRust%E5%88%99%E9%80%9A%E8%BF%87%E8%AE%BE%E8%AE%A1%E6%9D%A5%E9%81%BF%E5%85%8D%E8%BF%99%E4%B8%80%E7%B1%BB%E9%97%AE%E9%A2%98%E3%80%82Rust%E7%9A%84%E4%B8%80%E7%A7%8D%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E6%98%AF%E2%80%9Cuse%20after%20move%E2%80%9D%EF%BC%8C%E5%89%8D%E9%9D%A2%E4%BB%8B%E7%BB%8D%E8%BF%87%E3%80%82%E5%8F%A6%E4%B8%80%E7%A7%8D%E9%94%99%E8%AF%AF%E5%A6%82%E4%B8%8B%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eref_to_n%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3En%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20ref_to_n%20=%20&amp;amp;n;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;quot;%3C/span%3E,%20*ref_to_n);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20*ref_to_n);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E9%A6%96%E5%85%88%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Eref_to_n%3C/code%3E%E8%A2%AB%E5%A3%B0%E6%98%8E%EF%BC%8C%E4%BD%86%E6%B2%A1%E6%9C%89%E8%A2%AB%E5%88%9D%E5%A7%8B%E5%8C%96%E3%80%82%E7%84%B6%E5%90%8E%EF%BC%8C%E5%9C%A8%E8%AF%AD%E5%8F%A5%E5%9D%97%E5%86%85%EF%BC%8C%E5%8F%AF%E5%8F%98%E5%8F%98%E9%87%8F%3Ccode%3En%3C/code%3E%E8%A2%AB%E5%A3%B0%E6%98%8E%E5%B9%B6%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%8C%E5%AE%83%E5%88%86%E9%85%8D%E4%B8%80%E4%B8%AA%E6%95%B0%E5%9C%A8%E6%A0%88%E4%B8%8A%EF%BC%8C%E5%80%BC%E4%B8%BA12%E3%80%82%3C/p%3E%3Cp%3E%E7%84%B6%E5%90%8E%EF%BC%8C%E5%8E%9F%E5%85%88%E7%9A%84%E5%8F%98%E9%87%8F%EF%BC%8C%E7%94%A8%E4%B8%80%E4%B8%AA%E6%8C%87%E5%90%91%3Ccode%3En%3C/code%3E%E7%9A%84%E5%BC%95%E7%94%A8%E8%BF%9B%E8%A1%8C%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%8C%E5%AE%83%E7%A7%9F%E5%80%9F(borrow)%E4%BA%86%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E6%8E%A5%E7%9D%80%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Eref_to_n%3C/code%3E%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%8D%B3%E5%80%BC%E4%B8%BA12%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%89%93%E5%8D%B0%E8%BE%93%E5%87%BA%E3%80%82%3C/p%3E%3Cp%3E%E6%8E%A5%E7%9D%80%EF%BC%8C%E8%AF%AD%E5%8F%A5%E5%9D%97%E7%BB%93%E6%9D%9F%EF%BC%8C%E5%86%85%E9%83%A8%E5%8F%98%E9%87%8F%3Ccode%3En%3C/code%3E%E7%BB%93%E6%9D%9F%E4%BA%86%E5%AE%83%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%8C%E5%AE%83%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%A2%AB%E9%94%80%E6%AF%81%E3%80%82%3C/p%3E%3Cp%3E%E6%8E%A5%E7%9D%80%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Eref_to_n%3C/code%3E%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%86%8D%E6%AC%A1%E8%A2%AB%E6%89%93%E5%8D%B0%E3%80%82%E4%BD%86%E8%AF%A5%E5%AF%B9%E8%B1%A1%E5%8E%9F%E5%85%88%E8%A2%AB%3Ccode%3En%3C/code%3E%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%EF%BC%8C%E5%AE%83%E7%8E%B0%E5%9C%A8%E4%B8%8D%E5%AD%98%E5%9C%A8%E4%BA%86%EF%BC%81%3C/p%3E%3Cp%3E%E5%B9%B8%E8%BF%90%E7%9A%84%E6%98%AF%EF%BC%8CRust%E7%BC%96%E8%AF%91%E5%99%A8%E6%8B%92%E7%BB%9D%E8%AF%A5%E4%BB%A3%E7%A0%81%EF%BC%8C%E4%BA%A7%E7%94%9F%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF%E2%80%9C%3Ccode%3En%3C/code%3E%20does%20not%20live%20long%20enough%E2%80%9D%E3%80%82%E8%AF%A5%E6%B6%88%E6%81%AF%E8%A1%A8%E7%A4%BA%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3En%3C/code%3E%E6%AD%BB%E4%BA%86(dying)%EF%BC%8C%E4%BD%86%E4%BB%8D%E7%84%B6%E6%9C%89%E6%8C%87%E5%90%91%E5%AE%83%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%E7%9A%84%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%8C%E5%AE%83%E5%BA%94%E8%AF%A5%E6%B4%BB%E6%9B%B4%E9%95%BF%E4%B8%80%E4%BA%9B%EF%BC%9B%E8%87%B3%E5%B0%91%E5%BA%94%E8%AF%A5%E8%B7%9F%E7%A7%9F%E5%80%9F%E5%AE%83%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A7%9F%E5%80%9F%E6%96%B9%E4%B8%80%E6%A0%B7%E9%95%BF%E3%80%82%3C/p%3E%3Cp%3E%E9%A1%BA%E4%BE%BF%EF%BC%8CC%E6%88%96C++%E5%AF%B9%E5%BA%94%E7%9A%84%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20c%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;stdio.h&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E*%20ref_to_n;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20n%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20ref_to_n%20&amp;amp;n;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintf%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;%d%20&amp;quot;%3C/span%3E,%20*ref_to_n);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintf%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;%d&amp;quot;%3C/span%3E,%20*ref_to_n);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E6%AE%B5%E7%A8%8B%E5%BA%8F%E5%8F%AF%E8%A2%ABC%E5%92%8CC++%E7%BC%96%E8%AF%91%E5%99%A8%E6%8E%A5%E5%8F%97%E3%80%82%E7%BB%93%E6%9E%9C%E4%BC%9A%E6%89%93%E5%8D%B0%E2%80%9C12%E2%80%9D%EF%BC%8C%E4%B9%8B%E5%90%8E%E7%9A%84%E8%A1%8C%E4%B8%BA%E4%BC%9A%E5%8F%98%E5%BE%97%E4%B8%8D%E5%8F%AF%E9%A2%84%E6%B5%8B%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E7%B1%BB%E7%A8%8B%E5%BA%8F%E9%94%99%E8%AF%AF%EF%BC%8C%E6%88%91%E4%BB%AC%E7%A7%B0%E4%B9%8B%E4%B8%BA%E2%80%9Cuse%20after%20drop%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E6%9C%89%E5%8F%A6%E4%B8%80%E7%A7%8D%E5%8F%AF%E9%81%BF%E5%85%8D%E7%9A%84Rust%E9%94%99%E8%AF%AF%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E12%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eref_to_first%3C/span%3E%20=%20&amp;amp;v[%3Cspan%20class=%22number%22%3E0%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(%3Cspan%20class=%22number%22%3E13%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20ref_to_first);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%AF%B9%E5%BA%94%E7%9A%84C%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E6%98%AF%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20c%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;stdio.h&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;stdlib.h&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E*%20v%20=%20%3Cspan%20class=%22built_in%22%3Emalloc%3C/span%3E(%3Cspan%20class=%22number%22%3E1%3C/span%3E%20*%20%3Cspan%20class=%22keyword%22%3Esizeof%3C/span%3E%20(%3Cspan%20class=%22type%22%3Eint%3C/span%3E));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20v[%3Cspan%20class=%22number%22%3E0%3C/span%3E]%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3Econst%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E*%20ref_to_first%20=%20&amp;amp;v[%3Cspan%20class=%22number%22%3E0%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20v%20=%20%3Cspan%20class=%22built_in%22%3Erealloc%3C/span%3E(v,%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%20*%20%3Cspan%20class=%22keyword%22%3Esizeof%3C/span%3E%20(%3Cspan%20class=%22type%22%3Eint%3C/span%3E));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20v[%3Cspan%20class=%22number%22%3E1%3C/span%3E]%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintf%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;%d&amp;quot;%3C/span%3E,%20*ref_to_first);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Efree%3C/span%3E(v);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%BB%A5%E5%8F%8AC++%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%98%AF%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20cpp%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;iostream&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;vector&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22function%22%3E%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20%3C/span%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20std::vector&amp;lt;%3Cspan%20class=%22type%22%3Eint%3C/span%3E&amp;gt;%20v%20&amp;#123;%20%3Cspan%20class=%22number%22%3E12%3C/span%3E%20&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3Econst%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E&amp;amp;%20ref_to_first%20=%20v[%3Cspan%20class=%22number%22%3E0%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20v.%3Cspan%20class=%22built_in%22%3Epush_back%3C/span%3E(%3Cspan%20class=%22number%22%3E13%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20std::cout%20&amp;lt;&amp;lt;%20ref_to_first;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%8D%E7%94%A8%E5%A4%9A%E8%AF%B4%EF%BC%8C%E6%9C%80%E5%90%8E%E4%B8%A4%E4%B8%AA%E7%A8%8B%E5%BA%8F%E4%BC%9A%E8%A2%AB%E5%90%84%E8%87%AA%E7%9A%84%E7%BC%96%E8%AF%91%E5%99%A8%E6%8E%A5%E5%8F%97%EF%BC%8C%E5%8D%B3%E4%BD%BF%E5%AE%83%E4%BB%AC%E7%9A%84%E8%A1%8C%E4%B8%BA%E6%98%AF%E6%9C%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E3%80%82%E7%9B%B8%E5%8F%8D%EF%BC%8CRust%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%9A%E6%8B%92%E7%BB%9D%E5%B9%B6%E6%8A%9B%E5%87%BA%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF%E2%80%9Ccannot%20borrow%20%3Ccode%3Ev%3C/code%3E%20as%20mutable%20because%20it%20is%20also%20borrowed%20as%20immutable%E2%80%9D%E3%80%82%E8%AE%A9%E6%88%91%E4%BB%AC%E7%9C%8B%E7%9C%8B%E8%AF%A5%E7%A8%8B%E5%BA%8F%E6%9C%89%E4%BB%80%E4%B9%88%E9%94%99%E8%AF%AF%E3%80%82%3C/p%3E%3Cp%3E%E9%A6%96%E5%85%88%EF%BC%8C%E5%8F%AF%E5%8F%98(mutable)%E5%8F%98%E9%87%8F%3Ccode%3Ev%3C/code%3E%EF%BC%8C%E7%94%A8%E4%B8%80%E4%B8%AA%E4%BB%85%E5%B8%A6%E6%95%B012%E7%9A%84vector%E5%A3%B0%E6%98%8E%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E3%80%82%3C/p%3E%3Cp%3E%E7%84%B6%E5%90%8E%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Eref_to_first%3C/code%3E%E7%94%A8%E5%8E%9F%E5%85%88%E6%8C%87%E5%90%91%3Ccode%3Ev%3C/code%3E%E7%9A%84%E5%BC%95%E7%94%A8%E5%A3%B0%E6%98%8E%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E3%80%82%E5%BC%95%E7%94%A8%E6%8C%87%E5%90%91%E7%9A%84%E5%80%BC%E5%8C%85%E5%90%AB%E6%95%B012%E3%80%82%3C/p%3E%3Cp%3E%E7%84%B6%E5%90%8E%EF%BC%8C%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%95%B013%E8%A2%AB%E6%B7%BB%E5%8A%A0%E5%88%B0vector%E3%80%82%E4%BD%86%E8%BF%99%E7%A7%8D%E6%8F%92%E5%85%A5%E4%BC%9A%E5%AF%BC%E8%87%B4%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E9%87%8D%E6%96%B0%E5%88%86%E9%85%8D%E3%80%82%E5%8D%B3%E4%BD%BF%E5%9C%A8%E8%BF%99%E4%B8%AA%E4%BE%8B%E5%AD%90%EF%BC%8C%3Ccode%3Eref_to_first%3C/code%3E%E4%BB%8D%E4%BC%9A%E7%BB%A7%E7%BB%AD%E6%8C%87%E5%90%91%E6%97%A7%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%B8%8D%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%E3%80%82%3C/p%3E%3Cp%3E%E6%9C%80%E5%90%8E%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%97%A7%E7%9A%84%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%EF%BC%8C%E5%8F%AF%E8%83%BD%E6%98%AF%E9%94%99%E8%AF%AF%E7%9A%84%EF%BC%8C%E8%AF%BB%E5%8F%96%E7%9A%84%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%E7%9A%84%E5%80%BC%E6%89%93%E5%8D%B0%E5%90%8E%EF%BC%8C%E6%98%AF%E4%B8%8D%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E7%BB%93%E6%9E%9C%E3%80%82%3C/p%3E%3Cp%3E%E7%94%B1%E4%BA%8E%E4%BB%8E%E4%B8%80%E4%B8%AAvector%E6%8F%92%E5%85%A5%E6%88%96%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%E6%97%B6%EF%BC%8C%E6%89%80%E6%9C%89%E6%8C%87%E5%90%91vector%E7%9A%84%E5%BC%95%E7%94%A8%E9%83%BD%E2%80%9C%E5%A4%B1%E6%95%88%E2%80%9D%EF%BC%8C%E5%AF%BC%E8%87%B4%E8%BF%99%E7%A7%8D%E9%94%99%E8%AF%AF%E7%9A%84%E5%87%BA%E7%8E%B0%E3%80%82%E9%80%9A%E5%B8%B8%EF%BC%8C%E8%BF%99%E7%A7%8D%E9%94%99%E8%AF%AF%E5%B1%9E%E4%BA%8E%E5%B9%BF%E4%B9%89%E7%9A%84%E9%94%99%E8%AF%AF%E7%B1%BB%E5%88%AB%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%8C%E9%80%9A%E8%BF%87%E5%87%A0%E7%A7%8D%E8%B7%AF%E5%BE%84%E3%80%81%E6%88%96%E5%88%AB%E5%90%8D%E8%AE%BF%E9%97%AE%EF%BC%8C%E5%BD%93%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%A2%AB%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E5%88%AB%E5%90%8D%E4%BF%AE%E6%94%B9%E6%97%B6%EF%BC%8C%E4%B8%8D%E8%83%BD%E8%A2%AB%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%88%AB%E5%90%8D%E4%BD%BF%E7%94%A8%E3%80%82%3C/p%3E%3Cp%3E%E6%88%91%E4%BB%AC%E5%B0%86%E8%BF%99%E7%B1%BB%E7%BC%96%E7%A8%8B%E9%94%99%E8%AF%AF%E5%91%BD%E5%90%8D%E4%B8%BA%E2%80%9Cuse%20after%20change%20by%20an%20alias%E2%80%9D%E3%80%82%3C/p%3E%3Ch2%20id=%22How-to-Prevent-%E2%80%9CUse-After-Drop%E2%80%9D-Errors%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#How-to-Prevent-%E2%80%9CUse-After-Drop%E2%80%9D-Errors%22%3E%C2%B6%3C/a%3EHow%20to%20Prevent%20%E2%80%9CUse%20After%20Drop%E2%80%9D%20Errors%3C/h2%3E%3Cp%3ERust%E9%98%B2%E6%AD%A2%E4%BD%BF%E7%94%A8%E2%80%9C%E8%84%B1%E8%90%BD%EF%BC%8Cdropped%E2%80%9D%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8A%80%E6%9C%AF%E6%98%AF%E7%AE%80%E5%8D%95%E7%9A%84%E3%80%82%3C/p%3E%3Cp%3E%E6%8A%8A%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9C%8B%E5%81%9A%E6%98%AF%E8%A2%AB%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E6%8C%87%E5%90%91%EF%BC%8C%E9%81%B5%E5%BE%AA%E6%A0%88%E5%88%86%E9%85%8D%E7%9A%84%E8%A7%84%E5%88%99%EF%BC%8C%E4%BC%9A%E6%8C%89%E7%85%A7%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E7%9A%84%E5%8F%8D%E5%90%91%E9%A1%BA%E5%BA%8F%E8%A2%AB%E8%84%B1%E8%90%BD%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E5%8F%8D%E5%90%91%E9%A1%BA%E5%BA%8F%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EX%3C/span%3E(%3Cspan%20class=%22type%22%3Echar%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EDrop%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EX%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edrop%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E.%3Cspan%20class=%22number%22%3E0%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_a%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3EX%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;#x27;a&amp;#x27;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_c%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3EX%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;#x27;c&amp;#x27;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_b%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3EX%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;#x27;b&amp;#x27;%3C/span%3E);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%AF%A5%E7%A8%8B%E5%BA%8F%E4%BC%9A%E6%89%93%E5%8D%B0%E2%80%9Ccba%E2%80%9D%E3%80%82%E8%BF%99%E4%B8%89%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%8C%89%E7%85%A7%E9%A1%BA%E5%BA%8F%E2%80%9Cacb%E2%80%9D%E8%A2%AB%E6%9E%84%E9%80%A0%EF%BC%8C%E4%BD%86%E4%B8%89%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%86%E9%85%8D%E9%A1%BA%E5%BA%8F%E6%98%AF%E2%80%9Cabc%E2%80%9D%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%9B%9E%E6%94%B6%E4%BB%A5%E5%8F%8A%E8%84%B1%E8%90%BD%E7%9A%84%E6%8C%89%E7%9B%B8%E5%8F%8D%E7%9A%84%E9%A1%BA%E5%BA%8F%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%BA%E4%BA%86%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8%E8%84%B1%E8%90%BD%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%89%80%E6%9C%89%E5%8F%98%E9%87%8F%EF%BC%8C%E7%A7%9F%E5%80%9F%E5%85%B6%E5%AE%83%E5%8F%98%E9%87%8F%E6%8B%A5%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%BF%85%E9%A1%BB%E5%9C%A8%E8%AF%A5%E5%8F%98%E9%87%8F%E7%9A%84%20%3Cstrong%3E%E5%90%8E%E9%9D%A2%3C/strong%3E%20%E5%A3%B0%E6%98%8E%E3%80%82%3C/p%3E%3Cp%3E%E4%BE%8B%E5%A6%82%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3En%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3E_r%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Em%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_r%20=%20&amp;amp;m;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_r%20=%20&amp;amp;n;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81%E4%BC%9A%E4%BA%A7%E7%94%9F%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF%EF%BC%9A%E2%80%9C%3Ccode%3Em%3C/code%3E%20does%20not%20live%20long%20enough%E2%80%9D%E3%80%82%E8%BF%99%E6%98%AF%E5%9B%A0%E4%B8%BA%3Ccode%3E_r%3C/code%3E%E5%90%8C%E6%97%B6%E4%BB%8E%3Ccode%3Em%3C/code%3E%E5%92%8C%3Ccode%3En%3C/code%3E%E8%BF%9B%E8%A1%8Cborrow%EF%BC%8C%E8%99%BD%E7%84%B6%E4%B8%8D%E5%9C%A8%E5%90%8C%E4%B8%80%E6%97%B6%E5%88%BB%E6%8C%87%E5%90%91%E4%B8%A4%E8%80%85%EF%BC%8C%E4%BD%86%E5%AE%83%E5%9C%A8%3Ccode%3Em%3C/code%3E%E4%B9%8B%E5%89%8D%E5%A3%B0%E6%98%8E%E4%BA%86%E3%80%82%E8%A6%81%E6%9B%B4%E6%AD%A3%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81%EF%BC%8C%E6%94%B9%E4%B8%BA%E5%A6%82%E4%B8%8B%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3En%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Em%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3E_r%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_r%20=%20&amp;amp;m;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_r%20=%20&amp;amp;n;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81%E6%98%AF%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%E5%BD%93%3Ccode%3Em%3C/code%3E%E5%92%8C%3Ccode%3En%3C/code%3E%E6%8B%A5%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%A2%ABdropped%E6%97%B6%EF%BC%8C%E4%B8%8D%E4%BC%9A%E5%86%8D%E6%9C%89%E6%8C%87%E5%90%91%E5%AE%83%E4%BB%AC%E7%9A%84%E5%BC%95%E7%94%A8%E3%80%82%3C/p%3E%3Ch2%20id=%22How-to-Prevent-%E2%80%9CUse-After-Change-by-an-Alias%E2%80%9D-Errors%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#How-to-Prevent-%E2%80%9CUse-After-Change-by-an-Alias%E2%80%9D-Errors%22%3E%C2%B6%3C/a%3EHow%20to%20Prevent%20%E2%80%9CUse%20After%20Change%20by%20an%20Alias%E2%80%9D%20Errors%3C/h2%3E%3Cp%3E%E7%94%B1%E4%BA%8E%E5%85%B6%E5%AE%83%E5%8F%98%E9%87%8F%E5%BC%95%E8%B5%B7%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%94%B9%E5%8F%98%EF%BC%8C%E5%AF%BC%E8%87%B4%E5%BD%93%E5%89%8D%E5%8F%98%E9%87%8F%E4%BD%BF%E7%94%A8%E8%AF%A5%E5%AF%B9%E8%B1%A1%E5%87%BA%E7%8E%B0%E9%94%99%E8%AF%AF%E3%80%82%E8%A6%81%E9%81%BF%E5%85%8D%E8%BF%99%E7%A7%8D%E9%94%99%E8%AF%AF%EF%BC%8C%E4%BD%BF%E7%94%A8%E7%9A%84%E8%A7%84%E5%88%99%E6%9C%89%E5%87%A0%E5%88%86%E5%A4%8D%E6%9D%82%E3%80%82%3C/p%3E%3Cp%3E%E9%A6%96%E5%85%88%EF%BC%8C%E8%A6%81%E6%B1%82%E8%80%83%E8%99%91%E4%BB%BB%E4%BD%95%E8%AF%AD%E5%8F%A5%E4%BC%9A%E8%AF%BB%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%B8%8D%E4%BC%9A%E6%9C%89%E5%86%99%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%B0%B1%E5%83%8F%E6%98%AF%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%80%E4%B8%AA%20%3Cstrong%3E%E4%B8%B4%E6%97%B6%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F(temporary%20immutable%20borrowing)%3C/strong%3E%EF%BC%9B%E4%BB%BB%E4%BD%95%E8%AF%AD%E5%8F%A5%E5%8F%98%E6%9B%B4%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B0%B1%E5%83%8F%E6%98%AF%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%80%E4%B8%AA%20%3Cstrong%3E%E4%B8%B4%E6%97%B6%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F(temporary%20mutable%20borrowing)%3C/strong%3E%E3%80%82%E8%BF%99%E7%A7%8D%E7%A7%9F%E5%80%9F%E7%9A%84%E5%87%BA%E7%8E%B0%E5%92%8C%E7%BB%93%E6%9D%9F%E5%9C%A8%E8%AF%A5%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%86%85%E9%83%A8%E8%BF%9B%E8%A1%8C%E3%80%82%3C/p%3E%3Cp%3E%E7%84%B6%E5%90%8E%EF%BC%8C%E7%A7%9F%E5%80%9F%E5%BC%80%E5%A7%8B%E4%BA%8E%EF%BC%8C%E8%8E%B7%E5%8F%96%E6%8C%87%E5%90%91%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%8C%E5%B9%B6%E5%88%86%E9%85%8D%E7%BB%99%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%EF%BC%9B%E7%BB%93%E6%9D%9F%E4%BA%8E%EF%BC%8C%E8%AF%A5%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F(scope)%E7%BB%93%E6%9D%9F%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AF%E4%B8%80%E4%B8%AA%E4%BE%8B%E5%AD%90%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Eb%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;quot;%3C/span%3E,%20a);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ec%3C/span%3E%20=%20&amp;amp;a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ed%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20b;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;quot;%3C/span%3E,%20c,%20d);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Eb%20+=%20%3Cspan%20class=%22number%22%3E1%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20b);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E4%BC%9A%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C12%2012%2013%2014%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E7%AC%AC3%E8%A1%8C%E5%92%8C%E6%9C%80%E5%90%8E%E4%B8%80%E8%A1%8C%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%E5%BC%80%E5%A7%8B%E5%B9%B6%E7%BB%93%E6%9D%9F%E3%80%82%E5%9C%A8%E7%AC%AC5%E8%A1%8C%EF%BC%8C%E4%B8%80%E4%B8%AA%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%E5%BC%80%E5%A7%8B%EF%BC%8C%E7%AC%AC6%E8%A1%8C%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%E5%BC%80%E5%A7%8B%EF%BC%9B%E5%AE%83%E4%BB%AC%E5%9C%A8%E8%AF%AD%E5%8F%A5%E5%9D%97%E6%9C%AB%E5%B0%BE%E7%BB%93%E6%9D%9F%E3%80%82%E5%9C%A8%E7%AC%AC9%E8%A1%8C%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%E5%BC%80%E5%A7%8B%E5%B9%B6%E7%BB%93%E6%9D%9F%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E7%A7%8D%E8%A7%84%E5%88%99%E8%A6%81%E6%B1%82%EF%BC%8C%E5%90%8C%E4%B8%80%E6%97%B6%E5%88%BB%EF%BC%8C%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F(%E5%8D%B3%EF%BC%8C&amp;amp;mut%20)%E7%9A%84%E5%87%BA%E7%8E%B0%E4%B8%8D%E8%83%BD%E5%92%8C%E5%85%B6%E5%AE%83%E7%A7%9F%E5%80%9F%E5%B9%B6%E5%AD%98%E3%80%82%3C/p%3E%3Cp%3E%E6%8D%A2%E5%8F%A5%E8%AF%9D%E8%AF%B4%EF%BC%8C%E5%90%8C%E4%B8%80%E6%97%B6%E5%88%BB%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E6%B2%A1%E6%9C%89%E7%A7%9F%E5%80%9F%3C/li%3E%3Cli%3E%E6%88%96%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%8D%95%E4%B8%80%E7%9A%84%E5%8F%AF%E5%8F%98(mutable)%E7%A7%9F%E5%80%9F%3C/li%3E%3Cli%3E%E6%88%96%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%8D%95%E4%B8%80%E7%9A%84%E4%B8%8D%E5%8F%AF%E5%8F%98(immutable)%E7%A7%9F%E5%80%9F%3C/li%3E%3Cli%3E%E6%88%96%EF%BC%8C%E5%87%A0%E4%B8%AA%E4%B8%8D%E5%8F%AF%E5%8F%98(immutable)%E7%A7%9F%E5%80%9F%3C/li%3E%3C/ul%3E%3Cp%3E%E4%B8%8D%E8%83%BD%E6%9C%89%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E5%87%A0%E4%B8%AA%E5%8F%AF%E5%8F%98(mutable)%E7%A7%9F%E5%80%9F%3C/li%3E%3Cli%3E%E4%B8%8D%E8%83%BD%E6%9C%89%E4%B8%80%E4%B8%AA%E5%8D%95%E4%B8%80%E7%9A%84%E5%8F%AF%E5%8F%98(mutable)%E7%A7%9F%E5%80%9F%E5%92%8C%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E4%B8%8D%E5%8F%AF%E5%8F%98(immutable)%E7%A7%9F%E5%80%9F%3C/li%3E%3C/ul%3E%3Ch2%20id=%22Listing-the-Possible-Cases-of-Multiple-Borrowings%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Listing-the-Possible-Cases-of-Multiple-Borrowings%22%3E%C2%B6%3C/a%3EListing%20the%20Possible%20Cases%20of%20Multiple%20Borrowings%3C/h2%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E7%BD%97%E5%88%97%E5%85%AD%E7%A7%8D%E5%85%81%E8%AE%B8%E7%9A%84%E6%83%85%E5%86%B5%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%B8%80%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_c%3C/span%3E%20=%20&amp;amp;a;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%9C%89%E4%B8%A4%E4%B8%AA%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%EF%BC%8C%E7%9B%B4%E5%88%B0%E7%BB%93%E6%9D%9F%E4%B8%BA%E6%AD%A2%E8%A2%AB%E6%8C%81%E6%9C%89%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%BA%8C%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20a);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%AC%AC%E4%B8%89%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ea%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;a;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%80%E4%B8%AA%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%EF%BC%8C%E7%B4%A7%E9%9A%8F%E5%90%8E%E4%B8%80%E4%B8%AA%E4%B8%B4%E6%97%B6%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E5%9B%9B%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ea%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%80%E4%B8%AA%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%EF%BC%8C%E7%B4%A7%E9%9A%8F%E5%90%8E%E4%B8%80%E4%B8%AA%E4%B8%B4%E6%97%B6%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%BA%94%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20a);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;a;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%80%E4%B8%AA%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%EF%BC%8C%E7%B4%A7%E9%9A%8F%E5%90%8E%E4%B8%80%E4%B8%AA%E4%B8%B4%E6%97%B6%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E5%85%AD%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20a);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%80%E4%B8%AA%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F%EF%BC%8C%E7%B4%A7%E9%9A%8F%E5%90%8E%E4%B8%80%E4%B8%AA%E4%B8%B4%E6%97%B6%E4%B8%8D%E5%8F%AF%E7%A7%9F%E5%80%9F%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AF%E5%85%AD%E7%A7%8D%E4%B8%8D%E5%90%88%E6%B3%95%E6%83%85%E5%86%B5%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%B8%80%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_c%3C/span%3E%20=%20&amp;amp;a;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BC%96%E8%AF%91%E5%87%BA%E9%94%99%E2%80%9Ccannot%20borrow%20%3Ccode%3Ea%3C/code%3E%20as%20immutable%20because%20it%20is%20also%20borrowed%20as%20mutable%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%BA%8C%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_c%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BC%96%E8%AF%91%E5%87%BA%E9%94%99%E2%80%9Ccannot%20borrow%20%3Ccode%3Ea%3C/code%3E%20as%20mutable%20because%20it%20is%20also%20borrowed%20as%20immutable%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%B8%89%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_c%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BC%96%E8%AF%91%E5%87%BA%E9%94%99%E2%80%9Ccannot%20borrow%20%3Ccode%3Ea%3C/code%3E%20as%20mutable%20more%20than%20once%20at%20a%20time%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E5%9B%9B%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ea%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BC%96%E8%AF%91%E5%87%BA%E9%94%99%E2%80%9Ccannot%20assign%20to%20%3Ccode%3Ea%3C/code%3E%20because%20it%20is%20borrowed%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%BA%94%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ea%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BC%96%E8%AF%91%E5%87%BA%E9%94%99%E2%80%9Ccannot%20assign%20to%20%3Ccode%3Ea%3C/code%3E%20because%20it%20is%20borrowed%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E5%85%AD%E7%A7%8D%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20a);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BC%96%E8%AF%91%E5%87%BA%E9%94%99%E2%80%9Ccannot%20borrow%20%3Ccode%3Ea%3C/code%3E%20as%20immutable%20because%20it%20is%20also%20borrowed%20as%20mutable%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E6%A2%B3%E7%90%86%E4%B8%80%E4%B8%8B%E3%80%82%E5%AF%B9%E4%BA%8E%E5%BD%93%E5%89%8D%E5%B0%9A%E6%9C%AA%E8%A2%ABborrowed%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%9D%A5%E8%AF%B4%EF%BC%8C%E5%85%81%E8%AE%B8%E7%9A%84%E6%93%8D%E4%BD%9C%E6%98%AF%EF%BC%9A%3C/p%3E%3Col%3E%3Cli%3E%E4%BB%85%E5%8F%AF%E8%A2%AB%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F(immutablely%20borrowed)%E6%95%B0%E6%AC%A1%EF%BC%8C%E7%84%B6%E5%90%8E%E5%8F%AF%E4%BB%A5%E7%94%B1%E6%89%80%E6%9C%89%E8%80%85(owner)%E5%92%8C%E4%BB%BB%E4%BD%95%E7%A7%9F%E5%80%9F%E6%96%B9(borrower)%E8%AF%BB%E5%8F%96%E3%80%82%3C/li%3E%3Cli%3E%E4%BB%85%E5%8F%AF%E8%A2%AB%E5%8F%AF%E5%8F%98%E7%A7%9F%E5%80%9F(mutably%20borrowed)%E4%B8%80%E6%AC%A1%EF%BC%8C%E7%84%B6%E5%90%8E%E6%9C%89%E4%B8%94%E4%BB%85%E8%83%BD%E7%94%B1%E8%BF%99%E4%B8%AA%E7%A7%9F%E5%80%9F%E6%96%B9(borrower)%E8%AF%BB%E5%8F%96%E5%92%8C%E4%BF%AE%E6%94%B9%E3%80%82%3C/li%3E%3C/ol%3E%3Ch2%20id=%22Using-a-Bock-to-Restrict-Borrowing-Scope%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Using-a-Bock-to-Restrict-Borrowing-Scope%22%3E%C2%B6%3C/a%3EUsing%20a%20Bock%20to%20Restrict%20Borrowing%20Scope%3C/h2%3E%3Cp%3E%E5%BD%93%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A7%9F%E5%80%9F%E7%BB%93%E6%9D%9F%E5%90%8E%EF%BC%8C%E5%AF%B9%E8%B1%A1%E5%AF%B9%E5%85%B6%E5%AE%83%E7%A7%9F%E5%80%9F%E5%8F%88%E5%8F%98%E5%BE%97%E5%8F%AF%E7%94%A8%E4%BA%86%E3%80%82%E4%BB%BB%E4%BD%95%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%A7%9F%E5%80%9F%E9%83%BD%E5%8F%AF%E9%99%90%E5%88%B6%E5%9C%A8%E8%AF%AD%E5%8F%A5%E5%9D%97%E5%86%85%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eb%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E*b%20+=%20%3Cspan%20class=%22number%22%3E1%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ec%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E*c%20+=%20%3Cspan%20class=%22number%22%3E2%3C/span%3E;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E6%98%AF%E5%85%81%E8%AE%B8%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E7%A7%9F%E5%80%9F%E5%8F%91%E7%94%9F%E5%9C%A8%E7%AC%AC%E4%B8%89%E8%A1%8C%EF%BC%8C%E8%AF%AD%E5%8F%A5%E5%9D%97%E7%BB%93%E6%9D%9F%E5%90%8E%EF%BC%8C%E7%A7%9F%E5%80%9F%E4%B9%9F%E7%BB%93%E6%9D%9F%E4%BA%86%EF%BC%8C%E5%9B%A0%E6%AD%A4%E7%AC%AC7%E8%A1%8C%E7%9A%84%3Ccode%3Ea%3C/code%3E%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BA%8E%E5%85%B6%E5%AE%83%E7%A7%9F%E5%80%9F%E3%80%82%3C/p%3E%3Cp%3E%E7%B1%BB%E4%BC%BC%E5%9C%B0%EF%BC%8C%E5%AF%B9%E4%BA%8E%E5%87%BD%E6%95%B0%E4%B9%9F%E4%B8%80%E6%A0%B7%EF%BC%8C%E5%9C%A8%E5%87%BD%E6%95%B0%E7%BB%93%E6%9D%9F%E5%90%8E%EF%BC%8C%E5%AF%B9%E8%B1%A1%E5%86%8D%E6%AC%A1%E5%8F%98%E5%BE%97%E5%8F%AF%E7%94%A8%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E*b:%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E*b%20+=%20%3Cspan%20class=%22number%22%3E1%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ec%3C/span%3E%20=%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E*c%20+=%20%3Cspan%20class=%22number%22%3E2%3C/span%3E;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E7%A7%8D%E8%A7%84%E5%88%99%EF%BC%8C%E9%80%82%E7%94%A8%E4%BA%8ERust%E7%A1%AE%E4%BF%9D%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%8A%A8%E5%9C%B0%E5%86%B3%E5%AE%9A%E5%86%85%E5%AD%98%E7%9A%84%E5%9B%9E%E6%94%B6%EF%BC%8C%E9%81%BF%E5%85%8D%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%9B%E8%BF%99%E7%A7%8D%E8%A7%84%E5%88%99%E5%85%81%E8%AE%B8Rust%E5%AE%9E%E7%8E%B0%E6%97%A0%E6%95%B0%E6%8D%AE%E7%AB%9E%E4%BA%89(data-race-free)%E7%9A%84%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E3%80%82%3C/p%3E%3Ch2%20id=%22The-Need-of-Lifetime-Specifiers-for-Returned-References%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#The-Need-of-Lifetime-Specifiers-for-Returned-References%22%3E%C2%B6%3C/a%3EThe%20Need%20of%20Lifetime%20Specifiers%20for%20Returned%20References%3C/h2%3E%3Cp%3E%E5%85%88%E7%9C%8B%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E11u8%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eresult%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E33u8%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Eresult%20=%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_x1%3C/span%3E:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;%20=%20&amp;amp;v1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_x2%3C/span%3E:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;%20=%20&amp;amp;v2;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_x1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20*result);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E5%B0%86%E4%BC%9A%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9C%3Ccode%3E[11,%2022]%3C/code%3E%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E5%8F%98%E9%87%8F%3Ccode%3Ev1%3C/code%3E%E5%92%8C%3Ccode%3Ev2%3C/code%3E%E5%90%84%E8%87%AA%E6%8B%A5%E6%9C%89vector%E3%80%82%E6%8E%A5%E7%9D%80%E8%A2%AB%E4%B8%A4%E4%B8%AA%E5%BC%95%E7%94%A8borrowed%E4%BA%86%EF%BC%8C%E5%88%86%E5%88%AB%E8%A2%AB%3Ccode%3E_x1%3C/code%3E%E5%92%8C%3Ccode%3E_x2%3C/code%3E%E6%8B%A5%E6%9C%89%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%9C%A8%E7%AC%AC7%E8%A1%8C%E5%90%8E%EF%BC%8C%3Ccode%3E_x1%3C/code%3E%E7%A7%9F%E5%80%9F%E4%BA%86%E5%8F%98%E9%87%8F%3Ccode%3Ev1%3C/code%3E%E6%8B%A5%E6%9C%89%E7%9A%84vector%EF%BC%8C%3Ccode%3E_x2%3C/code%3E%E7%A7%9F%E5%80%9F%E4%BA%86%E5%8F%98%E9%87%8F%3Ccode%3Ev2%3C/code%3E%E6%8B%A5%E6%9C%89%E7%9A%84vector%E3%80%82%E8%BF%99%E6%98%AF%E8%A2%AB%E5%85%81%E8%AE%B8%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%3Ccode%3E_x1%3C/code%3E%E5%9C%A8%3Ccode%3Ev1%3C/code%3E%E4%B9%8B%E5%90%8E%E5%A3%B0%E6%98%8E%EF%BC%8C%3Ccode%3E_x2%3C/code%3E%E5%9C%A8%3Ccode%3Ev2%3C/code%3E%E4%B9%8B%E5%90%8E%E5%A3%B0%E6%98%8E%EF%BC%8C%E8%BF%99%E4%BA%9B%E5%BC%95%E7%94%A8%E6%AF%94%E5%AE%83%E4%BB%AC%E7%A7%9F%E5%80%9F%E5%AF%B9%E8%B1%A1%E5%AD%98%E6%B4%BB%E6%97%B6%E9%97%B4%E7%9F%AD%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E7%AC%AC%E5%85%AB%E8%A1%8C%EF%BC%8C%E6%9C%89%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F%3Ccode%3E_x1%3C/code%3E%E3%80%82%E5%9B%A0%E4%B8%BA%E5%AE%83%E6%98%AF%E8%AF%AD%E5%8F%A5%E5%9D%97%E7%9A%84%E6%9C%80%E5%90%8E%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E8%AF%A5%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%80%BC%E6%88%90%E4%B8%BA%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%80%BC%EF%BC%8C%E5%9B%A0%E6%AD%A4%E8%AF%A5%E5%80%BC%E8%A2%AB%E7%94%A8%E6%9D%A5%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%98%E9%87%8F%3Ccode%3Eresult%3C/code%3E%E3%80%82%E8%AF%A5%E5%80%BC%E6%98%AF%E4%B8%80%E4%B8%AA%E6%8C%87%E5%90%91%3Ccode%3Ev1%3C/code%3E%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%8C%3Ccode%3Eresult%3C/code%3E%E5%8F%98%E9%87%8F%E7%A7%9F%E5%80%9F%E4%BA%86vector%E3%80%82%E8%BF%99%E6%98%AF%E8%A2%AB%E5%85%81%E8%AE%B8%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%3Ccode%3Eresult%3C/code%3E%E7%9A%84%E5%A3%B0%E6%98%8E%E5%9C%A8%3Ccode%3Ev1%3C/code%3E%E4%B9%8B%E5%90%8E%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%8F%AF%E4%BB%A5%E7%A7%9F%E5%80%9F%3Ccode%3Ev1%3C/code%3E%E6%8B%A5%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E7%8E%B0%E5%9C%A8%EF%BC%8C%E5%B0%8F%E5%B0%8F%E7%9A%84%E6%94%B9%E5%8A%A8%EF%BC%9A%E5%9C%A8%E7%AC%AC%E5%85%AB%E8%A1%8C%E6%9B%BF%E6%8D%A2&amp;quot;1&amp;quot;%E5%92%8C&amp;quot;2&amp;quot;%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E11u8%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eresult%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E33u8%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20result%20=%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_x1%3C/span%3E:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;%20=%20&amp;amp;v1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_x2%3C/span%3E:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;%20=%20&amp;amp;v2;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20_x2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20*result);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E4%BC%9A%E4%BA%A7%E7%94%9F%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%9A%E2%80%9C%3Ccode%3Ev2%3C/code%3E%20does%20not%20live%20long%20enough%E2%80%9D%E3%80%82%E5%9B%A0%E4%B8%BA%3Ccode%3Eresult%3C/code%3E%E7%9A%84%E5%80%BC%E6%9D%A5%E8%87%AA%E4%BA%8E%3Ccode%3E_x2%3C/code%3E%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E7%94%B1%E4%BA%8E%3Ccode%3E_x2%3C/code%3E%E7%A7%9F%E5%80%9F%E4%BA%86%3Ccode%3Ev2%3C/code%3E%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%89%80%E4%BB%A5%3Ccode%3Eresult%3C/code%3E%E7%A7%9F%E5%80%9F%E4%BA%86vector%E3%80%82%E5%9B%A0%E4%B8%BA%3Ccode%3Eresult%3C/code%3E%E5%9C%A8%3Ccode%3Ev2%3C/code%3E%E4%B9%8B%E5%89%8D%E5%A3%B0%E6%98%8E%EF%BC%8C%E5%9B%A0%E6%AD%A4%E4%B8%8D%E8%83%BD%E7%A7%9F%E5%80%9F%E5%AE%83%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3ERust%E7%BC%96%E8%AF%91%E5%99%A8%E8%87%B4%E5%8A%9B%E4%BA%8E%E8%BF%99%E7%A7%8D%E6%8E%A8%E7%90%86%E7%9A%84%E9%83%A8%E5%88%86%E7%A7%B0%E4%BD%9C%E2%80%9C%E7%A7%9F%E5%80%9F%E6%A3%80%E6%9F%A5%EF%BC%8C%3Cstrong%3Eborrow%20checker%3C/strong%3E%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E7%8E%B0%E5%9C%A8%EF%BC%8C%E8%AE%A9%E6%88%91%E4%BB%AC%E5%B0%9D%E8%AF%95%E8%BD%AC%E6%8D%A2%E5%89%8D%E9%9D%A2%E4%B8%A4%E4%B8%AA%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%B0%86%E5%86%85%E9%83%A8%E8%AF%AD%E5%8F%A5%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E3%80%82%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%98%E4%B8%BA%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E118%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eresult%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E33u8%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efunc%3C/span%3E(_x1:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;,%20_x2:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20_x1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20result%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Efunc%3C/span%3E(&amp;amp;v1,%20&amp;amp;v2);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20*result);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%8F%98%E4%B8%BA%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E11u8%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eresult%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E33u8%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efunc%3C/span%3E(_x1:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;,%20_x2:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20_x2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20result%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Efunc%3C/span%3E(&amp;amp;v1,%20&amp;amp;v2);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20*result);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%A4%E8%80%85%E5%94%AF%E4%B8%80%E4%B8%8D%E5%90%8C%E7%9A%84%E6%98%AF%3Ccode%3Efunc%3C/code%3E%E5%87%BD%E6%95%B0%E4%BD%93%E3%80%82%3C/p%3E%3Cp%3E%E6%A0%B9%E6%8D%AE%E4%B9%8B%E5%89%8D%E7%9A%84%E8%A7%84%E5%88%99%EF%BC%8C%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F%E7%9C%8B%E8%B5%B7%E6%9D%A5%E6%98%AF%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E4%B8%8D%E5%90%88%E6%B3%95%E3%80%82%E4%B8%A4%E4%B8%AA%3Ccode%3Efunc%3C/code%3E%E5%87%BD%E6%95%B0%E6%9C%AC%E8%BA%AB%E6%98%AF%E5%90%88%E6%B3%95%E7%9A%84%E3%80%82%E4%BD%86borrow%20checker%E4%BC%9A%E6%9F%A5%E6%89%BE%E5%AE%83%E4%BB%AC%E4%B8%8D%E5%85%BC%E5%AE%B9%E7%9A%84%E5%85%B7%E4%BD%93%E7%94%A8%E6%B3%95%E3%80%82%3C/p%3E%3Cp%3E%E6%B3%9B%E5%9E%8B%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0%E8%BE%B9%E7%95%8C%E4%BD%BF%E7%94%A8traits%EF%BC%8C%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E6%98%AF%E5%90%A6%E6%9C%89%E6%95%88%EF%BC%8C%E4%BE%9D%E6%8D%AE%E8%AF%A5%E5%87%BD%E6%95%B0%E4%BD%93%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%8C%E8%BF%99%E4%B8%8D%E6%98%AF%E5%A5%BD%E4%BA%8B%E3%80%82%E4%B8%BB%E8%A6%81%E6%98%AF%E5%9B%A0%E4%B8%BA%E4%B8%8D%E8%83%BD%E4%BB%8E%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF%E7%90%86%E8%A7%A3%E5%87%BA%E9%94%99%E7%9A%84%E5%8E%9F%E5%9B%A0%EF%BC%8C%E9%99%A4%E9%9D%9E%E4%BD%A0%E6%B8%85%E6%A5%9A%E5%87%BD%E6%95%B0%E4%BD%93%E7%9A%84%E5%86%85%E9%83%A8%E4%BB%A3%E7%A0%81%E3%80%82%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%8E%9F%E5%9B%A0%E6%98%AF%EF%BC%8C%E5%87%BD%E6%95%B0%E8%A2%AB%E8%B0%83%E7%94%A8%E6%97%B6%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%AF%A5%E5%87%BD%E6%95%B0%E4%BD%93%E5%86%85%E4%BB%BB%E6%84%8F%E8%B0%83%E7%94%A8%E4%BA%86%E5%85%B6%E5%AE%83%E5%87%BD%E6%95%B0%EF%BC%8C%E7%A1%AE%E4%BF%9D%3Ccode%3Emain%3C/code%3E%E5%87%BD%E6%95%B0%E6%98%AF%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8Cborrow%20checker%E9%9C%80%E8%A6%81%E5%88%86%E6%9E%90%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%89%80%E6%9C%89%E5%87%BD%E6%95%B0%E3%80%82%E8%BF%99%E7%A7%8D%E6%95%B4%E4%B8%AA%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%88%86%E6%9E%90%E5%B8%A6%E6%9D%A5%E4%BA%86%E8%BF%87%E5%BA%A6%E7%9A%84%E5%A4%8D%E6%9D%82%E3%80%82%3C/p%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8C%E7%B1%BB%E4%BC%BC%E4%BA%8E%E6%B3%9B%E5%9E%8B%E5%87%BD%E6%95%B0%EF%BC%8C%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%BC%95%E7%94%A8%E7%9A%84%E5%87%BD%E6%95%B0%EF%BC%8C%E5%BF%85%E9%A1%BB%E5%9C%A8%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E9%98%88%E5%B0%86borrow-checking%E9%9A%94%E7%A6%BB%EF%BC%81%E5%87%BD%E6%95%B0%E7%9A%84borrow-check%EF%BC%8C%E4%BB%85%E8%80%83%E8%99%91%E7%AD%BE%E5%90%8D%EF%BC%8C%E5%87%BD%E6%95%B0%E4%BD%93%EF%BC%8C%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E7%9A%84%E7%AD%BE%E5%90%8D%EF%BC%8C%E8%80%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E8%80%83%E8%99%91%E5%87%BD%E6%95%B0%E4%BD%93%E8%B0%83%E7%94%A8%E5%85%B6%E5%AE%83%E5%87%BD%E6%95%B0%E3%80%82%3C/p%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%89%8D%E9%9D%A2%E7%9A%84%E4%B8%A4%E4%B8%AA%E7%A8%8B%E5%BA%8F%E9%83%BD%E4%BC%9A%E5%87%BA%E7%8E%B0%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%9A%E2%80%9Cmissing%20lifetime%20specifier%E2%80%9D%E3%80%82%E2%80%9C%E5%A3%B0%E6%98%8E%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%EF%BC%8C%3Cstrong%3Elifetime%20specifier%3C/strong%3E%E2%80%9D%E6%98%AF%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E7%9A%84%E4%B8%80%E4%B8%AA%E8%A3%85%E9%A5%B0%EF%BC%8C%E5%AE%83%E5%85%81%E8%AE%B8borrow%20checker%E5%AF%B9%E5%87%BD%E6%95%B0%E4%BD%93%E5%92%8C%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%88%86%E7%A6%BB%E6%A3%80%E6%9F%A5%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8D%E7%AE%A1%E6%80%8E%E6%A0%B7%EF%BC%8C%E5%87%BD%E6%95%B0%E6%88%96%E8%AF%AD%E5%8F%A5%E4%BD%93%E7%9A%84%E7%A7%9F%E5%80%9F%E8%A1%8C%E4%B8%BA%E5%BA%94%E8%AF%A5%E6%98%AF%E2%80%9C%E5%88%B0%E6%AD%A4%E4%B8%BA%E6%AD%A2%E2%80%9D%EF%BC%8C%E4%B8%8D%E5%BA%94%E8%AF%A5%E5%86%8D%E5%B0%86%E5%AE%83%E8%BF%9B%E4%B8%80%E6%AD%A5%E4%BC%A0%E9%80%92%E7%BB%99%E5%85%B6%E5%AE%83%E5%87%BD%E6%95%B0%E6%88%96%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E4%BB%A5%E9%81%BF%E5%85%8D%E5%B8%A6%E6%9D%A5%E4%B8%8D%E5%BF%85%E8%A6%81%E7%9A%84%E5%89%AF%E4%BD%9C%E7%94%A8%EF%BC%8C%E6%9C%AA%E7%9F%A5%E7%9A%84%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF%E3%80%82%3C/p%3E%3Ch2%20id=%22Usage-and-Meaning-of-Lifetime-Specifiers%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Usage-and-Meaning-of-Lifetime-Specifiers%22%3E%C2%B6%3C/a%3EUsage%20and%20Meaning%20of%20Lifetime%20Specifiers%3C/h2%3E%3Cp%3E%E8%AE%A8%E8%AE%BA%E5%88%B0%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%8C%E4%B8%8B%E9%9D%A2%E6%98%AF%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efunc%3C/span%3E(v1:%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu32%3C/span%3E&amp;gt;,%20v2:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Ebool%3C/span%3E&amp;gt;)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es%3C/span%3E%20=%20%3Cspan%20class=%22string%22%3E&amp;quot;Hello&amp;quot;%3C/span%3E.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eto_string%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%9C%A8%E4%BB%BB%E4%BD%95Rust%E5%87%BD%E6%95%B0%E5%86%85%EF%BC%8C%E4%BB%85%E5%8F%AF%E4%BB%A5%E5%8F%82%E8%80%83%E7%9A%84%E6%9C%89%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E6%8B%A5%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1(%3Ccode%3Ev1%3C/code%3E%E6%8B%A5%E6%9C%89%E7%9A%84vector)%EF%BC%9B%3C/li%3E%3Cli%3E%E6%9C%AC%E5%9C%B0%E5%8F%98%E9%87%8F%E6%8B%A5%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1(%3Ccode%3Es%3C/code%3E%E6%8B%A5%E6%9C%89%E7%9A%84%E5%8A%A8%E6%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2)%EF%BC%9B%3C/li%3E%3Cli%3E%E4%B8%B4%E6%97%B6%E5%AF%B9%E8%B1%A1(%E5%8A%A8%E6%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A1%A8%E8%BE%BE%E5%BC%8F%3Ccode%3E&amp;quot;Hello&amp;quot;.to_string()%3C/code%3E)%EF%BC%9B%3C/li%3E%3Cli%3E%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1(%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AD%97%E9%9D%A2%E9%87%8F%3Ccode%3E&amp;quot;Hello&amp;quot;%3C/code%3E)%EF%BC%9B%3C/li%3E%3Cli%3E%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%A7%9F%E5%80%9F%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E7%94%B1%E9%A2%84%E5%85%88%E5%AD%98%E5%9C%A8%E7%9A%84%E6%9F%90%E4%BA%9B%E5%8F%98%E9%87%8F%E6%8B%A5%E6%9C%89%EF%BC%8C%E5%8F%91%E7%94%9F%E5%9C%A8%E5%BD%93%E5%89%8D%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%A4%84(%3Ccode%3Ev2%3C/code%3E%E7%A7%9F%E5%80%9F%E8%BF%87%E6%9D%A5%E7%9A%84%E5%AF%B9%E8%B1%A1)%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E5%BD%93%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%BC%95%E7%94%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8D%E8%83%BD%E6%8E%A8%E6%96%AD%E6%98%AF%E7%94%B1%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E6%8B%A5%E6%9C%89%EF%BC%8C%E8%BF%98%E6%98%AF%E7%94%B1%E6%9C%AC%E5%9C%B0%E5%8F%98%E9%87%8F%E6%8B%A5%E6%9C%89%EF%BC%8C%E8%BF%98%E6%98%AF%E7%94%B1%E4%B8%B4%E6%97%B6%E5%AF%B9%E8%B1%A1%E6%8B%A5%E6%9C%89%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%BD%93%E5%87%BD%E6%95%B0return%E6%97%B6%EF%BC%8C%E6%9C%AC%E5%9C%B0%E5%8F%98%E9%87%8F%EF%BC%8C%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%EF%BC%8C%E4%B8%B4%E6%97%B6%E5%8F%98%E9%87%8F%E9%83%BD%E4%BC%9A%E8%A2%AB%E9%94%80%E6%AF%81%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%BC%95%E7%94%A8%E5%B0%86%E8%A2%AB%E6%82%AC%E6%8C%82%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%BC%95%E7%94%A8%E5%8D%B4%E5%8F%AF%E4%BB%A5%E6%8E%A8%E6%96%AD%E5%BE%97%E7%9F%A5%E6%98%AF%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%88%96%E6%98%AF%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%A7%9F%E5%80%9F%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AF%E8%BF%99%E4%B8%A4%E7%A7%8D%E6%83%85%E5%86%B5%E7%9A%84%E4%B8%AD%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%83%85%E5%86%B5%E7%9A%84%E7%A4%BA%E4%BE%8B(%E5%B0%BD%E7%AE%A1%E4%BB%A3%E7%A0%81%E5%9C%A8Rust%E4%B8%8D%E8%A2%AB%E5%85%81%E8%AE%B8)%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efunc%3C/span%3E()%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22type%22%3Estr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22string%22%3E&amp;quot;Hello&amp;quot;%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efunc%3C/span%3E(v:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;amp;v[%3Cspan%20class=%22number%22%3E3%3C/span%3E]%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3Eborrow%20checker%E4%BB%85%E5%AF%B9%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E5%BC%95%E7%94%A8%E6%84%9F%E5%85%B4%E8%B6%A3%EF%BC%8C%E8%AF%A5%E5%BC%95%E7%94%A8%E6%9C%89%E4%B8%A4%E7%A7%8D%EF%BC%9A%E6%8C%87%E5%90%91%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%88%96%E6%8E%A5%E6%94%B6%E7%9A%84%E5%8F%82%E6%95%B0%E7%9A%84%E7%A7%9F%E5%80%9F%E5%AF%B9%E8%B1%A1%E3%80%82borrow%20checker%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E5%93%AA%E4%BA%9B%E5%BC%95%E7%94%A8%E6%98%AF%E6%8C%87%E5%90%91%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%93%AA%E4%BA%9B%E6%98%AF%E7%A7%9F%E5%80%9F%E7%9A%84%E5%8F%82%E6%95%B0%E5%AF%B9%E8%B1%A1%EF%BC%9B%E5%A6%82%E6%9E%9C%E6%9C%89%E5%87%A0%E4%B8%AA%E5%8F%82%E6%95%B0%E7%A7%9F%E5%80%9F%E5%AF%B9%E8%B1%A1%EF%BC%8C%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E5%AE%83%E4%BB%AC%E4%B8%AD%E5%93%AA%E4%BA%9B%E7%A7%9F%E5%80%9F%E4%BA%86%E9%9D%9E%E9%9D%99%E6%80%81%E8%BF%94%E5%9B%9E%E7%9A%84%E5%BC%95%E7%94%A8%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8D%E5%B8%A6lifetime%20specifer%E7%9A%84%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E(flag:%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20b:%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20c:%20(%3Cspan%20class=%22type%22%3Echar%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E))%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E5%8F%82%E6%95%B0%E4%B8%AD%E6%9C%89%E4%B8%A4%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B9%9F%E5%8C%85%E5%90%AB%E6%9C%89%E4%B8%A4%E4%B8%AA%E5%BC%95%E7%94%A8%E3%80%82%E5%90%8E%E4%B8%A4%E4%B8%AA%E5%BC%95%E7%94%A8%E5%8F%AF%E8%83%BD%E6%8C%87%E5%90%91%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%88%96%E8%80%85%E5%8F%82%E6%95%B0%3Ccode%3Eb%3C/code%3E%E7%9A%84%E7%A7%9F%E5%80%9F%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%88%96%E8%80%85%E5%8F%82%E6%95%B0%3Ccode%3Ec%3C/code%3E%E7%9A%84%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%9A%84%E7%A7%9F%E5%80%9F%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8C%87%E5%AE%9A%E4%BA%86%E4%B8%80%E7%A7%8D%E5%8F%AF%E8%83%BD%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(flag:%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20b:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20c:%20(%3Cspan%20class=%22type%22%3Echar%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E))%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%92%8C%E6%B3%9B%E5%9E%8B%E5%87%BD%E6%95%B0%E7%94%A8%E6%B3%95%E4%B8%80%E6%A0%B7%EF%BC%8C%E5%9C%A8%E5%87%BD%E6%95%B0%E5%90%8D%E5%90%8E%E9%9D%A2%EF%BC%8C%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%E3%80%82%E5%A6%82%E5%85%B6%E8%AF%B4%E6%98%AF%E4%B8%80%E4%B8%AA%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%EF%BC%8C%E5%AE%9E%E9%99%85%E4%B8%8A%E5%AE%83%E6%98%AF%E4%B8%80%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8(lifetime%20specifier)%E3%80%82%3C/p%3E%3Cp%3E%E4%BB%8E%E5%8F%A5%3Ccode%3E&amp;lt;&#39;a&amp;gt;%3C/code%3E%E6%98%AF%E4%B8%80%E4%B8%AA%E5%A3%B0%E6%98%8E%E3%80%82%E5%AE%83%E8%A1%A8%E7%A4%BA%EF%BC%9A%3Ccode%3E&amp;lt;&amp;lt;In%20this%20function%20signature,%20a%20lifetime%20specifier%20is%20used;%20its%20name%20is%20&amp;quot;a&amp;quot;&amp;gt;&amp;gt;%3C/code%3E%E3%80%82%E5%90%8D%E5%AD%97&amp;quot;a&amp;quot;%E6%98%AF%E4%BB%BB%E6%84%8F%E7%9A%84%E3%80%82%E5%AE%83%E7%AE%80%E5%8D%95%E8%A1%A8%E7%A4%BA%E6%89%80%E6%9C%89%E5%87%BA%E7%8E%B0%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%8C%E2%80%9C%E5%8C%B9%E9%85%8D%E2%80%9D%E8%BF%99%E7%A7%8D%E5%87%BA%E7%8E%B0%E3%80%82%E5%AE%83%E7%B1%BB%E4%BC%BC%E6%B3%9B%E5%9E%8B%E5%87%BD%E6%95%B0%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E5%9C%B0%E6%96%B9%E5%9C%A8%E4%BA%8E%EF%BC%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E5%89%8D%E7%BC%80%E4%BD%BF%E7%94%A8%E5%8D%95%E5%BC%95%E5%8F%B7%EF%BC%8C%E5%8F%A6%E5%A4%96%EF%BC%8C%E6%8C%89%E7%85%A7%E7%BA%A6%E5%AE%9A%EF%BC%8C%E6%B3%9B%E5%9E%8B%E5%8F%82%E6%95%B0%E9%A6%96%E5%AD%97%E6%AF%8D%E4%BD%BF%E7%94%A8%E5%A4%A7%E5%86%99%EF%BC%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E5%B0%8F%E5%86%99%E5%AD%97%E6%AF%8D%EF%BC%8C%E5%A6%82a%EF%BC%8Cb%EF%BC%8Cc%EF%BC%8C%E2%80%A6%E3%80%82%3C/p%3E%3Cp%3E%E7%84%B6%E5%90%8E%EF%BC%8C%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E5%8C%85%E5%90%AB%E5%85%B6%E5%AE%83%E4%B8%89%E4%B8%AA%3Ccode%3E&#39;a%3C/code%3E%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E7%9A%84%E5%87%BA%E7%8E%B0%EF%BC%8C%3Ccode%3Eb%3C/code%3E%E5%8F%82%E6%95%B0%E7%9A%84%E7%B1%BB%E5%9E%8B%E3%80%81%3Ccode%3Ec%3C/code%3E%E5%8F%82%E6%95%B0%E7%9A%84%E7%AC%AC%E4%BA%8C%E5%AD%97%E6%AE%B5%E7%9A%84%E7%B1%BB%E5%9E%8B%E3%80%81%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%9A%84%E7%B1%BB%E5%9E%8B%E3%80%82%E7%9B%B8%E5%8F%8D%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B%E7%94%A8%E4%BA%86%3Ccode%3Estatic%3C/code%3E%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%A0%87%E8%AF%86%E3%80%82%3C/p%3E%3Cp%3E%E8%AF%A5%3Ccode%3Ea%3C/code%3E%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E7%9A%84%E7%94%A8%E6%B3%95%E8%A1%A8%E7%A4%BA%EF%BC%9A%E2%80%9C%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%A7%9F%E5%80%9F%E5%B7%B2%E5%AD%98%E5%9C%A8%E7%9A%84%3Ccode%3Eb%3C/code%3E%E5%8F%82%E6%95%B0%E5%92%8C%3Ccode%3Ec%3C/code%3E%E5%8F%82%E6%95%B0%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%AE%83%E5%AD%98%E6%B4%BB%E6%AF%94%E8%AF%A5%E5%AF%B9%E8%B1%A1%E8%A6%81%E7%9F%AD%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%3Ccode%3Estatic%3C/code%3E%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E7%9A%84%E7%94%A8%E6%B3%95%E8%A1%A8%E7%A4%BA%EF%BC%9A%E2%80%9C%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%AD%97%E6%AE%B5%E6%8C%87%E5%90%91%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%AE%83%E5%8F%AF%E4%BB%A5%E5%AD%98%E6%B4%BB%E5%9C%A8%E4%BB%BB%E4%BD%95%E6%97%B6%E9%97%B4%EF%BC%8C%E7%94%9A%E8%87%B3%E5%92%8C%E6%95%B4%E4%B8%AA%E8%BF%9B%E7%A8%8B%E4%B8%80%E6%A0%B7%E9%95%BF%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E5%BD%93%E7%84%B6%EF%BC%8C%E8%BF%99%E4%BB%85%E6%98%AF%E4%B8%80%E7%A7%8D%E5%8F%AF%E8%83%BD%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B3%A8%E8%A7%A3%EF%BC%8C%E4%B8%8B%E9%9D%A2%E6%98%AF%E5%8F%A6%E4%B8%80%E7%A7%8D%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(flag:%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20b:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20c:%20(%3Cspan%20class=%22type%22%3Echar%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E))%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ccode%3Ec%3C/code%3E%E5%8F%82%E6%95%B0%E4%B8%8D%E5%B8%A6%E6%B3%A8%E8%A7%A3%EF%BC%8C%E5%BC%95%E7%94%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8D%E7%A7%9F%E5%80%9F%E7%BB%99%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%8C%3C/p%3E%3Cp%3E%E8%BF%98%E6%9C%89%E5%8F%A6%E4%B8%80%E7%A7%8D%E5%8F%AF%E8%83%BD%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B3%A8%E8%A7%A3%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Etrait%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ETr%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E,%20%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E,%20T1,%20T2&amp;gt;(flag:%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20b:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20T1,%20c:%20(%3Cspan%20class=%22type%22%3Echar%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E))%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20T2);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%B3%9B%E5%9E%8B%E5%87%BD%E6%95%B0%E6%9C%89%E4%B8%A4%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E5%92%8C%E4%B8%A4%E4%B8%AA%E6%B3%9B%E5%9E%8B%E5%8F%82%E6%95%B0%E3%80%82%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%8F%82%E6%95%B0%3Ccode%3Ea%3C/code%3E%E6%8C%87%E5%AE%9A%E4%BA%86%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%A7%9F%E5%80%9F%E4%BA%86%E5%8F%82%E6%95%B0%3Ccode%3Eb%3C/code%3E%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%BB%A5%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%8F%82%E6%95%B0%3Ccode%3Eb%3C/code%3E%E6%8C%87%E5%AE%9A%E4%BA%86%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%A7%9F%E5%80%9F%E4%BA%86%E5%8F%82%E6%95%B0%3Ccode%3Ec%3C/code%3E%E7%9A%84%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%E5%8F%A6%E5%A4%96%EF%BC%8C%E5%87%BD%E6%95%B0%E6%9C%89%E4%B8%A4%E4%B8%AA%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%3Ccode%3ET1%3C/code%3E%E5%92%8C%3Ccode%3ET2%3C/code%3E%EF%BC%8C%E4%B8%8D%E5%B8%A6trait%E8%BE%B9%E7%95%8C%E3%80%82%3C/p%3E%3Ch2%20id=%22Checking-the-Validity-of-Lifetime-Specifiers%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Checking-the-Validity-of-Lifetime-Specifiers%22%3E%C2%B6%3C/a%3EChecking%20the%20Validity%20of%20Lifetime%20Specifiers%3C/h2%3E%3Cp%3E%E7%BC%96%E8%AF%91%E4%BB%BB%E4%BD%95%E5%87%BD%E6%95%B0%E6%97%B6%EF%BC%8Cborrow%20checker%E6%9C%89%E4%B8%A4%E4%B8%AA%E5%B7%A5%E4%BD%9C%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E9%80%9A%E8%BF%87%E5%87%BD%E6%95%B0%E8%87%AA%E8%BA%AB%E5%92%8C%E5%87%BD%E6%95%B0%E4%BD%93%EF%BC%8C%E6%A3%80%E6%9F%A5%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E6%98%AF%E5%90%A6%E6%9C%89%E6%95%88%E3%80%82%3C/li%3E%3Cli%3E%E6%A3%80%E6%9F%A5%E5%87%BD%E6%95%B0%E4%BD%93%E6%98%AF%E5%90%A6%E5%90%88%E6%B3%95%EF%BC%8C%E7%BB%9F%E8%AE%A1%E8%AF%A5%E5%87%BD%E6%95%B0%E8%A2%AB%E8%B0%83%E7%94%A8%E6%AC%A1%E6%95%B0%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E6%9C%AC%E5%B0%8F%E8%8A%82%EF%BC%8C%E5%85%88%E7%9C%8B%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%83%85%E5%86%B5%E3%80%82%3C/p%3E%3Cp%3E%E5%A6%82%E6%9E%9C%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E6%B2%A1%E6%9C%89%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%EF%BC%8Cborrow%20checker%E4%B8%8D%E5%81%9A%E4%BB%BB%E4%BD%95%E5%A4%84%E7%90%86%E3%80%82%3C/p%3E%3Cp%3E%E5%90%A6%E5%88%99%EF%BC%8C%E6%AF%8F%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC%E5%BC%95%E7%94%A8%EF%BC%8C%E5%BF%85%E9%A1%BB%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E6%9C%89%E6%AD%A3%E7%A1%AE%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8(lifetime%20specifier)%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E6%A0%B7%E4%B8%80%E4%B8%AA%E6%8C%87%E7%A4%BA%E5%99%A8(specifier)%E5%8F%AF%E4%BB%A5%E6%98%AF%E2%80%9C%3Ccode%3E&#39;static%3C/code%3E%E2%80%9D%E3%80%82%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%8C%E5%BC%95%E7%94%A8%E5%BF%85%E9%A1%BB%E6%8C%87%E5%90%91%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20FOUR:%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E4%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E()%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3Estr%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20(%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%20&amp;amp;FOUR,%20%3Cspan%20class=%22string%22%3E&amp;quot;Hello&amp;quot;%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22number%22%3E3.14%3C/span%3E)%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E().%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20*%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E().%3Cspan%20class=%22number%22%3E1%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E().%3Cspan%20class=%22number%22%3E2%3C/span%3E,%20*%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E().%3Cspan%20class=%22number%22%3E3%3C/span%3E);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E5%B0%86%E4%BC%9A%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C%3Ccode%3Etrue%204%20Hello%203.14%3C/code%3E%E2%80%9D%E3%80%82%E8%AF%A5%E7%A8%8B%E5%BA%8F%E6%98%AF%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E4%B8%89%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E5%BC%95%E7%94%A8%E9%83%BD%E6%98%AF%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E4%B8%8B%E9%9D%A2%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E(n:%20&amp;amp;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;static%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3En%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20*%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E(&amp;amp;%3Cspan%20class=%22number%22%3E12%3C/span%3E));%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%B0%86%E4%BC%9A%E7%94%9F%E6%88%90%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%9A%E2%80%9Clifetime%20of%20reference%20outlives%20lifetime%20of%20borrowed%20content%E2%80%A6%E2%80%9D%E3%80%82%E8%BF%99%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%8D%E6%98%AF%E4%B8%80%E4%B8%AA%E6%8C%87%E5%90%91%E9%9D%99%E6%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%9B%E5%AE%83%E5%AE%9E%E9%99%85%E4%B8%8A%E6%98%AF%E6%8E%A5%E6%94%B6%E5%8F%82%E6%95%B0%E7%9A%84%E5%80%BC%EF%BC%8C%E8%AF%A5%E8%BF%94%E5%9B%9E%E5%80%BC%E7%A7%9F%E5%80%9F%E4%BA%86%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E5%BC%95%E7%94%A8%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%90%8C%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E5%8F%AF%E4%BB%A5%E5%AE%9A%E4%B9%89%E6%88%90%E5%88%97%E8%A1%A8%E7%9A%84%E5%BD%A2%E5%BC%8F%EF%BC%8C%E5%A6%82%E4%B8%8B%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E,%20%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E&amp;gt;(x:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20y:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E(y,%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%20x)%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ej%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Er%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E(&amp;amp;i,%20&amp;amp;j);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20*r.%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20r.%3Cspan%20class=%22number%22%3E1%3C/span%3E,%20*r.%3Cspan%20class=%22number%22%3E2%3C/span%3E);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E5%B0%86%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C13%20true%2012%E2%80%9D%E3%80%82%E8%BF%99%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BAtuple%E4%B8%AD%E8%BF%94%E5%9B%9E%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E5%BC%95%E7%94%A8%E7%9A%84%E6%97%B6%3Ccode%3Ey%3C/code%3E%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%80%BC%EF%BC%8C%E4%BB%A5%3Ccode%3Ey%3C/code%3E%E5%8F%82%E6%95%B0%E5%92%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E6%9C%89%E5%90%8C%E6%A0%B7%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8(lifetime%20specifier)%EF%BC%9B%E5%AE%83%E4%BB%AC%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%E9%83%BD%E6%98%AF%3Ccode%3E&#39;b%3C/code%3E%E3%80%82%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%AD%97%E6%AE%B5%E5%92%8C%E5%8F%82%E6%95%B0%3Ccode%3Ex%3C/code%3E%E4%B8%80%E6%A0%B7%E6%9C%89%E5%90%8C%E4%B8%80%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%3Ccode%3E&#39;a%3C/code%3E%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E4%B8%8B%E9%9D%A2%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E,%20%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E&amp;gt;(x:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20y:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E(x,%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%20y)%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ej%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Er%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E(&amp;amp;i,%20&amp;amp;j);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20*r.%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20r.%3Cspan%20class=%22number%22%3E1%3C/span%3E,%20*r.%3Cspan%20class=%22number%22%3E2%3C/span%3E);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%BC%9A%E4%BA%A7%E7%94%9F%E4%B8%A4%E4%B8%AA%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%8C%E4%B8%A4%E4%B8%AA%E9%94%99%E8%AF%AF%E9%83%BD%E6%98%AF%EF%BC%9A%E2%80%9Clifetime%20mismatch%E2%80%9D%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E5%92%8C%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%AD%97%E6%AE%B5%E9%83%BD%E6%9C%89%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%EF%BC%8C%E4%BD%86%E4%B8%8D%E6%98%AF%E5%AF%B9%E5%BA%94%E5%AE%83%E4%BB%AC%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E3%80%82%3C/p%3E%3Cp%3E%E6%B3%A8%E6%84%8F%E5%88%B0%EF%BC%8C%E5%A4%9A%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%AD%97%E6%AE%B5%E5%8F%AF%E8%83%BD%E4%BB%85%E7%94%A8%E4%BA%86%E4%B8%80%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(x:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20y:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E(x,%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%20y)%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ej%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Er%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E(&amp;amp;i,%20&amp;amp;j);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20*r.%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20r.%3Cspan%20class=%22number%22%3E1%3C/span%3E,%20*r.%3Cspan%20class=%22number%22%3E2%3C/span%3E);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E9%87%8C%EF%BC%8C%3Ccode%3E&#39;b%3C/code%3E%E8%A2%AB%E6%9B%BF%E6%8D%A2%E4%B8%BA%3Ccode%3E&#39;a%3C/code%3E%E3%80%82%E4%BD%86%E5%91%B3%E9%81%93%E5%AE%8C%E5%85%A8%E4%B8%8D%E4%B8%80%E6%A0%B7%E3%80%82%3C/p%3E%3Cp%3E%E5%8E%9F%E6%9D%A5%E7%9A%84%E7%89%88%E6%9C%AC%E6%98%AF%EF%BC%8C%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%E6%8C%87%E7%A4%BA%E4%BA%86%E4%BC%9A%E6%9C%89%E4%B8%A4%E4%B8%AA%E7%8B%AC%E7%AB%8B%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%9B%E8%BF%99%E4%B8%AA%E7%89%88%E6%9C%AC%EF%BC%8C%E5%AE%83%E4%BB%AC%E5%85%B1%E4%BA%AB%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E4%B8%AA%E6%94%B9%E5%8A%A8%E5%AF%B9%E4%BA%8E%E7%A7%9F%E5%80%9F%E6%A3%80%E6%9F%A5%E5%99%A8(borrow%20checker)%E6%9D%A5%E8%AF%B4%E4%B8%8D%E7%AE%80%E5%8D%95%E3%80%82%E8%AE%A9%E6%88%91%E4%BB%AC%E8%80%83%E8%99%91%E4%B8%80%E4%B8%AA%E6%9B%B4%E5%A4%8D%E6%9D%82%E7%9A%84%E5%87%BD%E6%95%B0%E4%BD%93%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(n:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20x:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;,%20y:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20n%20==%20%3Cspan%20class=%22number%22%3E0%3C/span%3E%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20&amp;amp;x[%3Cspan%20class=%22number%22%3E0%3C/span%3E];%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20n%20&amp;lt;%20%3Cspan%20class=%22number%22%3E0%3C/span%3E%20&amp;#123;%20&amp;amp;x[%3Cspan%20class=%22number%22%3E1%3C/span%3E]%20&amp;#125;%20%3Cspan%20class=%22keyword%22%3Eelse%3C/span%3E%20&amp;#123;%20&amp;amp;x[%3Cspan%20class=%22number%22%3E2%3C/span%3E]%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%AF%A5%E5%87%BD%E6%95%B0%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%E3%80%82%E5%87%BD%E6%95%B0%E4%BD%93%E6%9C%89%E4%B8%89%E4%B8%AA%E5%8F%AF%E8%83%BD%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%8C%E6%89%80%E6%9C%89%E8%A1%A8%E8%BE%BE%E5%BC%8F%E9%83%BD%E7%A7%9F%E5%80%9F%E4%BA%86%E5%8F%82%E6%95%B0%3Ccode%3Ex%3C/code%3E%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%E8%BF%94%E5%9B%9E%E5%80%BC%E6%9C%89%E5%92%8C%E5%8F%82%E6%95%B0%E7%AD%89%E5%90%8C%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%8C%E6%89%80%E4%BB%A5%E6%BB%A1%E8%B6%B3borrow%20checker%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E4%B8%8B%E9%9D%A2%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(n:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20x:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;,%20y:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20n%20==%20%3Cspan%20class=%22number%22%3E0%3C/span%3E%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20&amp;amp;x[%3Cspan%20class=%22number%22%3E0%3C/span%3E];%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20n%20&amp;lt;%20%3Cspan%20class=%22number%22%3E0%3C/span%3E%20&amp;#123;%20&amp;amp;x[%3Cspan%20class=%22number%22%3E1%3C/span%3E]%20&amp;#125;%20%3Cspan%20class=%22keyword%22%3Eelse%3C/span%3E%20&amp;#123;%20&amp;amp;y[%3Cspan%20class=%22number%22%3E2%3C/span%3E]%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%80%E4%B8%AA%E5%8F%AF%E8%83%BD%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%8C%E4%BC%9A%E6%98%AF%E8%A1%A8%E8%BE%BE%E5%BC%8F%3Ccode%3E&amp;amp;y[2]%3C/code%3E%EF%BC%8C%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%A7%9F%E5%80%9F%E8%87%AA%3Ccode%3Ey%3C/code%3E%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%8F%82%E6%95%B0%E6%B2%A1%E6%9C%89%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%EF%BC%8C%E6%89%80%E4%BB%A5%E8%AF%A5%E4%BB%A3%E7%A0%81%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%E3%80%82%3C/p%3E%3Cp%3E%E5%8D%B3%E4%BD%BF%E4%B8%8B%E9%9D%A2%E4%BB%A3%E7%A0%81%E4%B9%9F%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(x:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;,%20y:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Eu8%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E%20&amp;#123;%20&amp;amp;x[%3Cspan%20class=%22number%22%3E0%3C/span%3E]%20&amp;#125;%20%3Cspan%20class=%22keyword%22%3Eelse%3C/span%3E%20&amp;#123;%20&amp;amp;y[%3Cspan%20class=%22number%22%3E0%3C/span%3E]%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%BD%93%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%86%E6%9E%90%E6%97%B6%EF%BC%8C%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%9A%E6%8E%A2%E6%B5%8B%E5%88%B0%3Ccode%3Ey%3C/code%3E%E4%BB%8E%E4%B8%8D%E8%A2%AB%E8%BF%94%E5%9B%9E%E5%80%BC%E7%A7%9F%E5%80%9F%EF%BC%9B%E4%BD%86borrow%20checker%E5%9D%9A%E6%8C%81%E5%9B%A0%E4%B8%BA%3Ccode%3E&amp;amp;y[0]%3C/code%3E%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8F%AF%E8%83%BD%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%8C%E6%89%80%E4%BB%A5%E8%AF%A5%E6%AE%B5%E7%A8%8B%E5%BA%8F%E8%A2%AB%E8%AE%A4%E4%B8%BA%E6%98%AF%E6%97%A0%E6%95%88%E7%9A%84%E3%80%82%3C/p%3E%3Ch2%20id=%22Using-the-Lifetime-Specifiers-of-Invoked-Functions%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Using-the-Lifetime-Specifiers-of-Invoked-Functions%22%3E%C2%B6%3C/a%3EUsing%20the%20Lifetime%20Specifiers%20of%20Invoked%20Functions%3C/h2%3E%3Cp%3E%E4%B8%8A%E4%B8%80%E7%AB%A0%E8%8A%82%E7%9A%84%E5%BC%80%E5%A7%8B%E9%83%A8%E5%88%86%E8%AF%B4%E8%BF%87%EF%BC%8Cborrow%20checker%E6%9C%89%E4%B8%A4%E9%A1%B9%E5%B7%A5%E4%BD%9C%EF%BC%8C%E7%BC%96%E8%AF%91%E5%87%BD%E6%95%B0%E6%97%B6%E8%BF%9B%E8%A1%8C%E6%A3%80%E6%9F%A5%E5%87%BD%E6%95%B0%E4%BD%93%E6%98%AF%E5%90%A6%E6%9C%89%E6%95%88%EF%BC%8C%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0%E4%BD%93%E5%86%85%E4%BB%BB%E6%84%8F%E8%A2%AB%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%E7%9A%84%E7%AD%BE%E5%90%8D%E3%80%82%3C/p%3E%3Cp%3E%E6%B2%BF%E7%94%A8%E4%B8%8A%E4%B8%80%E8%8A%82%E7%9A%84%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B%E3%80%82%E6%A0%B9%E6%8D%AE%E7%A7%9F%E5%80%9F%E7%9A%84%E8%A7%84%E5%88%99%EF%BC%8C%E2%80%9Cmissing%20lifetime%20specifier%E2%80%9D%E8%A1%A8%E7%A4%BA%E7%BC%BA%E5%B0%91lifetime%20specifier%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B0%86%E5%8E%9F%E6%9D%A5%E7%9A%84%E5%8A%A0%E4%B8%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%87%E7%A4%BA%E5%99%A8%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E11u8%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eresult%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E33u8%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efunc%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(_x1:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;,%20_x2:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_x1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Eresult%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Efunc%3C/span%3E(&amp;amp;v1,%20&amp;amp;v2);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20*result);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%AC%AC%E4%BA%8C%E4%B8%AA%E4%BE%8B%E5%AD%90%E6%94%B9%E4%B8%BA%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E11u8%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eresult%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E33u8%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efunc%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(_x1:%20&amp;amp;%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;,%20_x2:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Eu8%3C/span%3E&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E_x2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Eresult%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Efunc%3C/span%3E(&amp;amp;v1,%20&amp;amp;v2);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20*result);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%EF%BC%8C%E7%BB%93%E6%9E%9C%E4%BC%9A%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C%3Ccode%3E[11,%2022]%3C/code%3E%E2%80%9D%EF%BC%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E4%BC%9A%E6%9C%89%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%9A%E2%80%9C%3Ccode%3Ev2%3C/code%3E%20does%20not%20live%20long%20enough%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%BA%E4%BB%80%E4%B9%88%3Ccode%3Efunc%3C/code%3E%E8%BF%99%E4%BA%9B%E5%86%99%E6%B3%95%E4%BC%9A%E4%BA%A7%E7%94%9F%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%8C%E5%89%8D%E9%9D%A2%E5%B0%8F%E8%8A%82%E5%B7%B2%E7%BB%8F%E8%A7%A3%E6%9E%90%E8%BF%87%E4%BA%86%E3%80%82%3C/p%3E%3Cp%3E%E8%AE%A9%E6%88%91%E4%BB%AC%E7%9C%8B%E7%9C%8B%3Ccode%3Emain%3C/code%3E%E5%87%BD%E6%95%B0%E5%9C%A8%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84%E3%80%82%E5%BD%93%3Ccode%3Efunc%3C/code%3E%E8%A2%AB%E8%B0%83%E7%94%A8%EF%BC%8C%E5%AD%98%E6%B4%BB%3Ccode%3Ev1%3C/code%3E%E3%80%81%3Ccode%3Eresult%3C/code%3E%E5%92%8C%3Ccode%3Ev2%3C/code%3E%EF%BC%8C%E6%8C%89%E9%A1%BA%E5%BA%8F%E5%A3%B0%E6%98%8E%EF%BC%8C%E4%BB%A5%E5%8F%8A%3Ccode%3Ev1%3C/code%3E%E5%92%8C%3Ccode%3Ev2%3C/code%3E%E6%97%A9%E5%B7%B2%E8%A2%AB%E5%88%9D%E5%A7%8B%E5%8C%96%E3%80%82%3Ccode%3Efunc%3C/code%3E%E7%9A%84%E7%AD%BE%E5%90%8D%E8%AF%B4%E7%BB%93%E6%9E%9C%E5%80%BC%E5%92%8C%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E6%9C%89%E7%9B%B8%E5%90%8C%E7%9A%84lifetime%20specifier%EF%BC%8C%E8%BF%99%E6%84%8F%E5%91%B3%E7%9D%80%3Ccode%3Eresult%3C/code%3E%E7%9A%84%E5%80%BC%E4%B8%8D%E4%BC%9A%E5%AD%98%E6%B4%BB%E5%BE%97%E6%AF%94%3Ccode%3Ev1%3C/code%3E%E9%95%BF%E3%80%82%E4%BB%A5%E5%8F%8A%EF%BC%8C%3Ccode%3Eresult%3C/code%3E%E5%9C%A8%3Ccode%3Ev1%3C/code%3E%E4%B9%8B%E5%90%8E%E5%A3%B0%E6%98%8E%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%AE%83%E4%BC%9A%E5%85%88%E4%BA%8E%3Ccode%3Ev1%3C/code%3E%E9%94%80%E6%AF%81%E3%80%82%3C/p%3E%3Cp%3E%E5%86%8D%E7%9C%8B%E7%9C%8B%E4%B8%BA%E4%BB%80%E4%B9%88%E7%AC%AC%E4%BA%8C%E6%AE%B5%E7%A8%8B%E5%BA%8F%E7%9A%84%3Ccode%3Emain%3C/code%3E%E5%87%BD%E6%95%B0%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%E3%80%82%E8%BF%99%E9%87%8C%EF%BC%8C%3Ccode%3Efunc%3C/code%3E%E7%9A%84%E7%AD%BE%E5%90%8D%E8%AF%B4%E8%BF%94%E5%9B%9E%E5%80%BC%E5%92%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%8F%82%E6%95%B0%E6%9C%89%E7%9B%B8%E5%90%8C%E7%9A%84lifetime%20specifier%EF%BC%8C%E6%84%8F%E5%91%B3%E7%9D%80%3Ccode%3Eresult%3C/code%3E%E5%AD%98%E6%B4%BB%E4%B8%8D%E4%BC%9A%E6%AF%94%3Ccode%3Ev2%3C/code%3E%E9%95%BF%E3%80%82%E4%BD%86%3Ccode%3Eresult%3C/code%3E%E5%9C%A8%3Ccode%3Ev2%3C/code%3E%E4%B9%8B%E5%89%8D%E5%A3%B0%E6%98%8E%EF%BC%8C%E8%80%8C%E5%AE%83%E4%BC%9A%E5%9C%A8%E5%85%B6%E5%90%8E%E8%A2%AB%E9%94%80%E6%AF%81%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E6%98%AF%E5%9B%A0%E4%B8%BA%E5%8F%AA%E4%BD%BF%E7%94%A8%E4%BA%86%E4%B8%80%E4%B8%AAlifetime%20specifiter%EF%BC%8C%E4%B8%8B%E9%9D%A2%E6%94%B9%E4%B8%BA%E4%B8%A4%E4%B8%AA%E6%8C%87%E7%A4%BA%E5%99%A8%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E,%20%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E&amp;gt;(x:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20y:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;b%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20(x,%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%20y)%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei1%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei2%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ej1%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ej2%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Er%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E(&amp;amp;i1,%20&amp;amp;j1);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ei2%20=%20r.%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ej2%20=%20r.%3Cspan%20class=%22number%22%3E2%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20*i2,%20r.%3Cspan%20class=%22number%22%3E1%3C/span%3E,%20*j2);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E5%B0%86%E6%89%93%E5%8D%B0%E2%80%9C12%20true%2013%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BB%85%E7%94%A8%E4%B8%80%E4%B8%AAlifetime%20specifier%E6%97%B6%EF%BC%8C%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E&amp;lt;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E&amp;gt;(x:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20y:%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20(&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E,%20%3Cspan%20class=%22type%22%3Ebool%3C/span%3E,%20&amp;amp;%3Cspan%20class=%22symbol%22%3E&amp;#x27;a%3C/span%3E%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E(x,%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E,%20y)%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei1%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E12%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei2%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ej1%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E13%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ej2%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Er%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E(&amp;amp;i1,%20&amp;amp;j1);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ei2%20=%20r.%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ej2%20=%20r.%3Cspan%20class=%22number%22%3E2%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20*i2,%20r.%3Cspan%20class=%22number%22%3E1%3C/span%3E,%20*j2);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E4%BC%9A%E4%BA%A7%E7%94%9F%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%9A%E2%80%9C%3Ccode%3Ej1%3C/code%3E%20does%20not%20live%20long%20enough%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E8%BF%99%E4%B8%A4%E4%B8%AA%E7%89%88%E6%9C%AC%E4%B8%AD%EF%BC%8C%E5%87%BD%E6%95%B0%3Ccode%3Ef%3C/code%3E%E9%83%BD%E4%BC%9A%E6%8E%A5%E6%94%B6%3Ccode%3Ei1%3C/code%3E%E5%92%8C%3Ccode%3Ej1%3C/code%3E%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%8C%E9%A6%96%E5%85%88%E8%BF%94%E5%9B%9E%E5%8F%98%E9%87%8F%3Ccode%3Er%3C/code%3E%E5%AD%98%E5%82%A8%E7%9A%84%E5%80%BC%EF%BC%8C%E7%84%B6%E5%90%8E%E5%88%86%E5%88%AB%E5%9C%B0%E5%88%9D%E5%A7%8B%E5%8C%96%3Ccode%3Ei2%3C/code%3E%E5%92%8C%3Ccode%3Ej2%3C/code%3E%E5%8F%98%E9%87%8F%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%89%88%E6%9C%AC%E4%B8%AD%EF%BC%8C%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E5%92%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E6%8B%A5%E6%9C%89%E7%9B%B8%E5%90%8C%E7%9A%84lifetime%20specifier%EF%BC%8C%E8%BF%99%E5%AF%BC%E8%87%B4%E4%BA%86%3Ccode%3Ei2%3C/code%3E%E5%BF%85%E9%A1%BB%E5%AD%98%E6%B4%BB%E5%B0%91%E4%BA%8E%3Ccode%3Ei1%3C/code%3E%E3%80%82%E7%B1%BB%E4%BC%BC%E5%9C%B0%EF%BC%8C%3Ccode%3Ej2%3C/code%3E%E5%BF%85%E9%A1%BB%E5%AD%98%E6%B4%BB%E5%B0%91%E4%BA%8E%3Ccode%3Ej1%3C/code%3E%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8C%E5%8F%98%E9%87%8F%E7%9A%84%E5%A3%B0%E6%98%8E%E9%A1%BA%E5%BA%8F%E9%9C%80%E8%A6%81%E6%BB%A1%E8%B6%B3%E8%BF%99%E4%BA%9B%E8%A6%81%E6%B1%82%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%BA%8C%E4%B8%AA%E7%89%88%E6%9C%AC%EF%BC%8C%E7%94%B1%E4%BA%8E%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AAlifetime%20specifier%EF%BC%8C%E6%89%80%E4%BB%A5%3Ccode%3Ei2%3C/code%3E%E5%92%8C%3Ccode%3Ej2%3C/code%3E%E5%BF%85%E9%A1%BB%E5%AD%98%E6%B4%BB%E5%B0%91%E4%BA%8E%3Ccode%3Ei1%3C/code%3E%E5%92%8C%3Ccode%3Ej1%3C/code%3E%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8C%3Ccode%3Ei2%3C/code%3E%E8%A2%AB%E5%A3%B0%E6%98%8E%E5%9C%A8%3Ccode%3Ej1%3C/code%3E%E5%89%8D%EF%BC%8C%E4%B8%8D%E8%83%BD%E6%BB%A1%E8%B6%B3%E8%BF%99%E4%BA%9B%E8%A6%81%E6%B1%82%E3%80%82%3C/p%3E" type="image"/>
    
    
    <category term="learning" scheme="https://galudisu.info/categories/learning/"/>
    
    
    <category term="rust" scheme="https://galudisu.info/tags/rust/"/>
    
  </entry>
  
  <entry>
    <title>ruståŸºç¡€å…¥é—¨[21] - Drops, Moves, and Copies</title>
    <link href="https://galudisu.info/2023/01/21/rust/beginning/chapter21_Drops,%20Moves,%20and%20Copies/"/>
    <id>https://galudisu.info/2023/01/21/rust/beginning/chapter21_Drops,%20Moves,%20and%20Copies/</id>
    <published>2023-01-21T07:50:46.000Z</published>
    <updated>2025-04-27T11:59:08.282Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç« è¦†ç›–æœ‰ï¼š</p><ul><li>ä¸ºä»€ä¹ˆå†³å®šæ€§çš„(deterministic)ã€éšå¼(implicit)çš„å¯¹è±¡é”€æ¯æ˜¯Rustçš„ä¸€å¤§äº®ç‚¹</li><li>å¯¹è±¡æ‰€æœ‰è€…(ownership)çš„æ¦‚å¿µ</li><li>ä¸ºä»€ä¹ˆè‡ªå®šä¹‰é”€æ¯å¯èƒ½æœ‰ç”¨ï¼Œæ€ä¹ˆåˆ›å»º</li><li>ä¸‰ç§èµ‹å€¼è¯­ä¹‰ï¼šå…±äº«(share)ã€æ‹·è´(copy)ã€ç§»åŠ¨(move)</li><li>ä¸ºä»€ä¹ˆéšå¼å…±äº«å¯¹è½¯ä»¶æ­£ç¡®æ€§æ˜¯ç³Ÿç³•çš„</li><li>ä¸ºä»€ä¹ˆå¯¹è±¡çš„ç§»åŠ¨(move semantics)æ¯”èµ·æ‹·è´(copy semantics)å¯èƒ½æœ‰æ›´å¥½çš„æ€§èƒ½</li><li>ä¸ºä»€ä¹ˆæŸäº›ç±»å‹éœ€è¦æ‹·è´(copy semantics)ï¼ŒæŸäº›ä¸éœ€è¦ï¼Œæ€ä¹ˆåŒºåˆ†</li><li>ä¸ºä»€ä¹ˆæŸäº›ç±»å‹éœ€è¦æ˜¯ä¸å¯å¤åˆ¶çš„(non-cloneable)ï¼Œæ€ä¹ˆåŒºåˆ†</li></ul><span id="more"></span><h2 id="Deterministic-Destruction"><a class="header-anchor" href="#Deterministic-Destruction">Â¶</a>Deterministic Destruction</h2><p>å‰é¢ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ‰å‡ ç§å†…å­˜åˆ†é…å¯¹è±¡çš„æ–¹å¼ï¼Œè¿™äº›åˆ†é…éƒ½æ˜¯åœ¨stackå’Œheapå‘ç”Ÿï¼š</p><ul><li>ä¸´æ—¶è¡¨è¾¾å¼ï¼Œåˆ†é…åœ¨stackï¼›</li><li>å˜é‡(åŒ…æ‹¬æ•°ç»„)ï¼Œåˆ†é…åœ¨stackï¼›</li><li>å‡½æ•°å’Œé—­åŒ…çš„å‚æ•°ï¼Œåˆ†é…åœ¨stackï¼›</li><li><code>Box</code>å¯¹è±¡ï¼Œå¼•ç”¨åˆ†é…åœ¨stackï¼Œå¼•ç”¨çš„å¯¹è±¡åˆ†é…åœ¨heapï¼›</li><li>åŠ¨æ€å­—ç¬¦ä¸²å’Œé›†åˆ(åŒ…æ‹¬vectorï¼‰,headeråˆ†é…åœ¨stackï¼Œæ•°æ®åˆ†é…åœ¨heapã€‚</li></ul><p>å¯¹è±¡â€œ<strong>çœŸå®</strong>â€çš„ç¬æ—¶åˆ†é…æ˜¯å¾ˆéš¾é¢„æµ‹çš„ï¼Œå› ä¸ºå®ƒå–å†³äºç¼–è¯‘å™¨ä¼˜åŒ–ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è€ƒè™‘â€œ<strong>æ¦‚å¿µ</strong>â€ä¸Šçš„ç¬æ—¶åˆ†é…æƒ…å†µã€‚</p><p>æ¦‚å¿µä¸Šï¼Œå½“å¯¹åº”è¡¨è¾¾å¼ç¬¬ä¸€æ¬¡å‡ºç°åœ¨ä»£ç æ—¶å‘ç”Ÿstackåˆ†é…ï¼Œå› æ­¤ï¼š</p><ul><li>ä¸´æ—¶è¡¨è¾¾å¼ï¼Œå˜é‡ï¼Œæ•°ç»„åœ¨å®ƒä»¬ç¬¬ä¸€æ¬¡å‡ºç°åœ¨ä»£ç æ—¶è¢«åˆ†é…ï¼›</li><li>å‡½æ•°å’Œé—­åŒ…çš„å‚æ•°ï¼Œåœ¨å‡½æ•°/é—­åŒ…è¢«è°ƒç”¨æ—¶è¢«åˆ†é…ï¼›</li><li><code>Box</code>å¯¹è±¡ï¼ŒåŠ¨æ€å­—ç¬¦ä¸²ï¼Œé›†åˆheaderï¼Œåœ¨ä»£ç ç¬¬ä¸€å‡ºç°æ—¶è¢«åˆ†é…ã€‚</li></ul><p>heapçš„å½“éœ€è¦è¿™äº›æ•°æ®æ—¶ï¼Œè¿›è¡Œheapåˆ†é…ã€‚å› æ­¤ï¼š</p><ul><li><code>Box</code>å¯¹è±¡çš„åˆ†é…ï¼Œç”±<code>Box::new</code>å‡½æ•°è§¦å‘ï¼›</li><li>åŠ¨æ€å­—ç¬¦ä¸²çš„å­—ç¬¦åˆ†é…ï¼Œåœ¨å­—ç¬¦è¢«æ·»åŠ åˆ°è¯¥å­—ç¬¦ä¸²æ—¶è§¦å‘ï¼›</li><li>é›†åˆå†…å®¹çš„åˆ†é…ï¼Œå‡ºç°åœ¨æœ‰æ•°æ®è¢«æ·»åŠ åˆ°é›†åˆæ—¶ã€‚</li></ul><p>ä¸Šé¢è¿™äº›è·Ÿå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€æ²¡ä¸åŒä¹‹å¤„ã€‚é‚£ä¹ˆæ•°æ®çš„é”€æ¯åœ¨ä»€ä¹ˆæ—¶å€™å‘ç”Ÿï¼Ÿ</p><p>æ¦‚å¿µä¸Šï¼Œåœ¨Rustä¸­ï¼Œå½“è¿™äº›æ•°æ®ä¸å†å¯è¢«è®¿é—®æ—¶ï¼Œè‡ªåŠ¨é”€æ¯ã€‚å› æ­¤ï¼š</p><ul><li>ä¸´æ—¶è¡¨è¾¾å¼è¢«å›æ”¶ï¼Œå½“å®ƒåœ¨è¯­å¥çš„ç»“æŸä½ç½®(å³ï¼Œåœ¨ä¸‹ä¸€ä¸ª<code>;</code>ä½ç½®æˆ–å½“å‰scopeçš„ç»“æŸä½ç½®)ï¼›</li><li>å˜é‡(åŒ…æ‹¬æ•°ç»„)è¢«å›æ”¶ï¼Œå½“å®ƒåœ¨scopeçš„å£°æ˜ç»“æŸï¼›</li><li>å‡½æ•°/é—­åŒ…çš„å‚æ•°çš„å›æ”¶ï¼Œå‡ºç°åœ¨å‡½æ•°/é—­åŒ…ä½“ç»“æŸï¼›</li><li><code>Box</code>å¯¹è±¡çš„å›æ”¶ï¼Œåœ¨å½“å‰scopeçš„å£°æ˜ç»“æŸï¼›</li><li>åŠ¨æ€å­—ç¬¦ä¸²çš„å­—ç¬¦è¢«å›æ”¶ï¼Œå‡ºç°åœ¨ä»å­—ç¬¦ä¸²ä¸­åˆ é™¤è¯¥å­—ç¬¦æ—¶ï¼Œæˆ–è€…æ•´ä¸ªå­—ç¬¦ä¸²åˆ é™¤æ—¶ï¼›</li><li>é›†åˆä¸­çš„æ¡ç›®è¢«å›æ”¶ï¼Œå‡ºç°åœ¨ä»é›†åˆä¸­åˆ é™¤è¯¥æ¡ç›®æ—¶ï¼Œæˆ–è€…æ•´ä¸ªé›†åˆè¢«åˆ é™¤æ—¶ã€‚</li></ul><p>è¿™ä¸€æ¦‚å¿µä½¿å¾—Rustå’Œå¤§éƒ¨åˆ†è¯­è¨€åŒºåˆ†å¼€æ¥ã€‚ä»»ä½•è¯­è¨€éƒ½æœ‰ä¸´æ—¶å¯¹è±¡æˆ–æ ˆåˆ†é…(stack-allocated)å¯¹è±¡ï¼Œè¿™ç§å¯¹è±¡æ˜¯è‡ªåŠ¨å›æ”¶çš„ã€‚ä½†å †åˆ†é…(heap-allocated)å¯¹è±¡çš„å›æ”¶ï¼Œä¸åŒè¯­è¨€å„ä¸ç›¸åŒã€‚</p><p>åœ¨æŸäº›è¯­è¨€ä¸­ï¼Œè¯¸å¦‚Pascalï¼ŒCï¼ŒC++ï¼Œheapä¸Šçš„å¯¹è±¡é€šå¸¸ä»…èƒ½æ˜¾å¼åœ°è°ƒç”¨ç±»ä¼¼<code>free</code>æˆ–<code>delete</code>è¿™äº›å‡½æ•°è¿›è¡Œå›æ”¶ã€‚å¦ä¸€äº›è¯­è¨€ï¼Œè¯¸å¦‚Javaï¼ŒJavaScriptï¼ŒC+ï¼ŒPythonï¼Œå †ä¸Šçš„å¯¹è±¡ä¸å¯è®¿é—®æ—¶ï¼Œå¹¶æ²¡æœ‰ç«‹å³è¿›è¡Œå›æ”¶ï¼Œè€Œæ˜¯æœ‰ä¸€ä¸ªå®šæœŸçš„è¡Œç¨‹ï¼Œç”¨æ¥æŸ¥æ‰¾heapä¸å¯è¾¾å¯¹è±¡ï¼Œå¹¶å›æ”¶è¿™äº›å¯¹è±¡ã€‚è¿™ç§æœºåˆ¶ç§°ä¸ºâ€œåƒåœ¾å›æ”¶â€ï¼Œå› ä¸ºå®ƒç±»ä¼¼åŸå¸‚çš„æ¸…ç†ç³»ç»Ÿï¼šå®ƒå®šæœŸæ¸…ç†åŸé•‡ï¼Œå½“æœ‰åƒåœ¾å †ç§¯ã€‚</p><p>å› æ­¤ï¼Œåœ¨C++å’Œç±»ä¼¼è¯­è¨€ä¸­ï¼Œheapå›æ”¶æ—¢æ˜¯<code>å†³å®šæ€§çš„ï¼Œdeterministic</code>ï¼Œä¹Ÿæ˜¯<code>æ˜¾å¼çš„ï¼Œexplicit</code>ã€‚å†³å®šæ€§çš„ï¼Œå› ä¸ºå®ƒåœ¨æºä»£ç çš„å®šä¹‰ä½ç½®ï¼Œä»¥åŠæ˜¯æ˜¾å¼çš„ï¼Œå› ä¸ºå®ƒè¦æ±‚ç¨‹åºå‘˜ç¼–å†™æŒ‡å®šçš„å›æ”¶è¯­å¥ã€‚å†³å®šæ€§çš„å¥½å¤„åœ¨äºï¼Œå¯èƒ½æœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œç¨‹åºå‘˜å¯èƒ½æ›´å¥½åœ°æ§åˆ¶ã€‚ä½†æ˜¾å¼çš„å´ä¸å¥½ï¼Œå› ä¸ºä¸èƒ½é¿å…å‡ºç°é”™è¯¯çš„å›æ”¶ï¼Œä¸‘é™‹çš„bugç»“æœã€‚</p><p>ç›¸åï¼Œåœ¨Javaå’Œç±»ä¼¼è¯­è¨€ä¸­ï¼Œheapå›æ”¶æ—¢æ˜¯<code>éå†³å®šæ€§çš„ï¼Œnon-deterministic</code>ï¼Œä¹Ÿæ˜¯<code>éšå¼çš„ï¼Œimplicit</code>ã€‚éå†³å®šæ€§çš„ï¼Œå› ä¸ºå®ƒå‡ºç°æœªçŸ¥çš„æ‰§è¡Œç¬æ—¶ï¼Œä»¥åŠæ˜¯éšå¼çš„ï¼Œå› ä¸ºå®ƒä¸éœ€è¦æŒ‡å®šå›æ”¶è¯­å¥ã€‚éå†³å®šæ€§æ˜¯ç³Ÿç³•çš„ï¼Œä½†éšå¼çš„ç¾å¥½çš„ã€‚</p><p>åŒºåˆ«äºè¿™ä¸¤ç§æŠ€æœ¯ï¼Œåœ¨Rustä¸­ï¼Œé€šå¸¸ï¼Œheapçš„å›æ”¶æ—¢æ˜¯<code>å†³å®šæ€§çš„ï¼Œdeterministic</code>ï¼Œä¹Ÿæ˜¯<code>éšå¼çš„ï¼Œimplicit</code>ï¼Œè¿™æ˜¯Rustæ¯”èµ·å…¶å®ƒè¯­è¨€æ›´å¤§çš„ä¼˜åŠ¿ã€‚</p><p>è¿™ç§å¯èƒ½æ€§çš„å®ç°ï¼Œæ˜¯å› ä¸ºéµå¾ªäº†åŸºäºâ€œ<code>æ‰€æœ‰è€…ï¼Œownership</code>â€çš„æ¦‚å¿µï¼Œ</p><h2 id="Ownership"><a class="header-anchor" href="#Ownership">Â¶</a>Ownership</h2><p>é¦–å…ˆä»‹ç»æœ¯è¯­â€œ<strong><code>to own</code></strong>â€ã€‚åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œå¯¹äºä¸€ä¸ªæ ‡è¯†ç¬¦æˆ–ä¸€ä¸ªå¯¹è±¡Aï¼Œæ‹¥æœ‰(to own)å¯¹è±¡Bï¼Œæ„å‘³ç€Aå¯ä»¥å¯¹Bè¿›è¡Œå›æ”¶ï¼Œå®ƒæœ‰ä¸¤ä¸ªæ„ä¹‰ï¼š</p><ul><li>Only A can deallocate B.</li><li>When A becomes unreachable, A must deallocate B.</li></ul><p>åœ¨Rustä¸­æ²¡æœ‰æ˜¾ç¤ºçš„å›æ”¶æœºåˆ¶ï¼Œå› æ­¤è¿™ç§å®šä¹‰å¯ä»¥å¤è¿°ä¸ºâ€œA owns B means that B is deallocated  when and only when A becomes unreachableâ€ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">a</span> = <span class="number">3</span>;</span><br><span class="line">a = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">b</span> = <span class="built_in">vec!</span>[<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>];</span><br></pre></td></tr></table></figure><p>è¯¥ç¨‹åºï¼Œå˜é‡<code>a</code>æ‹¥æœ‰ä¸€ä¸ªå¯¹è±¡åˆå§‹åŒ–å€¼3ï¼Œå› ä¸ºå½“<code>a</code>ç¦»å¼€äº†å®ƒçš„scopeï¼Œå˜æˆä¸å¯è®¿é—®ï¼Œè¯¥åˆå§‹åŒ–å€¼ä¸º3çš„å¯¹è±¡è¢«å›æ”¶ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·è¯´â€œ<code>a</code>æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰è€…ï¼Œå®ƒç”±å€¼3åˆå§‹åŒ–â€ã€‚å°½ç®¡ï¼Œæˆ‘ä»¬ä¸èƒ½è¯´â€œ<code>a</code>æ‹¥æœ‰3â€ï¼Œå› ä¸º3æ˜¯ä¸€ä¸ªå€¼ï¼Œä¸æ˜¯å¯¹è±¡ï¼›ä»…å¯¹è±¡æ‰èƒ½è¢«æ‹¥æœ‰(owned)ã€‚åœ¨å†…å­˜ä¸­ï¼Œæœ‰å¾ˆå¤šå¯¹è±¡å€¼æ˜¯3çš„ï¼Œ<code>a</code>æ‹¥æœ‰å…¶ä¸­ä¸€ä¸ªã€‚åœ¨ç¬¬äºŒæ¡è¯­å¥ä¸­ï¼Œè¯¥å¯¹è±¡çš„å€¼å˜ä¸º4ï¼›ä½†å®ƒçš„æ‹¥æœ‰è€…æ²¡æœ‰å˜ã€‚</p><p>åœ¨æœ€åä¸€æ¡è¯­å¥ä¸­ï¼Œ<code>b</code>ç”±ä¸€ä¸ª5ä¸ªå…ƒç´ çš„vectoråˆå§‹åŒ–ã€‚è¿™ä¸ªvectorç”±ä¸€ä¸ªå¤´(header)å’Œä¸€ä¸ªæ•°æ®ç¼“å†²åŒº(data buffer)ï¼›headerçš„å®ç°ç”±ä¸€ä¸ªç»“æ„ä½“ä¸‰ä¸ªfiledè¡¨ç¤ºï¼šä¸€ä¸ªæ‰§è¡Œdata bufferçš„æŒ‡é’ˆï¼Œä¸¤ä¸ªæ•°(capacityã€len)ï¼›æ•°æ®ç¼“å†²åŒºåŒ…å«5ä¸ªæ¡ç›®ï¼Œå¦å¤–å¯èƒ½æœ‰é¢å¤–çš„ç©ºé—´ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥è¯´â€œ<code>b</code>æ‹¥æœ‰vectorçš„headerï¼Œä»¥åŠä¸€ä¸ªæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆåŒ…å«æ•°æ®ç¼“å†²åŒºçš„æ‹¥æœ‰è€…å¤´(header)â€ã€‚å®é™…ä¸Šï¼Œå½“<code>b</code>ç¦»å¼€äº†å®ƒçš„scopeï¼Œvectorçš„å¤´è¢«å›æ”¶ï¼›å½“vectorçš„headerè¢«å›æ”¶åï¼Œå®ƒåŒ…å«çš„æŒ‡é’ˆä¸å¯è®¿é—®ï¼›å½“å‰çš„vectorè¡¨ç¤ºä¸ºä¸€ä¸ªç©ºï¼Œå› æ­¤ç¼“å†²åŒºçš„æ¡ç›®è¢«å›æ”¶ã€‚</p><p>ä¸æ˜¯æ¯ä¸ªå¼•ç”¨æ‰€æœ‰è€…æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = <span class="number">3</span>;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">a_ref</span> = &amp;a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„<code>a_ref</code>å˜é‡æ‹¥æœ‰ä¸€ä¸ªå¼•ç”¨ï¼Œä½†è¿™ä¸ªå¼•ç”¨ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚å®é™…ä¸Šï¼Œåœ¨è¿™ä¸ªåµŒå…¥å—çš„ç»“æŸä½ç½®ï¼Œ<code>a_ref</code>å˜é‡ç¦»å¼€äº†å®ƒçš„scopeï¼Œè¯¥å¼•ç”¨è¢«å›æ”¶ï¼Œä½†å¼•ç”¨å¯¹è±¡ï¼Œå³è¿™ä¸ªåŒ…å«å€¼3çš„å¯¹è±¡ï¼Œæ²¡æœ‰ç«‹å³è¢«å›æ”¶ï¼Œå› ä¸ºå®ƒå¿…é¡»åœ¨æœ€åä¸€æ¡è¯­å¥æ‰“å°è¾“å‡ºã€‚</p><p>ä¸ºäº†ç¡®ä¿æ¯ä¸ªå¯¹è±¡è‡ªåŠ¨å›æ”¶ï¼ŒRustä¸­æœ‰ä¸€ä¸ªç®€å•è§„åˆ™ï¼Œåœ¨æ¯ä¸ªæ‰§è¡Œçš„ç¬æ—¶ï¼Œæ¯ä¸ªå¯¹è±¡æœ‰ä¸”ä»…èƒ½æœ‰ä¸€ä¸ªâ€œownerâ€ã€‚å½“è¿™ä¸ªownerè¢«å›æ”¶ï¼Œè¯¥å¯¹è±¡è‡ªèº«è¢«å›æ”¶ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡æœ‰å‡ ä¸ªownerï¼Œè¿™ä¸ªå¯¹è±¡å¯èƒ½è¢«å›æ”¶å‡ æ¬¡ï¼Œè¿™æ˜¯ä¸è¢«å…è®¸çš„ã€‚å¦‚æœå¯¹è±¡æ²¡æœ‰ownerï¼Œè¯¥å¯¹è±¡ä»ä¸è¢«å›æ”¶ï¼Œè¿™ç§æƒ…å†µå«åšâ€œå†…å­˜æ³„éœ²ï¼Œmemory leakâ€ã€‚</p><h2 id="Destructors"><a class="header-anchor" href="#Destructors">Â¶</a>Destructors</h2><p>æˆ‘ä»¬çœ‹åˆ°å¯¹è±¡çš„åˆ›å»ºæœ‰ä¸¤æ­¥ï¼šç»™å¯¹è±¡åˆ†é…å†…å­˜ï¼Œåˆå§‹åŒ–è¿™ä¸ªå†…å­˜ç©ºé—´çš„å€¼ã€‚å¯¹äºå¤æ‚å¯¹è±¡ï¼Œåˆå§‹åŒ–æ˜¯å¦‚æ­¤å¤æ‚ï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨ä¸€ä¸ªå‡½æ•°å®ç°ã€‚è¿™ä¸ªå‡½æ•°å«â€œæ„é€ å™¨â€ï¼Œç”¨æ¥â€œæ„é€ â€ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</p><p>æˆ‘ä»¬åˆšçœ‹åˆ°ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è¢«å›æ”¶ï¼Œä¼šå‘ç”Ÿä¸€äº›å¤æ‚æƒ…å†µã€‚å¦‚æœåœ¨heapä¸­ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªçº§è”(cascade)çš„å›æ”¶å¯èƒ½ä¼šå‘ç”Ÿã€‚å› æ­¤ï¼Œå¯¹è±¡çš„â€œé”€æ¯â€å¯èƒ½éœ€è¦ç”±ä¸€ä¸ªå‡½æ•°å¤„ç†ï¼Œç§°ä½œâ€œdestructorï¼Œç„šçƒ§ç‚‰ï¼Œé”€æ¯è£…ç½®â€ã€‚</p><p>é€šå¸¸é”€æ¯å™¨æ˜¯å±äºæ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œä½†æœ‰æ—¶ä½ å¯èƒ½éœ€è¦åœ¨å¯¹è±¡å›æ”¶æ—¶åšä¸€äº›cleanup codeæ“ä½œï¼Œæ‰€ä»¥ä½ éœ€è¦å†™ä¸€ä¸ªdestructorã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">CommunicationChannel</span> &#123;</span><br><span class="line">    address: <span class="type">String</span>,</span><br><span class="line">    port: <span class="type">u16</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Drop</span> <span class="keyword">for</span> <span class="title class_">CommunicationChannel</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">drop</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;Closing port &#123;&#125;:&#123;&#125;&quot;</span>, <span class="keyword">self</span>.address, <span class="keyword">self</span>.port);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">CommunicationChannel</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">create</span>(address: &amp;<span class="type">str</span>, port: <span class="type">u16</span>) <span class="punctuation">-&gt;</span> CommunicationChannel &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;Operning port &#123;&#125;:&#123;&#125;&quot;</span>, address, port);</span><br><span class="line">        CommunicationChannel &#123;</span><br><span class="line">            address: address.<span class="title function_ invoke__">to_string</span>(),</span><br><span class="line">            port: port,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">send</span>(&amp;<span class="keyword">self</span>, msg: &amp;<span class="type">str</span>) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;Sent to &#123;&#125;:&#123;&#125; the message &#x27;&#123;&#125;&#x27;&quot;</span>, <span class="keyword">self</span>.address, <span class="keyword">self</span>.port, msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">channel</span> = CommunicationChannel::<span class="title function_ invoke__">create</span>(<span class="string">&quot;usb4&quot;</span>, <span class="number">879</span>);</span><br><span class="line">channel.<span class="title function_ invoke__">send</span>(<span class="string">&quot;Message 1&quot;</span>);</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">channel</span> = CommunicationChannel::<span class="title function_ invoke__">create</span>(<span class="string">&quot;eth1&quot;</span>, <span class="number">12000</span>);</span><br><span class="line">channel.<span class="title function_ invoke__">send</span>(<span class="string">&quot;Message 2&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">channel.<span class="title function_ invoke__">send</span>(<span class="string">&quot;Message 3&quot;</span>);</span><br></pre></td></tr></table></figure><p>è¯¥ç¨‹åºå°†æ‰“å°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Operning port usb4:879</span><br><span class="line">Sent to usb4:879 the message &#x27;Message 1&#x27;</span><br><span class="line">Operning port eth1:12000</span><br><span class="line">Sent to eth1:12000 the message &#x27;Message 2&#x27;</span><br><span class="line">Closing port eth1:12000</span><br><span class="line">Sent to usb4:879 the message &#x27;Message 3&#x27;</span><br><span class="line">Closing port usb4:879</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒæ¡è¯­å¥å£°æ˜æ–°çš„ç±»å‹CommunicationChannelç”¨äºå®ç°<code>Drop</code>ã€‚è¿™ä¸ªtraitæœ‰ä¸€ä¸ªç‰¹æœ‰çš„æ–¹æ³•<code>drop</code>ï¼Œå®ƒä¼šåœ¨å¯¹è±¡è¢«å›æ”¶æ—¶è‡ªåŠ¨è¢«è°ƒç”¨ï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ªâ€œdestructorâ€ã€‚é€šå¸¸ï¼Œç»™ä¸€ä¸ªç±»å‹åˆ›å»ºä¸€ä¸ªé”€æ¯å™¨ï¼Œä¸ºè¯¥ç±»å‹å®ç°è¿™ä¸ª<code>Drop</code>traitå³å¯ã€‚å› ä¸ºä»»ä½•æ²¡æœ‰è¢«å®šä¹‰çš„traitï¼Œä¸èƒ½åœ¨ç¨‹åºå¤–éƒ¨å®ç°ã€‚</p><p>ç¬¬ä¸‰æ¡è¯­å¥æ˜¯ä¸€ä¸ªè¯­å¥å—ï¼Œä¸ºç»“æ„ä½“å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼š<code>create</code>æ„é€ å™¨ï¼Œ<code>send</code>æ–¹æ³•ã€‚</p><p>æœ€åæ˜¯åº”ç”¨ä»£ç ã€‚åˆ›å»ºäº†ä¸€ä¸ªCommunicationChannelï¼Œè¿™ä¸ªåˆ›å»ºä¼šæ‰“å°ä¸€è¡Œå†…å®¹ã€‚æ¥ç€è°ƒç”¨äº†sendæ–¹æ³•ï¼Œæ‰“å°ç¬¬äºŒè¡Œå†…å®¹ã€‚æ¥ç€æ˜¯å†…åµŒè¯­å¥å—ï¼Œåˆ›å»ºäº†å¦ä¸€ä¸ªchannelï¼Œæ‰“å°ç¬¬ä¸‰ã€å››è¡Œå†…å®¹ã€‚</p><p>åµŒå¥—è¯­å¥å—å†…çš„å˜é‡åè·Ÿå­˜åœ¨çš„å˜é‡åç›¸åŒï¼Œè¿™ä¼šå¯¼è‡´å˜é‡æŠ•å½±(shadow)ã€‚</p><p>æ¥ç€åµŒå¥—è¯­å¥ç»“æŸã€‚è¿™å‘ç”Ÿç‡å†…éƒ¨å˜é‡è¢«é”€æ¯ï¼Œå› æ­¤å®ƒçš„<code>drop</code>æ–¹æ³•è¢«è°ƒç”¨ï¼Œäºæ˜¯æ‰“å°ç¬¬äº”è¡Œã€‚</p><p>ç°åœ¨ï¼ŒåµŒå¥—è¯­å¥å—ç»“æŸåï¼Œç¬¬ä¸€ä¸ªå˜é‡å†æ¬¡å¯è§ã€‚<code>send</code>æ–¹æ³•å†æ¬¡è°ƒç”¨ï¼Œæ‰“å°ä¸€è¡Œã€‚</p><p>æœ€åï¼Œå˜é‡è¢«é”€æ¯ï¼Œæ‰“å°æœ€åä¸€è¡Œã€‚</p><p>åœ¨Rustä¸­ï¼Œå†…å­˜æ—©å·²ç”±è¯­è¨€å’Œæ ‡å‡†åº“é‡Šæ”¾æ‰äº†ï¼Œå› æ­¤æ²¡æœ‰å¿…è¦åƒCè¯­è¨€é‚£æ ·è°ƒç”¨<code>free</code>å‡½æ•°ï¼Œæˆ–åƒC++é‚£æ ·è°ƒç”¨<code>delete</code>ã€‚ä½†å…¶ä»–èµ„æºä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚å› æ­¤é”€æ¯å™¨(destructor)å¯¹äºé‚£äº›å‰¯ä½œç”¨çš„å®ç°éå¸¸æœ‰ç”¨ï¼šè¯¸å¦‚æ–‡ä»¶å¤„ç†ï¼Œé€šè®¯å¤„ç†ï¼ŒGUIçª—å£ï¼Œå›¾å½¢èµ„æºç­‰ï¼Œæ ‡å‡†åº“ä¸­æ—©å·²ä¸ºèµ„æºçš„å¤„ç†çš„ä»»ä½•ç±»å‹æä¾›äº†<code>Drop</code>å®ç°ã€‚</p><p>é”€æ¯å™¨å¯ä»¥æ›´å¥½åœ°ç†è§£å†…å­˜çš„ç®¡ç†ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> ( <span class="type">i32</span> );</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Drop</span> <span class="keyword">for</span> <span class="title class_">S</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">drop</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) &#123;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;Dropped &#123;&#125;&quot;</span>, <span class="keyword">self</span>.<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_a</span> = <span class="title function_ invoke__">S</span> (<span class="number">1</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_b</span> = <span class="title function_ invoke__">S</span> (<span class="number">2</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_c</span> = <span class="title function_ invoke__">S</span> (<span class="number">3</span>);</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_d</span> = <span class="title function_ invoke__">S</span> (<span class="number">4</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_e</span> = <span class="title function_ invoke__">S</span> (<span class="number">5</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_f</span> = <span class="title function_ invoke__">S</span> (<span class="number">6</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;INNER&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;OUTER&quot;</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœæ‰“å°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">INNER</span><br><span class="line">Dropped 6</span><br><span class="line">Dropped 5</span><br><span class="line">Dropped 4</span><br><span class="line">OUTER</span><br><span class="line">Dropped 3</span><br><span class="line">Dropped 2</span><br><span class="line">Dropped 1</span><br></pre></td></tr></table></figure><p>æ³¨æ„åˆ°å¯¹è±¡çš„é”€æ¯çš„é¡ºåºè·Ÿæ„é€ é¡ºåºç›¸åï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> ( <span class="type">i32</span> );</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Drop</span> <span class="keyword">for</span> <span class="title class_">S</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">drop</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) &#123;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;Dropped &#123;&#125;&quot;</span>, <span class="keyword">self</span>.<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_</span> = <span class="title function_ invoke__">S</span> (<span class="number">1</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_</span> = <span class="title function_ invoke__">S</span> (<span class="number">2</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_</span> = <span class="title function_ invoke__">S</span> (<span class="number">3</span>);</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_</span> = <span class="title function_ invoke__">S</span> (<span class="number">4</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_</span> = <span class="title function_ invoke__">S</span> (<span class="number">5</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_</span> = <span class="title function_ invoke__">S</span> (<span class="number">6</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;INNER&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;OUTER&quot;</span>);</span><br></pre></td></tr></table></figure><p>ç»“æœå°†æ‰“å°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Dropped 1</span><br><span class="line">Dropped 2</span><br><span class="line">Dropped 3</span><br><span class="line">Dropped 4</span><br><span class="line">Dropped 5</span><br><span class="line">Dropped 6</span><br><span class="line">INNER</span><br><span class="line">OUTER</span><br></pre></td></tr></table></figure><p>å› ä¸ºåªæœ‰å ä½ç¬¦ï¼Œå› æ­¤æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯ä¸´æ—¶çš„ã€‚ä¸´æ—¶å¯¹è±¡åœ¨å®ƒä»¬è¯­å¥ç»“æŸä½ç½®å°±é”€æ¯äº†ï¼Œå³ç»Ÿè®¡åˆ°åˆ†å·(<code>;</code>)ç«‹å³é”€æ¯ã€‚</p><p>ä¸Šé¢çš„ç¨‹åºå’Œä¸‹é¢çš„æ˜¯ç­‰ä»·çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> ( <span class="type">i32</span> );</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Drop</span> <span class="keyword">for</span> <span class="title class_">S</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">drop</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) &#123;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;Dropped &#123;&#125;&quot;</span>, <span class="keyword">self</span>.<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_ invoke__">s</span> (<span class="number">1</span>);</span><br><span class="line"><span class="title function_ invoke__">S</span> (<span class="number">2</span>);</span><br><span class="line"><span class="title function_ invoke__">S</span> (<span class="number">3</span>);</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">S</span> (<span class="number">4</span>);</span><br><span class="line"><span class="title function_ invoke__">S</span> (<span class="number">5</span>);</span><br><span class="line"><span class="title function_ invoke__">S</span> (<span class="number">6</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;INNER&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;OUTER&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="Assignment-Semantics"><a class="header-anchor" href="#Assignment-Semantics">Â¶</a>Assignment Semantics</h2><p>ä¸‹é¢ç¨‹åºåšäº†ä»€ä¹ˆï¼Ÿ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">v2</span> = v1;</span><br></pre></td></tr></table></figure><p>æ¦‚å¿µä¸Šï¼Œ</p><p>é¦–å…ˆï¼Œ<code>v1</code>çš„æ ‡å¤´(header)è¢«åˆ†é…åˆ°äº†æ ˆã€‚ç„¶åï¼Œ<code>v1</code>çš„å†…å®¹ï¼Œä¼šåœ¨å †ä¸ºè¯¥å†…å®¹åˆ†é…ä¸€ä¸ªç¼“å†²åŒºï¼Œ<code>v1</code>çš„å…ƒç´ ä¹‹è¢«æ‹·è´åˆ°è¿™ä¸ªç¼“å†²åŒºã€‚ç„¶åæ ‡å¤´(header)è¢«åˆå§‹åŒ–ï¼Œä½œä¸ºå¼•ç”¨æŒ‡å‘æ–°åˆ†é…çš„å †ç¼“å†²ã€‚</p><p>ç„¶åï¼Œ<code>v2</code>çš„æ ‡å¤´è¢«åˆ†é…åœ¨æ ˆã€‚æ¥ç€ï¼Œç”¨<code>v1</code>çš„å€¼åˆå§‹åŒ–<code>v2</code>ã€‚ä½†ï¼Œè¿™æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p><p>é€šå¸¸è‡³å°‘æœ‰ä¸‰ç§æ–¹å¼å®ç°è¿™ç§æ“ä½œï¼š</p><ul><li><p><strong><code>Share semantics</code></strong>ï¼š<code>v1</code>çš„æ ‡å¤´è¢«æ‹·è´åˆ°<code>v2</code>çš„æ ‡å¤´ï¼Œå…¶å®ƒä¸å‘ç”Ÿä»»ä½•æ“ä½œã€‚å› æ­¤ï¼Œå¯ä»¥ç”¨<code>v1</code>ï¼Œä¹Ÿå¯ä»¥ç”¨<code>v2</code>ï¼Œå®ƒä»¬éƒ½åŒæ—¶æŒ‡å‘ç›¸åŒçš„å †ç¼“å†²åŒºï¼›å› æ­¤ï¼Œå®ƒä»¬æŒ‡å‘åŒæ ·çš„å†…å®¹ï¼Œä¸æ˜¯ç›¸ç­‰çš„ï¼Œè€Œæ˜¯å”¯ä¸€çš„ã€‚è¿™ç§æœ¯è¯­çš„å¸¸è§äºåƒåœ¾å›æ”¶è¯­è¨€ï¼Œæ¯”å¦‚Javaã€‚</p></li><li><p><strong><code>Copy semantics</code></strong>ï¼šåˆ†é…å¦å¤–çš„å †ç¼“å†²ã€‚å®ƒå’Œ<code>v1</code>ä½¿ç”¨çš„ç¼“å†²åŒºæœ‰åŒæ ·çš„å¤§å°ï¼Œå¹¶å°†å…ˆå­˜çš„ç¼“å†²åŒºå†…å®¹æ‹·è´åˆ°æ–°çš„ç¼“å†²åŒºã€‚ç„¶å<code>v2</code>çš„æ ‡å¤´è¢«åˆå§‹åŒ–æŒ‡å‘æ–°åˆ†é…çš„ç¼“å†²åŒºã€‚å› æ­¤ï¼Œä¸¤ä¸ªå˜é‡æŒ‡å‘ä¸¤ä¸ªä¸åŒçš„ç¼“å†²åŒºå¹¶ä¸”åˆå§‹åŒ–çš„å†…å®¹ç›¸åŒã€‚è¿™ç§å®ç°ï¼Œæ˜¯C++çš„é»˜è®¤æœºåˆ¶ã€‚</p></li><li><p><strong><code>Move semantics</code></strong>ï¼š<code>v1</code>çš„æ ‡å¤´è¢«æ‹·è´åˆ°<code>v2</code>çš„æ ‡å¤´ï¼Œå…¶å®ƒä¸å‘ç”Ÿä»»ä½•æ“ä½œã€‚å› æ­¤ï¼Œ<code>v2</code>å¯ä»¥ä½¿ç”¨ï¼Œå®ƒçš„æ ‡å¤´æŒ‡å‘åŸå…ˆ<code>v1</code>åˆ†é…çš„å †ç¼“å†²åŒºï¼Œä½†<code>v1</code>ä¸èƒ½å†è¢«ä½¿ç”¨ã€‚è¿™ç§å®ç°ï¼Œæ˜¯Rustçš„é»˜è®¤æœºåˆ¶ã€‚</p></li></ul><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">v2</span> = v1;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, v1.<span class="title function_ invoke__">len</span>());</span><br></pre></td></tr></table></figure><p>è¯¥ä»£ç äº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼šâ€œuse of moved value: <code>v1</code>â€ã€‚å½“<code>v1</code>çš„å€¼æŒ‡æ´¾ç»™<code>v2</code>æ˜¯ï¼Œå˜é‡<code>v1</code>ç»ˆæ­¢å¹¶é€€å‡ºã€‚å†æ¬¡ä½¿ç”¨æ˜¯ä¸è¢«ç¼–è¯‘å™¨å…è®¸çš„ã€‚</p><p>å…ˆçœ‹çœ‹ï¼Œä¸ºä»€ä¹ˆRustä¸å®ç°<strong>share semantics</strong>ã€‚é¦–å…ˆï¼Œå¦‚æœå˜é‡æ˜¯å¯å˜çš„ï¼Œè¿™ç§è¯­ä¹‰(semnatics)ä¼šæœ‰å‡ åˆ†è¿·æƒ‘ã€‚åœ¨å…±äº«æœ¯è¯­(share semantics)ï¼Œé€šè¿‡ä¸€ä¸ªå˜é‡æ›´æ”¹ä¸€ä¸ªæ¡ç›®ï¼Œè¿™ä¸ªæ¡ç›®ä¹Ÿå¯ä»¥è¢«å…¶å®ƒå˜é‡æ›´æ”¹å’Œè®¿é—®ã€‚è¿™ä¸æ˜¯ç›´è§‰ï¼Œå¯èƒ½æ˜¯bugçš„æ ¹æºã€‚å› æ­¤ï¼Œå…±äº«æœ¯è¯­(share senantics)ä»…åœ¨åªè¯»æ•°æ®(read-only data)èƒ½è¢«æ¥æ”¶ã€‚</p><p>ä½†è¿™é‡Œæœ‰ä¸ªå¤§é—®é¢˜ï¼Œå¯¹äºå†…å­˜å›æ”¶ã€‚å¦‚æœä½¿ç”¨å…±äº«æœ¯è¯­ï¼Œ<code>v1</code>å’Œ<code>v2</code>éƒ½å°†ä¼šæ‹¥æœ‰åŒä¸€ä¸ªå•ä¸€çš„æ•°æ®ç¼“å†²åŒºï¼Œå› æ­¤å½“ä»–ä»¬è¢«å›æ”¶æ—¶ï¼ŒåŒæ ·çš„å †ç¼“å†²åŒºä¼šè¢«å›æ”¶ä¸¤æ¬¡ã€‚ä¸€ä¸ªç¼“å†²åŒºä¸èƒ½è¢«åˆ†é…ä¸¤æ¬¡ï¼Œè€Œä¸å¯¼è‡´å†…å­˜æŸè€—ä»¥åŠå¼•èµ·ç¨‹åºå´©æºƒ(program malfunction)ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯­è¨€æœ¬èº«éœ€è¦åœ¨scopeç»“æŸæ—¶ä¸å¯¹å˜é‡ä½¿ç”¨çš„å†…è¿›è¡Œå›æ”¶ï¼Œè€Œæ˜¯å‡­å€ŸGCå¤„ç†ã€‚</p><p>ç›¸åï¼Œæ‹·è´è¯­ä¹‰(copy semantics)å’Œç§»åŠ¨è¯­ä¹‰(move semantics)éƒ½æ˜¯æ­£ç¡®çš„ã€‚å®é™…ä¸Šï¼ŒRustè§„åˆ™ä¸ŠæŠŠå›æ”¶çœ‹åšæ˜¯ä»»ä½•å¯¹è±¡å¿…é¡»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªownerã€‚å½“ä½¿ç”¨æ‹·è´è¯­ä¹‰æ—¶ï¼ŒåŸæ¥çš„vectorç¼“å†²åŒºè¿˜æ˜¯åŸæ¥çš„ownerï¼Œå³å˜é‡<code>v1</code>çš„æ ‡å¤´ï¼Œæ–°åˆ›å»ºçš„ç¼“å†²åŒºï¼Œæœ‰æ–°çš„ownerå¼•ç”¨ï¼Œå³<code>v2</code>çš„æ ‡å¤´ã€‚å¦ä¸€æ–¹é¢ï¼Œå½“ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰æ—¶ï¼ŒåŸæ¥å•ä¸€vectorç¼“å†²åŒºæ›´æ”¹å®ƒçš„ownerï¼šåˆ†é…ä¹‹å‰ï¼Œç¼“å†²åŒºçš„æ‰€æœ‰è€…æ˜¯<code>v1</code>çš„æ ‡å¤´referenceï¼Œåˆ†é…ä¹‹åï¼Œæ‰€æœ‰è€…æ›´æ”¹ä¸º<code>v2</code>çš„æ ‡å¤´referenceã€‚åœ¨åˆ†é…ä¹‹å‰ï¼Œ<code>v2</code>çš„æ ‡å¤´å¹¶ä¸å­˜åœ¨ï¼Œåˆ†é…ä¹‹åï¼Œ<code>v1</code>çš„æ ‡å¤´ä¸å†å­˜åœ¨ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆRustä¸å®ç°æ‹·è´è¯­ä¹‰(copy semantics)ï¼Ÿ</p><p>å®é™…ä¸Šï¼ŒæŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ‹·è´è¯­ä¹‰æ›´åˆé€‚ï¼Œå¦ä¸€äº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨ç§»åŠ¨è¯­ä¹‰æ›´é€‚åˆã€‚ç”šè‡³C++ï¼Œä»2011å¹´å¼€å§‹ï¼Œå…è®¸åŒæ—¶æ‹·è´è¯­ä¹‰å’Œç§»åŠ¨è¯­ä¹‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">auto</span> v1 = std::vector&lt;<span class="type">int</span>&gt; &#123;<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>&#125;;</span><br><span class="line"><span class="type">const</span> <span class="keyword">auto</span> v2 = v1;</span><br><span class="line"><span class="type">const</span> <span class="keyword">auto</span> v3 = <span class="built_in">move</span>(v1);</span><br><span class="line">std::count &lt;&lt; v<span class="number">1.</span><span class="built_in">size</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; v<span class="number">2.</span><span class="built_in">size</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; v<span class="number">3.</span><span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µC<ins>ç¨‹åºä¼šæ‰“å°ï¼š0 3 3ã€‚<code>v1</code>é¦–å…ˆè¢«æ‹·è´åˆ°<code>v2</code>ï¼Œç„¶åç§»åŠ¨åˆ°<code>v3</code>ã€‚C</ins>æ ‡å‡†å‡½æ•°<code>move</code>ä¼šæ¸…ç©ºvectorä½†ä¸ä¼šè®©å…¶undefinedã€‚å› æ­¤ï¼Œåœ¨æœ€åï¼Œ<code>v2</code>æœ‰ä¸‰ä¸ªå…ƒç´ çš„æ‹·è´ï¼Œ<code>v3</code>å°±æ˜¯åŸæ¥çš„<code>v1</code>ï¼Œ<code>v1</code>å˜ä¸ºç©ºã€‚</p><p>Rustä¸­ä¹Ÿå…è®¸æ‹·è´è¯­ä¹‰å’Œç§»åŠ¨è¯­ä¹‰ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">v2</span> = v1.<span class="title function_ invoke__">clone</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="variable">v3</span> = v1;</span><br><span class="line"><span class="comment">// ILLEGAL: print!(&quot;&#123;&#125; &quot;, v1.len());</span></span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>, v2.<span class="title function_ invoke__">len</span>(), v3.<span class="title function_ invoke__">len</span>());</span><br></pre></td></tr></table></figure><p>å°†ä¼šæ‰“å°ï¼š3 3ã€‚</p><p>è¿™æ®µç¨‹åºå’ŒC<ins>ç±»ä¼¼ï¼Œä½†ä¸èƒ½å†è®¿é—®<code>v1</code>äº†ï¼Œå› ä¸ºå®ƒè¢«ç§»åŠ¨äº†ã€‚å› ä¸ºC</ins>çš„é»˜è®¤è¯­ä¹‰æ˜¯æ‹·è´è¯­ä¹‰(copy semantics)ï¼Œæ‰€ä»¥éœ€è¦è°ƒç”¨<code>move</code>æ ‡å‡†å‡½æ•°æ¥è¿›è¡Œå¯¹è±¡ç§»åŠ¨ï¼›è€ŒRustçš„é»˜è®¤è¯­ä¹‰æ˜¯ç§»åŠ¨è¯­ä¹‰(move semantics)ï¼Œæ‰€ä»¥éœ€è¦è°ƒç”¨æ ‡å‡†å‡½æ•°<code>clone</code>è¿›è¡Œæ‹·è´ã€‚</p><p>å¦å¤–ï¼Œ<code>v1</code>è™½å·²è¢«ç§»åŠ¨ï¼Œä½†ä»ç„¶å¯è®¿é—®ï¼Œåªä¸è¿‡å†…å®¹ä¸ºç©ºï¼ŒRustä¸­è¢«ç§»åŠ¨çš„å˜é‡ä¸å¯å†è¢«è®¿é—®ã€‚</p><h2 id="Copying-vs-Moving-Performance"><a class="header-anchor" href="#Copying-vs-Moving-Performance">Â¶</a>Copying vs. Moving Performance</h2><p>Ruståå‘äºç§»åŠ¨è¯­ä¹‰çš„é€‰æ‹©æ˜¯ä»æ€§èƒ½æ–¹é¢è€ƒé‡çš„ã€‚å¯¹äºæ‹¥æœ‰å †ç¼“å†²åŒºçš„å¯¹è±¡ï¼Œæ¯”å¦‚vectorï¼Œç§»åŠ¨æ¯”æ‹·è´è¦å¿«ï¼Œå› ä¸ºç§»åŠ¨çš„ä»…æ˜¯headerï¼Œç„¶è€Œå¦‚æœæ˜¯æ‹·è´ä¸€ä¸ªvectorï¼Œè¦æ±‚åˆ†é…å’Œåˆå§‹åŒ–ä¸€ä¸ªå¯èƒ½çš„å †ç¼“å†²åŒºï¼Œå®ƒæœ€ç»ˆä¼šè¢«å›æ”¶ã€‚</p><p>åœ¨C++ä¸­ï¼Œè¢«ç§»åŠ¨çš„å¯¹è±¡æ„å‘³ç€ä¸åœ¨è¢«ä½¿ç”¨äº†ï¼Œä½†è¯­è¨€ä¸ºäº†å¯¹é—ç•™ä»£ç åšåå‘å…¼å®¹(backward-compatible)ï¼Œè¢«ç§»åŠ¨çš„å¯¹è±¡ä»ç„¶å¯ä»¥è®¿é—®ï¼Œè¿™å¯èƒ½ä¼šç»™å¼€å‘è€…å†æ¬¡ä½¿ç”¨è¯¥å¯¹è±¡çš„æœºä¼šã€‚å¦å¤–ï¼Œæ¸…ç©ºä¸€ä¸ªè¢«ç§»åŠ¨çš„vectoræœ‰è¾ƒå°çš„æ¶ˆè€—ï¼Œå³å½“ä¸€ä¸ªvectorè¢«é”€æ¯ï¼Œä¼šæ£€æµ‹å®ƒæ˜¯å¦ä¸ºç©ºï¼Œè¿™ä¹Ÿæœ‰è¾ƒå°æ¶ˆè€—ã€‚Rustè¢«è®¾è®¡é¿å…æ‰‹åŠ¨ç§»åŠ¨å¯¹è±¡ï¼Œå› æ­¤ä¸ä¼šæœ‰ä¸æ­£å½“çš„ç§»åŠ¨vectorï¼Œå› ä¸ºç¼–è¯‘å™¨çŸ¥é“vectorè¢«ç§»åŠ¨äº†ï¼Œå¯ä»¥äº§ç”Ÿæ›´å¥½çš„ä»£ç ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢ä»£ç åº¦é‡æ€§èƒ½çš„å½±å“ï¼Œè¿™å¹¶ä¸ç®€å•ï¼Œå› ä¸ºç¼–è¯‘ä¼˜åŒ–å™¨ä¼šç§»é™¤loopå†…çš„å·¥ä½œã€‚</p><p>ä¸‹é¢ä»£ç ä½¿ç”¨äº†æ‹·è´è¯­ä¹‰ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::time::Instant;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">elapsed_ms</span>(t1: Instant, t2: Instant) <span class="punctuation">-&gt;</span> <span class="type">f64</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t</span> = t2 - t1;</span><br><span class="line">    t.<span class="title function_ invoke__">as_secs</span>() <span class="keyword">as</span> <span class="type">f64</span> * <span class="number">1000</span>. + t.<span class="title function_ invoke__">subsec_nanos</span>() <span class="keyword">as</span> <span class="type">f64</span> / <span class="number">1e6</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> N_ITER: <span class="type">usize</span> = <span class="number">100_000_000</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">start_time</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..N_ITER &#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="number">11</span>, <span class="number">22</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v2</span> = v1.<span class="title function_ invoke__">clone</span>();    <span class="comment">// Copy semantics is used</span></span><br><span class="line">v2.<span class="title function_ invoke__">push</span>(i);</span><br><span class="line"><span class="keyword">if</span> v1[<span class="number">1</span>] + v2[<span class="number">2</span>] == v2[<span class="number">0</span>] &#123;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;Error&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">finish_time</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; ns per iteration\n&quot;</span>, <span class="title function_ invoke__">elapsed_ms</span>(start_time, finish_time) * <span class="number">1e6</span> / N_ITER <span class="keyword">as</span> <span class="type">f64</span>);</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯C++çš„ç­‰ä»·å®ç°ï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> n_iter = <span class="number">100000000</span>;</span><br><span class="line"><span class="keyword">auto</span> start_time = <span class="built_in">clock</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n_iter; ++i) &#123;</span><br><span class="line"><span class="keyword">auto</span> v1 = std::vector&lt;<span class="type">int</span>&gt; &#123; <span class="number">11</span>, <span class="number">22</span> &#125;;</span><br><span class="line"><span class="keyword">auto</span> v2 = v1;<span class="comment">// Copy semantics is used</span></span><br><span class="line">v<span class="number">2.</span><span class="built_in">push_back</span>(i);</span><br><span class="line"><span class="keyword">if</span> (v2[<span class="number">1</span>] + v2[<span class="number">2</span>] = v2[<span class="number">0</span>]) &#123; std::cout &lt;&lt; <span class="string">&quot;Error&quot;</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">auto</span> finish_time = <span class="built_in">clock</span>();</span><br><span class="line">std::cout &lt;&lt; (finish_time - start_time) * <span class="number">1.e9</span> / CLOCKS_PER_SEC / n_iter &lt;&lt; <span class="string">&quot; ns per iteration\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢Rustç¨‹åºä½¿ç”¨äº†ç§»åŠ¨æœ¯è¯­ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::time::Instant;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">elapsed_ms</span>(t1: Instant, t2: Instant) <span class="punctuation">-&gt;</span> <span class="type">f64</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t</span> = t2 - t1;</span><br><span class="line">    t.<span class="title function_ invoke__">as_secs</span>() <span class="keyword">as</span> <span class="type">f64</span> * <span class="number">1000</span>. + t.<span class="title function_ invoke__">subsec_nanos</span>() <span class="keyword">as</span> <span class="type">f64</span> / <span class="number">1e6</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> N_ITER: <span class="type">usize</span> = <span class="number">100_000_000</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">start_time</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..N_ITER &#123;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="number">11</span>, <span class="number">22</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v2</span> = v1;    <span class="comment">// Move semantics is used</span></span><br><span class="line">v2.<span class="title function_ invoke__">push</span>(i);</span><br><span class="line"><span class="keyword">if</span> v1[<span class="number">1</span>] + v2[<span class="number">2</span>] == v2[<span class="number">0</span>] &#123;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;Error&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">finish_time</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; ns per iteration\n&quot;</span>, <span class="title function_ invoke__">elapsed_ms</span>(start_time, finish_time) * <span class="number">1e6</span> / N_ITER <span class="keyword">as</span> <span class="type">f64</span>);</span><br></pre></td></tr></table></figure><p>C++çš„ç­‰ä»·å®ç°ä¸ºï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> n_iter = <span class="number">100000000</span>;</span><br><span class="line"><span class="keyword">auto</span> start_time = <span class="built_in">clock</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n_iter; ++i) &#123;</span><br><span class="line"><span class="keyword">auto</span> v1 = std::vector&lt;<span class="type">int</span>&gt; &#123; <span class="number">11</span>, <span class="number">22</span> &#125;;</span><br><span class="line"><span class="keyword">auto</span> v2 = <span class="built_in">move</span>(v1);<span class="comment">// Move semantics is used</span></span><br><span class="line">v<span class="number">2.</span><span class="built_in">push_back</span>(i);</span><br><span class="line"><span class="keyword">if</span> (v2[<span class="number">1</span>] + v2[<span class="number">2</span>] = v2[<span class="number">0</span>]) &#123; std::cout &lt;&lt; <span class="string">&quot;Error&quot;</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">auto</span> finish_time = <span class="built_in">clock</span>();</span><br><span class="line">std::cout &lt;&lt; (finish_time - start_time) * <span class="number">1.e9</span> / CLOCKS_PER_SEC / n_iter &lt;&lt; <span class="string">&quot; ns per iteration\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ç¼–è¯‘ä¼˜åŒ–åçš„å¤§è‡´çš„æ—¶é—´æŸè€—ï¼Œ</p><table><thead><tr><th></th><th>Rust</th><th>C++</th></tr></thead><tbody><tr><td>Copy semantics</td><td>157</td><td>87</td></tr><tr><td>Move semantics</td><td>67</td><td>67</td></tr></tbody></table><p>ä¸ç®¡æ˜¯åœ¨C<ins>è¿˜æ˜¯Rustä¸­ï¼Œç§»åŠ¨æœ¯è¯­éƒ½è¦æ¯”æ‹·è´æœ¯è¯­è¦å¿«ã€‚åœ¨è¿™æ–¹é¢ï¼Œç§»åŠ¨æœ¯è¯­ä¸¤è€…éƒ½å·®ä¸å¤šï¼Œæ‹·è´æœ¯è¯­æ–¹é¢C</ins>è¦æ¯”Rustå¥½å¾ˆå¤šã€‚</p><h2 id="Moving-and-Destroying-Objects"><a class="header-anchor" href="#Moving-and-Destroying-Objects">Â¶</a>Moving and Destroying Objects</h2><p>æ‰€æœ‰è¿™äº›æ¦‚å¿µä¸å•æ˜¯å¯¹vectorï¼Œä»»ä½•æœ‰ç¼“å†²åŒºå¼•ç”¨çš„å¯¹è±¡éƒ½é€‚ç”¨ï¼Œè­¬å¦‚<code>String</code>æˆ–<code>Box</code>ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s1</span> = <span class="string">&quot;abcd&quot;</span>.<span class="title function_ invoke__">to_string</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s2</span> = s1.<span class="title function_ invoke__">clone</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s3</span> = s1;</span><br><span class="line"><span class="comment">// ILLEGAL: print!(&quot;&#123;&#125; &quot;, s1.len());</span></span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>, s2.<span class="title function_ invoke__">len</span>(), s3.<span class="title function_ invoke__">len</span>());</span><br></pre></td></tr></table></figure><p>è¿™å’ŒC++ç±»ä¼¼ï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">auto</span> s1 = std::string &#123; <span class="string">&quot;abcd&quot;</span> &#125;;</span><br><span class="line"><span class="type">const</span> <span class="keyword">auto</span> s2 = s1;</span><br><span class="line"><span class="type">const</span> <span class="keyword">auto</span> s3 = <span class="built_in">move</span>(s1);</span><br><span class="line">std::cout &lt;&lt; s<span class="number">1.</span><span class="built_in">size</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s<span class="number">2.</span><span class="built_in">size</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s<span class="number">3.</span><span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‰é¢è¯´è¿‡ï¼Œè¢«ç§»åŠ¨çš„å¯¹è±¡ä¸èƒ½å†è®¿é—®ï¼Œå› æ­¤<code>s1</code>è®¿é—®æ—¶ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼›è€Œå¯¹äºC++ï¼ŒåŸæ¥çš„<code>s1</code>ä¼šç½®ä¸ºç©ºï¼Œæ‰€ä»¥ä¼šè¾“å‡º0 4 4ã€‚</p><p>å¯¹äº<code>Box</code>ç±»å‹ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">i1</span> = <span class="type">Box</span>::<span class="title function_ invoke__">new</span>(<span class="number">12345i16</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">i2</span> = i1.<span class="title function_ invoke__">clone</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="variable">i3</span> = i1;</span><br><span class="line"><span class="comment">// ILLEGAL: print!(&quot;&#123;&#125; &quot;, i1);</span></span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>, i2, i3);</span><br></pre></td></tr></table></figure><p>å¯¹åº”çš„C++ï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">auto</span> i1 = std::unique_ptr&lt;<span class="type">short</span>&gt; &#123;</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">short</span>(<span class="number">12345</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">const</span> <span class="keyword">auto</span> i2 = std::unique_ptr&lt;<span class="type">short</span>&gt; &#123;</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">short</span>(*i1)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">const</span> <span class="keyword">auto</span> i3 = <span class="built_in">move</span>(i1);</span><br><span class="line">std::cout &lt;&lt; (<span class="type">bool</span>)i1 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; (<span class="type">bool</span>)i2 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; (<span class="type">bool</span>)i3 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; *i2 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; *i3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Rustç¨‹åºä¼šè¾“å‡º12345 12345ï¼Œä»»ä½•è®¿é—®<code>i1</code>éƒ½ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚C++ä¼šè¾“å‡º0 1 1 12345 12345ã€‚å› ä¸ºä»…<code>i1</code>æ˜¯nullï¼Œå®ƒè¢«ç§»åŠ¨åˆ°<code>i3</code>äº†ã€‚</p><p>ä»…å½“ä»–ä»¬è¢«ç”¨äºåˆå§‹åŒ–ä¸€ä¸ªå˜é‡ï¼Œç»™ä¸€ä¸ªæœ‰å€¼çš„å˜é‡é‡æ–°èµ‹å€¼ï¼Œå¯¹è±¡ä¸è¢«ç§»åŠ¨ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="literal">false</span>; <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v2</span> = <span class="built_in">vec!</span>[<span class="literal">false</span>; <span class="number">2</span>];</span><br><span class="line">v2 = v1;</span><br><span class="line">v1;</span><br></pre></td></tr></table></figure><p>ä»¥åŠç»™å‡½æ•°å‚æ•°ä¼ é€’å€¼æ—¶ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">f</span>(v2: <span class="type">Vec</span>&lt;<span class="type">bool</span>&gt;) &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="literal">false</span>; <span class="number">3</span>];</span><br><span class="line"><span class="title function_ invoke__">f</span>(v1);</span><br><span class="line">v1;</span><br></pre></td></tr></table></figure><p>ä»¥åŠæŒ‡æ´¾çš„å¯¹è±¡åœ¨å½“å‰æ²¡æœ‰å®é™…å †åˆ†é…æ—¶ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v1</span> = <span class="built_in">vec!</span>[<span class="literal">false</span>; <span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v2</span> = <span class="built_in">vec!</span>[<span class="literal">false</span>; <span class="number">0</span>];</span><br><span class="line">v2 = v1;</span><br><span class="line">v1;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ä¸Šé¢ä»»ä½•ä¸‰æ¡ç¨‹åºï¼Œæœ€åä¸€ä¸ªè¯­å¥éƒ½ä¼šå¯¼è‡´â€œuse of a moved valueâ€çš„ç¼–è¯‘é”™è¯¯ï¼Œ</p><p>å°¤å…¶æ˜¯ï¼Œåœ¨ç¨‹åºæœ€åï¼Œ<code>v1</code>è¢«ç§»åŠ¨åˆ°<code>v2</code>ï¼Œå³ä½¿ä»–ä»¬éƒ½ä¸ºç©ºï¼Œå› æ­¤å®ƒä»¬æ²¡æœ‰å †ç©ºé—´è¢«ä½¿ç”¨ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºç§»åŠ¨è§„åˆ™ç”±ç¼–è¯‘å™¨æä¾›ï¼Œå› æ­¤å®ƒåœ¨è¿è¡ŒæœŸå¿…é¡»æ˜¯ç‹¬ç«‹çš„å†…å®¹ã€‚</p><p>ä¸‹é¢çš„ä»£ç ï¼Œæœ€åä¸€è¡Œä¹Ÿä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s1</span> = S &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s2</span> = s1;</span><br><span class="line">s1;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨å¯ä»¥ç¡®åˆ‡çŸ¥é“è¿™ä¸ªå¼•ç”¨ä¸ä¼šæŒ‡å‘heapï¼Œä½†ä»ç„¶ç¼–è¯‘æŠ¥é”™ã€‚ä¸ºä»€ä¹ˆRustä¸ä¸ºè¯¥ç±»å‹ä½¿ç”¨æ‹·è´è¯­ä¹‰ï¼Ÿ</p><p>å®ƒçš„åŸºæœ¬åŸç†æ˜¯è¿™æ ·çš„ã€‚ç”¨æˆ·å®šä¹‰çš„ç±»å‹<code>S</code>ç°åœ¨æ²¡æœ‰å¼•ç”¨å†…å­˜ï¼Œä½†åœ¨å°†æ¥è½¯ä»¶ç»´æŠ¤çš„æ—¶å€™ï¼ŒæŒ‡å‘å †çš„å¼•ç”¨å¯èƒ½ä¼šè¢«æ·»åŠ ï¼Œå³<code>S</code>å¯èƒ½ä¼šè¢«ä½œä¸ºå­—æ®µ(field)ç­‰ã€‚å› æ­¤ï¼Œå¦‚æœä¸º<code>S</code>å®ç°äº†æ‹·è´è¯­ä¹‰ï¼Œå½“ç¨‹åºæºè¢«æ›´æ”¹ï¼Œä¸€ä¸ª<code>String</code>ã€<code>Box</code>ã€æˆ–é›†åˆï¼Œç›´æ¥æˆ–é—´æ¥åœ°æ·»åŠ åˆ°<code>S</code>ï¼Œä¼šå¯¼è‡´å¾ˆå¤šé”™è¯¯ã€‚å› æ­¤ï¼Œä½œä¸ºè§„åˆ™ï¼Œæœ€åä¿ç•™ç§»åŠ¨è¯­ä¹‰ã€‚</p><h2 id="Need-for-Copy-Semantics"><a class="header-anchor" href="#Need-for-Copy-Semantics">Â¶</a>Need for Copy Semantics</h2><p>æˆ‘ä»¬çœ‹åˆ°å¾ˆå¤šç±»å‹ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰ï¼ŒåŒ…æ‹¬vectorï¼ŒåŠ¨æ€å­—ç¬¦ä¸²ï¼Œboxesï¼Œç»“æ„ä½“â€¦ ä¸‹é¢çš„ç¨‹åºæ˜¯åˆæ³•çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">i1</span> = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_i2</span> = i1;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s1</span> = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_s2</span> = s1;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">r1</span> = &amp;i1;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_r2</span> = r1;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>, i1, s1, r1);</span><br></pre></td></tr></table></figure><p>ç»“æœå°†æ‰“å°ï¼šâ€œ123 abc 123â€ã€‚æ€ä¹ˆæ¥çš„ï¼Ÿ</p><p>é¦–å…ˆï¼Œå¯¹äºåŸç”Ÿç±»å‹ï¼Œé™æ€å­—ç¬¦ä¸²ï¼Œå¼•ç”¨ï¼ŒRustä¸ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰ã€‚å¯¹äºè¿™äº›æ•°æ®ç±»å‹ï¼ŒRustä½¿ç”¨æ‹·è´è¯­ä¹‰ã€‚</p><p>ä¸ºä»€ä¹ˆï¼Ÿå‰é¢çœ‹åˆ°ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡å¯ä»¥â€œæ‹¥æœ‰â€ä¸€ä¸ªæˆ–å¤šä¸ªå †å¯¹è±¡ï¼Œå®ƒçš„ç±»å‹åº”è¯¥å®ç°ç§»åŠ¨è¯­ä¹‰ï¼›ä½†å¦‚æœä¸èƒ½â€œæ‹¥æœ‰â€ä»»ä½•å †å†…å­˜ï¼Œå®ƒä»…å¯ä»¥å®ç°æ‹·è´è¯­ä¹‰ã€‚ç§»åŠ¨è¯­ä¹‰å¯¹äºåŸç”Ÿç±»å‹æ¥è¯´æ˜¯ä¸ªéº»çƒ¦çš„ä¸œè¥¿ï¼Œè€Œä¸”å®ƒä¹Ÿä¸é€‚åˆäºè¢«æ”¹å˜æ¥â€œæ‹¥æœ‰â€æŸäº›å †å¯¹è±¡ã€‚å› æ­¤ï¼Œå¯¹äºè¿™äº›ç±»å‹æ¥è¯´ï¼Œæ‹·è´è¯­ä¹‰æ˜¯å®‰å…¨çš„ã€é«˜æ•ˆçš„ã€å¹¶ä¸”æ›´æ–¹ä¾¿ã€‚</p><p>å› æ­¤ï¼ŒRustä¸­çš„æŸäº›ç±»å‹å®ç°äº†æ‹·è´è¯­ä¹‰ï¼Œå¦ä¸€äº›å®ç°äº†ç§»åŠ¨è¯­ä¹‰ã€‚å¦å¤–ï¼Œnumbersã€Booleansã€static stringsã€arraysã€tuplesã€referenceså®ç°äº†æ‹·è´è¯­ä¹‰ã€‚ç›¸åï¼Œdynamic stringsã€boxesã€é›†åˆ(åŒ…æ‹¬vectors)ã€enumsã€structsã€tuple-structså‡é»˜è®¤å®ç°äº†ç§»åŠ¨è¯­ä¹‰ã€‚</p><h2 id="Cloning-Objects"><a class="header-anchor" href="#Cloning-Objects">Â¶</a>Cloning Objects</h2><p>ç„¶è€Œï¼Œå¯¹äºå¯¹è±¡çš„æ‹·è´ï¼Œæœ‰å¦ä¸€ç§é‡è¦çš„åŒºåˆ†ã€‚æ‰€æœ‰å®ç°æ‹·è´è¯­ä¹‰çš„ç±»å‹å¯ä»¥é€šè¿‡æŒ‡æ´¾çš„æ–¹å¼ç®€å•åœ°æ‹·è´ï¼›ä½†å¯¹äºç§»åŠ¨è¯­ä¹‰çš„å¯¹è±¡æ¥è¯´ä¹Ÿå¯ä»¥è¿›è¡Œæ‹·è´ï¼Œä½†éœ€è¦ä½¿ç”¨æ ‡å‡†åº“çš„<code>clone</code>ã€‚å¯¹äºåŠ¨æ€å­—ç¬¦ä¸²ã€boxedå¯¹è±¡ã€vectorå¯ä»¥ä½¿ç”¨<code>clone</code>å‡½æ•°ã€‚ä½†å¯¹äºæŸäº›ç±»å‹ï¼Œä¸èƒ½ä½¿ç”¨<code>clone</code>å‡½æ•°ï¼Œå› ä¸ºæ²¡æœ‰åˆé€‚çš„æ‹·è´ç±»å‹ã€‚ä¾‹å¦‚ä¸€ä¸ªæ–‡ä»¶å¤„ç†ï¼Œä¸€ä¸ªGUIçª—å£å¤„ç†ï¼Œæˆ–ä¸€ä¸ªäº’æ–¥é”å¤„ç†ã€‚å¦‚æœä½ æ‹·è´äº†å®ƒï¼Œç„¶åé”€æ¯æŸä¸€ä»½æ‹·è´ï¼Œæºèµ„æºä¼šè¢«é‡Šæ”¾ï¼Œå…¶å®ƒæ‹·è´çš„å¤„ç†ä¼šå‰åä¸ä¸€è‡´ï¼š</p><p>å› æ­¤ï¼Œå…³äºå¯è¢«æ‹·è´çš„èƒ½åŠ›ï¼Œä¼šæœ‰ä¸‰ç§ä¸åŒçš„å¯¹è±¡ï¼š</p><ul><li>å¯¹è±¡ä¸â€œæ‹¥æœ‰â€ä»»ä½•ä¸œè¥¿ï¼Œæ‹·è´æ˜¯å»‰ä»·çš„ã€å®¹æ˜“çš„ã€‚</li><li>å¯¹è±¡â€œæ‹¥æœ‰â€æŸäº›å †å¯¹è±¡ï¼Œä½†ä¸â€œæ‹¥æœ‰â€å†…éƒ¨èµ„æºï¼Œæ‰€ä»¥å¯ä»¥è¢«æ‹·è´ï¼Œä½†è¿è¡ŒæœŸæœ‰è¾ƒå¤§æŸè€—ã€‚</li><li>å¯¹è±¡â€œæ‹¥æœ‰â€å†…éƒ¨èµ„æºï¼Œè­¬å¦‚æ–‡ä»¶å¤„ç†ã€GUIçª—å£å¤„ç†ï¼Œæ‰€ä»¥å®ƒä¸èƒ½è¢«æ‹·è´ã€‚</li></ul><p>ç¬¬ä¸€ç±»å¯¹è±¡ï¼Œç§°ä¸ºâ€œå¯æ‹·è´å¯¹è±¡ï¼Œcopyable objectsâ€ï¼Œå› ä¸ºå¯¹äºè¿™ç±»å¯¹è±¡æ¥è¯´ï¼Œæ‹·è´æ›´åŠ é«˜æ•ˆã€‚</p><p>ç¬¬äºŒç§å¯¹è±¡ï¼Œç§°ä¸ºâ€œå…‹éš†è€Œéæ‹·è´å¯¹è±¡ï¼Œcloneable but non-copyable objectsâ€ï¼Œé¡¾åæ€ä¹‰ï¼Œè¿™ç±»å¯¹è±¡å¯ä»¥å®ç°æ‹·è´è¯­ä¹‰ï¼Œä½†ä¹Ÿåº”è¯¥å®ç°ç§»åŠ¨è¯­ä¹‰ï¼Œä»¥é¿å…è¿è¡ŒæœŸéå¿…è¦çš„å‰¯æœ¬æ¶ˆè€—ã€‚ç”šè‡³ï¼Œéœ€è¦æ˜¾å¼æä¾›ä¸€ä¸ªæ–¹æ³•è¿›è¡Œå¤åˆ¶ã€‚</p><p>ç¬¬ä¸‰ç§ç±»å‹ï¼Œåº”è¯¥å®ç°ç§»åŠ¨è¯­ä¹‰ï¼Œä½†ä¸åº”è¯¥æä¾›å¤åˆ¶æ–¹æ³•ï¼Œå› ä¸ºå®ƒæ‹¥æœ‰çš„èµ„æºä¸èƒ½åœ¨Rustä»£ç å¤åˆ¶ï¼Œè¿™ç§èµ„æºä»…èƒ½æœ‰ä¸€ä¸ªâ€œownerâ€ï¼Œæ‰€ä»¥è¿™ç±»ç§°ä¹‹ä¸ºâ€œä¸å¯æ‹·è´å¯¹è±¡ï¼Œnon-cloneable objectsâ€ã€‚</p><p>å½“ç„¶ï¼Œä»»ä½•å¯¹è±¡å¯è‡ªåŠ¨è¢«æ‹·è´ä¹Ÿå¯æ˜¾å¼åœ°è¢«æ‹·è´ï¼Œæ‰€ä»¥ä»»ä½•å¯æ‹·è´å¯¹è±¡(copyable object)ä¹Ÿæ˜¯ä¸€ä¸ªå¯å…‹éš†å¯¹è±¡(cloneable object)ã€‚</p><p>æ€»ç»“ï¼ŒæŸäº›å¯¹è±¡ä¸èƒ½è¢«å…‹éš†(å¦‚æ–‡ä»¶å¤„ç†)ï¼ŒæŸäº›å¯ä»¥æ‹·è´(æ˜¾å¼åœ°)ï¼ŒæŸäº›å¯ä»¥éšå¼æ‹·è´(å¦‚æ•°å­—)ï¼ŒæŸäº›ä¸èƒ½æ‹·è´(å¦‚é›†åˆ)ã€‚</p><p>ä¸ºäº†åŒºåˆ†è¿™ä¸‰è€…ï¼ŒRustæ ‡å‡†åº“åŒ…å«æœ‰ä¸¤ä¸ªç‰¹æ®Šçš„traitï¼š<code>Copy</code>å’Œ<code>Clone</code>ã€‚ä»»ä½•ç±»å‹å®ç°äº†<code>Copy</code>çš„æ˜¯å¯æ‹·è´çš„ï¼›ä»»ä½•ç±»å‹å®ç°äº†<code>Clone</code>æ˜¯å¯å…‹éš†çš„ã€‚</p><p>å› æ­¤ï¼Œè¿™ä¸‰ç§å¯ä»¥æ–‡å­—æè¿°ä¸ºå¦‚ä¸‹ï¼š</p><ul><li>å¯¹è±¡å®ç°äº†<code>Copy</code>å’Œ<code>Clone</code>çš„ï¼ŒåŒ…å«æ‹·è´è¯­ä¹‰ï¼Œä¹Ÿå¯ä»¥æ˜¾å¼å…‹éš†ã€‚ä¾‹å¦‚åŸç”Ÿç±»å‹ã€‚</li><li>å¯¹è±¡å®ç°äº†<code>Clone</code>ï¼Œä½†æ²¡æœ‰å®ç°<code>Copy</code>çš„ï¼Œå®ƒä»¬å®ç°äº†ç§»åŠ¨è¯­ä¹‰ï¼Œå¯ä»¥æ˜¾å¼å…‹éš†ã€‚ä¾‹å¦‚é›†åˆç±»å‹ã€‚</li><li>æ—¢æ²¡æœ‰å®ç°<code>Copy</code>ï¼Œä¹Ÿæ²¡æœ‰å®ç°<code>Clone</code>çš„ï¼Œå±äºä¸å¯å¤åˆ¶ï¼Œå®ƒä»¬å®ç°äº†ç§»åŠ¨è¯­ä¹‰ï¼Œä¾‹å¦‚æ–‡ä»¶å¤„ç†ç­‰ã€‚</li><li>æ²¡æœ‰å¯¹è±¡æ˜¯å®ç°äº†<code>Copy</code>ï¼Œå´æ²¡æœ‰<code>Clone</code>çš„ã€‚è¿™æ„å‘³ç€å¯¹è±¡çš„æ‹·è´æ˜¯éšå¼çš„ï¼Œå´ä¸èƒ½æ˜¾å¼è°ƒç”¨ï¼Œè¿™æ˜¯æ— æ„ä¹‰çš„ã€‚</li></ul><p>ä¸‹é¢ä¾‹å­å±•ç¤ºæ‰€æœ‰çš„æƒ…å†µï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a1</span> = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">b1</span> = a1.<span class="title function_ invoke__">clone</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="variable">c1</span> = b1;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>, a1, b1, c1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">a2</span> = <span class="type">Vec</span>::&lt;<span class="type">bool</span>&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="variable">b2</span> = a2.<span class="title function_ invoke__">clone</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="variable">c2</span> = b2;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot; &#123;:?&#125;&quot;</span>, a2);</span><br><span class="line"><span class="comment">// ILLEGAL: print!(&quot; &#123;:?&#125;&quot;, b2);</span></span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot; &#123;:?&#125;&quot;</span>, c2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">a3</span> = std::fs::File::<span class="title function_ invoke__">open</span>(<span class="string">&quot;.&quot;</span>).<span class="title function_ invoke__">unwrap</span>();</span><br><span class="line"><span class="comment">// ILLEGAL: let b3 = a3.clone();</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">c3</span> = a3;</span><br><span class="line"><span class="comment">// ILLEGAL: print!(&quot; &#123;:?&#125;&quot;, a3);</span></span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot; &#123;:?&#125;&quot;</span>, c3);</span><br></pre></td></tr></table></figure><p>ç»“æœæ‰“å°ï¼šâ€œ<code>123 123 123 [] [] File</code>â€ã€‚</p><p>æ­¤å¤„ä¸‰å¤„æ³¨é‡Šçš„åœ°æ–¹æ˜¯ä¸åˆæ³•çš„è¯­å¥ã€‚</p><p>é¦–å…ˆï¼Œ<code>a1</code>æ˜¯åŸç”Ÿç±»å‹ï¼Œæ‰€ä»¥è¿™ç§ç±»å‹å¯ä»¥éšå¼æ‹·è´ï¼Œä¹Ÿå¯ä»¥æ˜¾å¼å…‹éš†(clone)ã€‚æ‰€ä»¥æ­¤å¤„ä¸‰ä¸ªå¯¹è±¡æœ‰åŒæ ·çš„å€¼ï¼Œå¹¶æ‰“å°è¾“å‡ºã€‚</p><p>å› ä¸º<code>a2</code>æ˜¯ä¸€ä¸ªé›†åˆç±»å‹ï¼Œè¿™ç§ç±»å‹å¯ä»¥å…‹éš†ï¼Œä½†ä¸èƒ½æ‹·è´ï¼Œæ‰€ä»¥<code>b2</code>å¯ä»¥é€šè¿‡<code>a2</code>æ˜¾å¼å…‹éš†ï¼Œå¯¹<code>b2</code>åˆ°<code>c2</code>çš„èµ‹å€¼æ˜¯ç§»åŠ¨è¯­ä¹‰ï¼Œ<code>b2</code>ä¸å¯å†è®¿é—®ã€‚</p><p>å¯¹äº<code>a3</code>è€Œè¨€ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ–‡ä»¶handleï¼Œè¿™ç§ç±»å‹ä¸èƒ½è¢«å…‹éš†ï¼Œå°è¯•ç¼–è¯‘<code>a3.clone()</code>ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ï¼Œä»¥åŠå¯¹<code>a3</code>åˆ°<code>c3</code>çš„èµ‹å€¼æ˜¯ç§»åŠ¨è¯­ä¹‰ï¼Œå¯¹è±¡è¢«ç§»åŠ¨äº†ï¼Œ<code>a3</code>ä¸å¯å†è®¿é—®ã€‚</p><h2 id="Making-Types-Cloneable-or-Copyable"><a class="header-anchor" href="#Making-Types-Cloneable-or-Copyable">Â¶</a>Making Types Cloneable or Copyable</h2><p>å‰é¢è¯´è¿‡ï¼Œæšä¸¾ï¼Œç»“æ„ä½“ï¼Œå…ƒç»„-ç»“æ„ä½“ï¼Œé»˜è®¤éƒ½æ²¡æœ‰å®ç°<code>Copy</code>å’Œ<code>Clone</code>ã€‚å› æ­¤å®ƒæ˜¯ä¸å¯å…‹éš†çš„ã€‚å› æ­¤ï¼Œä½ å¯èƒ½éœ€è¦ä»…å®ç°<code>Clone</code>ï¼Œåˆæˆ–<code>Copy</code>å’Œ<code>Clone</code>éƒ½éœ€è¦æœ‰ã€‚</p><p>ä¸‹é¢ä»£ç æ˜¯ä¸åˆæ³•çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = S &#123;&#125;;</span><br><span class="line">s.<span class="title function_ invoke__">clone</span>();</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ä½ ä¼šä¸ºå…¶å®ç°<code>Clone</code>ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;&#125; </span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Clone</span> <span class="keyword">for</span> <span class="title class_">S</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">clone</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123; <span class="keyword">Self</span> &#123;&#125; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = S &#123;&#125;;</span><br><span class="line">s.<span class="title function_ invoke__">clone</span>();</span><br></pre></td></tr></table></figure><p>è¿™äº›å®ç°å†™æ³•ï¼Œåœ¨å‰é¢é¢å‘å¯¹è±¡ç¼–ç¨‹ä»‹ç»è¿‡ï¼Œä½ éœ€è¦ä¸ºå…¶å®ç°<code>clone</code>æ–¹æ³•ï¼Œ</p><p>å¦å¤–ï¼Œå®ç°çš„<code>Clone</code>æ–¹æ³•ï¼Œä¸èƒ½éšå¼ä½¿ç”¨æ‹·è´è¯­ä¹‰ï¼Œæ‰€ä»¥ä¸‹é¢ä»£ç æ˜¯ä¸åˆæ³•çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;&#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Clone</span> <span class="keyword">for</span> <span class="title class_">S</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">clone</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123; <span class="keyword">Self</span> &#123;&#125; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = S &#123;&#125;;</span><br><span class="line">s.<span class="title function_ invoke__">clone</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_s2</span> = s;</span><br><span class="line">s;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œä½ éœ€è¦å®ç°<code>Copy</code>ï¼Œä½¿å…¶åˆæ³•ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;&#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Clone</span> <span class="keyword">for</span> <span class="title class_">S</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">clone</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123; <span class="keyword">Self</span> &#123;&#125; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Copy</span> <span class="keyword">for</span> <span class="title class_">S</span> &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = S &#123;&#125;;</span><br><span class="line">s.<span class="title function_ invoke__">clone</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="variable">_s2</span> = s;</span><br><span class="line">s;</span><br></pre></td></tr></table></figure><p>ä¸»è¦åˆ°<code>Copy</code>çš„å®ç°å¯ä»¥ä¸ºç©ºï¼›åªè¦å£°æ˜äº†<code>Copy</code>çš„å®ç°ï¼Œæ‹·è´è¯­ä¹‰å°±æ¿€æ´»äº†ã€‚</p><p>ä¸‹é¢å†™æ³•å´æ˜¯ä¸åˆæ³•çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123;&#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Copy</span> <span class="keyword">for</span> <span class="title class_">S</span> &#123;&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨ä¼šæŠ±æ€¨ï¼šâ€œ<code>the trait bound </code>main::S:std::clone::Clone<code> is not satisfied</code>â€ã€‚<code>Copy</code>çš„å®ç°ï¼Œå‰ææ¡ä»¶æ˜¯<code>Clone</code>ä¹Ÿå®ç°äº†ï¼Œ</p><p>ä½†ä¸‹é¢å†™æ³•ä¹Ÿæ˜¯ä¸åˆæ³•çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123; x: <span class="type">Vec</span>&lt;<span class="type">i32</span>&gt; &#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Copy</span> <span class="keyword">for</span> <span class="title class_">S</span> &#123;&#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Clone</span> <span class="keyword">for</span> <span class="title class_">S</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">clone</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123; * <span class="keyword">self</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘äº§ç”Ÿé”™è¯¯ä¿¡æ¯ï¼Œâ€œthe trait <code>Copy</code> may not be implemented for this typeâ€ã€‚å‘Šè¯‰ä½ <code>Vec&lt;i2&gt;</code>ç±»å‹æ²¡æœ‰å®ç°<code>Copy</code>ã€‚</p><p>Rustå…è®¸å®ç°<code>Copy</code>ï¼Œä»…èƒ½å…è®¸å…¶ç±»å‹æ˜¯åŒ…å«å¯æ‹·è´å¯¹è±¡çš„ï¼Œå› ä¸ºæ‹·è´å¯¹è±¡ï¼Œæ„å‘³ç€ä¼šæ‹·è´å®ƒçš„æ‰€æœ‰æˆå‘˜(members)ã€‚è¿™é‡Œï¼Œ<code>Vec</code>æ²¡æœ‰å®ç°<code>Copy</code>ï¼Œæ‰€ä»¥<code>S</code>ä¹Ÿä¸èƒ½å®ç°æ‹·è´è¯­ä¹‰ã€‚</p><p>ç›¸åï¼Œä¸‹é¢ä»£ç æ˜¯åˆæ³•çš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">S</span> &#123; x: <span class="type">Vec</span>&lt;<span class="type">i32</span>&gt; &#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Clone</span> <span class="keyword">for</span> <span class="title class_">S</span> &#123;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">clone</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123;</span><br><span class="line">S &#123; x: <span class="keyword">self</span>.x.<span class="title function_ invoke__">clone</span>() &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">s1</span> = S &#123; x: <span class="built_in">vec!</span>[<span class="number">12</span>] &#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s2</span> = s1.<span class="title function_ invoke__">clone</span>();</span><br><span class="line">s1.x[<span class="number">0</span>] += <span class="number">1</span>;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>, s1.x[<span class="number">0</span>], s2.x[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure><p>ç»“æœå°†æ‰“å°ï¼šâ€œ13 12â€ã€‚</p><p>è¿™é‡Œï¼Œ<code>S</code>ç»“æ„ä½“ä¸æ˜¯å¯æ‹·è´çš„ï¼Œä½†å´æ˜¯å¯å…‹éš†çš„(clonable)ï¼Œå› ä¸ºå®ƒå®ç°äº†<code>Clone</code>ã€‚å› æ­¤ï¼Œ<code>s1</code>å¯ä»¥å¯¹<code>s2</code>èµ‹å€¼ã€‚<code>s1</code>è¢«ä¿®æ”¹ï¼Œä¸¤è€…è¾“å‡ºå†…å®¹ä¸åŒã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ¬ç« è¦†ç›–æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆå†³å®šæ€§çš„(deterministic)ã€éšå¼(implicit)çš„å¯¹è±¡é”€æ¯æ˜¯Rustçš„ä¸€å¤§äº®ç‚¹&lt;/li&gt;
&lt;li&gt;å¯¹è±¡æ‰€æœ‰è€…(ownership)çš„æ¦‚å¿µ&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆè‡ªå®šä¹‰é”€æ¯å¯èƒ½æœ‰ç”¨ï¼Œæ€ä¹ˆåˆ›å»º&lt;/li&gt;
&lt;li&gt;ä¸‰ç§èµ‹å€¼è¯­ä¹‰ï¼šå…±äº«(share)ã€æ‹·è´(copy)ã€ç§»åŠ¨(move)&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆéšå¼å…±äº«å¯¹è½¯ä»¶æ­£ç¡®æ€§æ˜¯ç³Ÿç³•çš„&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆå¯¹è±¡çš„ç§»åŠ¨(move semantics)æ¯”èµ·æ‹·è´(copy semantics)å¯èƒ½æœ‰æ›´å¥½çš„æ€§èƒ½&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆæŸäº›ç±»å‹éœ€è¦æ‹·è´(copy semantics)ï¼ŒæŸäº›ä¸éœ€è¦ï¼Œæ€ä¹ˆåŒºåˆ†&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆæŸäº›ç±»å‹éœ€è¦æ˜¯ä¸å¯å¤åˆ¶çš„(non-cloneable)ï¼Œæ€ä¹ˆåŒºåˆ†&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cp%3E%E6%9C%AC%E7%AB%A0%E8%A6%86%E7%9B%96%E6%9C%89%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E4%B8%BA%E4%BB%80%E4%B9%88%E5%86%B3%E5%AE%9A%E6%80%A7%E7%9A%84(deterministic)%E3%80%81%E9%9A%90%E5%BC%8F(implicit)%E7%9A%84%E5%AF%B9%E8%B1%A1%E9%94%80%E6%AF%81%E6%98%AFRust%E7%9A%84%E4%B8%80%E5%A4%A7%E4%BA%AE%E7%82%B9%3C/li%3E%3Cli%3E%E5%AF%B9%E8%B1%A1%E6%89%80%E6%9C%89%E8%80%85(ownership)%E7%9A%84%E6%A6%82%E5%BF%B5%3C/li%3E%3Cli%3E%E4%B8%BA%E4%BB%80%E4%B9%88%E8%87%AA%E5%AE%9A%E4%B9%89%E9%94%80%E6%AF%81%E5%8F%AF%E8%83%BD%E6%9C%89%E7%94%A8%EF%BC%8C%E6%80%8E%E4%B9%88%E5%88%9B%E5%BB%BA%3C/li%3E%3Cli%3E%E4%B8%89%E7%A7%8D%E8%B5%8B%E5%80%BC%E8%AF%AD%E4%B9%89%EF%BC%9A%E5%85%B1%E4%BA%AB(share)%E3%80%81%E6%8B%B7%E8%B4%9D(copy)%E3%80%81%E7%A7%BB%E5%8A%A8(move)%3C/li%3E%3Cli%3E%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9A%90%E5%BC%8F%E5%85%B1%E4%BA%AB%E5%AF%B9%E8%BD%AF%E4%BB%B6%E6%AD%A3%E7%A1%AE%E6%80%A7%E6%98%AF%E7%B3%9F%E7%B3%95%E7%9A%84%3C/li%3E%3Cli%3E%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A7%BB%E5%8A%A8(move%20semantics)%E6%AF%94%E8%B5%B7%E6%8B%B7%E8%B4%9D(copy%20semantics)%E5%8F%AF%E8%83%BD%E6%9C%89%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%80%A7%E8%83%BD%3C/li%3E%3Cli%3E%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9F%90%E4%BA%9B%E7%B1%BB%E5%9E%8B%E9%9C%80%E8%A6%81%E6%8B%B7%E8%B4%9D(copy%20semantics)%EF%BC%8C%E6%9F%90%E4%BA%9B%E4%B8%8D%E9%9C%80%E8%A6%81%EF%BC%8C%E6%80%8E%E4%B9%88%E5%8C%BA%E5%88%86%3C/li%3E%3Cli%3E%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9F%90%E4%BA%9B%E7%B1%BB%E5%9E%8B%E9%9C%80%E8%A6%81%E6%98%AF%E4%B8%8D%E5%8F%AF%E5%A4%8D%E5%88%B6%E7%9A%84(non-cloneable)%EF%BC%8C%E6%80%8E%E4%B9%88%E5%8C%BA%E5%88%86%3C/li%3E%3C/ul%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch2%20id=%22Deterministic-Destruction%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Deterministic-Destruction%22%3E%C2%B6%3C/a%3EDeterministic%20Destruction%3C/h2%3E%3Cp%3E%E5%89%8D%E9%9D%A2%EF%BC%8C%E6%88%91%E4%BB%AC%E7%9C%8B%E5%88%B0%E6%9C%89%E5%87%A0%E7%A7%8D%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E8%BF%99%E4%BA%9B%E5%88%86%E9%85%8D%E9%83%BD%E6%98%AF%E5%9C%A8stack%E5%92%8Cheap%E5%8F%91%E7%94%9F%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E4%B8%B4%E6%97%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E5%88%86%E9%85%8D%E5%9C%A8stack%EF%BC%9B%3C/li%3E%3Cli%3E%E5%8F%98%E9%87%8F(%E5%8C%85%E6%8B%AC%E6%95%B0%E7%BB%84)%EF%BC%8C%E5%88%86%E9%85%8D%E5%9C%A8stack%EF%BC%9B%3C/li%3E%3Cli%3E%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C%E5%88%86%E9%85%8D%E5%9C%A8stack%EF%BC%9B%3C/li%3E%3Cli%3E%3Ccode%3EBox%3C/code%3E%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%BC%95%E7%94%A8%E5%88%86%E9%85%8D%E5%9C%A8stack%EF%BC%8C%E5%BC%95%E7%94%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D%E5%9C%A8heap%EF%BC%9B%3C/li%3E%3Cli%3E%E5%8A%A8%E6%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E9%9B%86%E5%90%88(%E5%8C%85%E6%8B%ACvector%EF%BC%89,header%E5%88%86%E9%85%8D%E5%9C%A8stack%EF%BC%8C%E6%95%B0%E6%8D%AE%E5%88%86%E9%85%8D%E5%9C%A8heap%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E5%AF%B9%E8%B1%A1%E2%80%9C%3Cstrong%3E%E7%9C%9F%E5%AE%9E%3C/strong%3E%E2%80%9D%E7%9A%84%E7%9E%AC%E6%97%B6%E5%88%86%E9%85%8D%E6%98%AF%E5%BE%88%E9%9A%BE%E9%A2%84%E6%B5%8B%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E5%8F%96%E5%86%B3%E4%BA%8E%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E6%88%91%E4%BB%AC%E8%80%83%E8%99%91%E2%80%9C%3Cstrong%3E%E6%A6%82%E5%BF%B5%3C/strong%3E%E2%80%9D%E4%B8%8A%E7%9A%84%E7%9E%AC%E6%97%B6%E5%88%86%E9%85%8D%E6%83%85%E5%86%B5%E3%80%82%3C/p%3E%3Cp%3E%E6%A6%82%E5%BF%B5%E4%B8%8A%EF%BC%8C%E5%BD%93%E5%AF%B9%E5%BA%94%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%87%BA%E7%8E%B0%E5%9C%A8%E4%BB%A3%E7%A0%81%E6%97%B6%E5%8F%91%E7%94%9Fstack%E5%88%86%E9%85%8D%EF%BC%8C%E5%9B%A0%E6%AD%A4%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E4%B8%B4%E6%97%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E5%8F%98%E9%87%8F%EF%BC%8C%E6%95%B0%E7%BB%84%E5%9C%A8%E5%AE%83%E4%BB%AC%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%87%BA%E7%8E%B0%E5%9C%A8%E4%BB%A3%E7%A0%81%E6%97%B6%E8%A2%AB%E5%88%86%E9%85%8D%EF%BC%9B%3C/li%3E%3Cli%3E%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C%E5%9C%A8%E5%87%BD%E6%95%B0/%E9%97%AD%E5%8C%85%E8%A2%AB%E8%B0%83%E7%94%A8%E6%97%B6%E8%A2%AB%E5%88%86%E9%85%8D%EF%BC%9B%3C/li%3E%3Cli%3E%3Ccode%3EBox%3C/code%3E%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%8A%A8%E6%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E9%9B%86%E5%90%88header%EF%BC%8C%E5%9C%A8%E4%BB%A3%E7%A0%81%E7%AC%AC%E4%B8%80%E5%87%BA%E7%8E%B0%E6%97%B6%E8%A2%AB%E5%88%86%E9%85%8D%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3Eheap%E7%9A%84%E5%BD%93%E9%9C%80%E8%A6%81%E8%BF%99%E4%BA%9B%E6%95%B0%E6%8D%AE%E6%97%B6%EF%BC%8C%E8%BF%9B%E8%A1%8Cheap%E5%88%86%E9%85%8D%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%3Ccode%3EBox%3C/code%3E%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%86%E9%85%8D%EF%BC%8C%E7%94%B1%3Ccode%3EBox::new%3C/code%3E%E5%87%BD%E6%95%B0%E8%A7%A6%E5%8F%91%EF%BC%9B%3C/li%3E%3Cli%3E%E5%8A%A8%E6%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AD%97%E7%AC%A6%E5%88%86%E9%85%8D%EF%BC%8C%E5%9C%A8%E5%AD%97%E7%AC%A6%E8%A2%AB%E6%B7%BB%E5%8A%A0%E5%88%B0%E8%AF%A5%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%97%B6%E8%A7%A6%E5%8F%91%EF%BC%9B%3C/li%3E%3Cli%3E%E9%9B%86%E5%90%88%E5%86%85%E5%AE%B9%E7%9A%84%E5%88%86%E9%85%8D%EF%BC%8C%E5%87%BA%E7%8E%B0%E5%9C%A8%E6%9C%89%E6%95%B0%E6%8D%AE%E8%A2%AB%E6%B7%BB%E5%8A%A0%E5%88%B0%E9%9B%86%E5%90%88%E6%97%B6%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E4%B8%8A%E9%9D%A2%E8%BF%99%E4%BA%9B%E8%B7%9F%E5%A4%A7%E5%A4%9A%E6%95%B0%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E6%B2%A1%E4%B8%8D%E5%90%8C%E4%B9%8B%E5%A4%84%E3%80%82%E9%82%A3%E4%B9%88%E6%95%B0%E6%8D%AE%E7%9A%84%E9%94%80%E6%AF%81%E5%9C%A8%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E5%8F%91%E7%94%9F%EF%BC%9F%3C/p%3E%3Cp%3E%E6%A6%82%E5%BF%B5%E4%B8%8A%EF%BC%8C%E5%9C%A8Rust%E4%B8%AD%EF%BC%8C%E5%BD%93%E8%BF%99%E4%BA%9B%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%86%8D%E5%8F%AF%E8%A2%AB%E8%AE%BF%E9%97%AE%E6%97%B6%EF%BC%8C%E8%87%AA%E5%8A%A8%E9%94%80%E6%AF%81%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E4%B8%B4%E6%97%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A2%AB%E5%9B%9E%E6%94%B6%EF%BC%8C%E5%BD%93%E5%AE%83%E5%9C%A8%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%BB%93%E6%9D%9F%E4%BD%8D%E7%BD%AE(%E5%8D%B3%EF%BC%8C%E5%9C%A8%E4%B8%8B%E4%B8%80%E4%B8%AA%3Ccode%3E;%3C/code%3E%E4%BD%8D%E7%BD%AE%E6%88%96%E5%BD%93%E5%89%8Dscope%E7%9A%84%E7%BB%93%E6%9D%9F%E4%BD%8D%E7%BD%AE)%EF%BC%9B%3C/li%3E%3Cli%3E%E5%8F%98%E9%87%8F(%E5%8C%85%E6%8B%AC%E6%95%B0%E7%BB%84)%E8%A2%AB%E5%9B%9E%E6%94%B6%EF%BC%8C%E5%BD%93%E5%AE%83%E5%9C%A8scope%E7%9A%84%E5%A3%B0%E6%98%8E%E7%BB%93%E6%9D%9F%EF%BC%9B%3C/li%3E%3Cli%3E%E5%87%BD%E6%95%B0/%E9%97%AD%E5%8C%85%E7%9A%84%E5%8F%82%E6%95%B0%E7%9A%84%E5%9B%9E%E6%94%B6%EF%BC%8C%E5%87%BA%E7%8E%B0%E5%9C%A8%E5%87%BD%E6%95%B0/%E9%97%AD%E5%8C%85%E4%BD%93%E7%BB%93%E6%9D%9F%EF%BC%9B%3C/li%3E%3Cli%3E%3Ccode%3EBox%3C/code%3E%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%9B%9E%E6%94%B6%EF%BC%8C%E5%9C%A8%E5%BD%93%E5%89%8Dscope%E7%9A%84%E5%A3%B0%E6%98%8E%E7%BB%93%E6%9D%9F%EF%BC%9B%3C/li%3E%3Cli%3E%E5%8A%A8%E6%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AD%97%E7%AC%A6%E8%A2%AB%E5%9B%9E%E6%94%B6%EF%BC%8C%E5%87%BA%E7%8E%B0%E5%9C%A8%E4%BB%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E5%88%A0%E9%99%A4%E8%AF%A5%E5%AD%97%E7%AC%A6%E6%97%B6%EF%BC%8C%E6%88%96%E8%80%85%E6%95%B4%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%A0%E9%99%A4%E6%97%B6%EF%BC%9B%3C/li%3E%3Cli%3E%E9%9B%86%E5%90%88%E4%B8%AD%E7%9A%84%E6%9D%A1%E7%9B%AE%E8%A2%AB%E5%9B%9E%E6%94%B6%EF%BC%8C%E5%87%BA%E7%8E%B0%E5%9C%A8%E4%BB%8E%E9%9B%86%E5%90%88%E4%B8%AD%E5%88%A0%E9%99%A4%E8%AF%A5%E6%9D%A1%E7%9B%AE%E6%97%B6%EF%BC%8C%E6%88%96%E8%80%85%E6%95%B4%E4%B8%AA%E9%9B%86%E5%90%88%E8%A2%AB%E5%88%A0%E9%99%A4%E6%97%B6%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E8%BF%99%E4%B8%80%E6%A6%82%E5%BF%B5%E4%BD%BF%E5%BE%97Rust%E5%92%8C%E5%A4%A7%E9%83%A8%E5%88%86%E8%AF%AD%E8%A8%80%E5%8C%BA%E5%88%86%E5%BC%80%E6%9D%A5%E3%80%82%E4%BB%BB%E4%BD%95%E8%AF%AD%E8%A8%80%E9%83%BD%E6%9C%89%E4%B8%B4%E6%97%B6%E5%AF%B9%E8%B1%A1%E6%88%96%E6%A0%88%E5%88%86%E9%85%8D(stack-allocated)%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%BF%99%E7%A7%8D%E5%AF%B9%E8%B1%A1%E6%98%AF%E8%87%AA%E5%8A%A8%E5%9B%9E%E6%94%B6%E7%9A%84%E3%80%82%E4%BD%86%E5%A0%86%E5%88%86%E9%85%8D(heap-allocated)%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%9B%9E%E6%94%B6%EF%BC%8C%E4%B8%8D%E5%90%8C%E8%AF%AD%E8%A8%80%E5%90%84%E4%B8%8D%E7%9B%B8%E5%90%8C%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E6%9F%90%E4%BA%9B%E8%AF%AD%E8%A8%80%E4%B8%AD%EF%BC%8C%E8%AF%B8%E5%A6%82Pascal%EF%BC%8CC%EF%BC%8CC++%EF%BC%8Cheap%E4%B8%8A%E7%9A%84%E5%AF%B9%E8%B1%A1%E9%80%9A%E5%B8%B8%E4%BB%85%E8%83%BD%E6%98%BE%E5%BC%8F%E5%9C%B0%E8%B0%83%E7%94%A8%E7%B1%BB%E4%BC%BC%3Ccode%3Efree%3C/code%3E%E6%88%96%3Ccode%3Edelete%3C/code%3E%E8%BF%99%E4%BA%9B%E5%87%BD%E6%95%B0%E8%BF%9B%E8%A1%8C%E5%9B%9E%E6%94%B6%E3%80%82%E5%8F%A6%E4%B8%80%E4%BA%9B%E8%AF%AD%E8%A8%80%EF%BC%8C%E8%AF%B8%E5%A6%82Java%EF%BC%8CJavaScript%EF%BC%8CC+%EF%BC%8CPython%EF%BC%8C%E5%A0%86%E4%B8%8A%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8D%E5%8F%AF%E8%AE%BF%E9%97%AE%E6%97%B6%EF%BC%8C%E5%B9%B6%E6%B2%A1%E6%9C%89%E7%AB%8B%E5%8D%B3%E8%BF%9B%E8%A1%8C%E5%9B%9E%E6%94%B6%EF%BC%8C%E8%80%8C%E6%98%AF%E6%9C%89%E4%B8%80%E4%B8%AA%E5%AE%9A%E6%9C%9F%E7%9A%84%E8%A1%8C%E7%A8%8B%EF%BC%8C%E7%94%A8%E6%9D%A5%E6%9F%A5%E6%89%BEheap%E4%B8%8D%E5%8F%AF%E8%BE%BE%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B9%B6%E5%9B%9E%E6%94%B6%E8%BF%99%E4%BA%9B%E5%AF%B9%E8%B1%A1%E3%80%82%E8%BF%99%E7%A7%8D%E6%9C%BA%E5%88%B6%E7%A7%B0%E4%B8%BA%E2%80%9C%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E2%80%9D%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E7%B1%BB%E4%BC%BC%E5%9F%8E%E5%B8%82%E7%9A%84%E6%B8%85%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%9A%E5%AE%83%E5%AE%9A%E6%9C%9F%E6%B8%85%E7%90%86%E5%9F%8E%E9%95%87%EF%BC%8C%E5%BD%93%E6%9C%89%E5%9E%83%E5%9C%BE%E5%A0%86%E7%A7%AF%E3%80%82%3C/p%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%9C%A8C++%E5%92%8C%E7%B1%BB%E4%BC%BC%E8%AF%AD%E8%A8%80%E4%B8%AD%EF%BC%8Cheap%E5%9B%9E%E6%94%B6%E6%97%A2%E6%98%AF%3Ccode%3E%E5%86%B3%E5%AE%9A%E6%80%A7%E7%9A%84%EF%BC%8Cdeterministic%3C/code%3E%EF%BC%8C%E4%B9%9F%E6%98%AF%3Ccode%3E%E6%98%BE%E5%BC%8F%E7%9A%84%EF%BC%8Cexplicit%3C/code%3E%E3%80%82%E5%86%B3%E5%AE%9A%E6%80%A7%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E5%9C%A8%E6%BA%90%E4%BB%A3%E7%A0%81%E7%9A%84%E5%AE%9A%E4%B9%89%E4%BD%8D%E7%BD%AE%EF%BC%8C%E4%BB%A5%E5%8F%8A%E6%98%AF%E6%98%BE%E5%BC%8F%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E8%A6%81%E6%B1%82%E7%A8%8B%E5%BA%8F%E5%91%98%E7%BC%96%E5%86%99%E6%8C%87%E5%AE%9A%E7%9A%84%E5%9B%9E%E6%94%B6%E8%AF%AD%E5%8F%A5%E3%80%82%E5%86%B3%E5%AE%9A%E6%80%A7%E7%9A%84%E5%A5%BD%E5%A4%84%E5%9C%A8%E4%BA%8E%EF%BC%8C%E5%8F%AF%E8%83%BD%E6%9C%89%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%80%A7%E8%83%BD%EF%BC%8C%E7%A8%8B%E5%BA%8F%E5%91%98%E5%8F%AF%E8%83%BD%E6%9B%B4%E5%A5%BD%E5%9C%B0%E6%8E%A7%E5%88%B6%E3%80%82%E4%BD%86%E6%98%BE%E5%BC%8F%E7%9A%84%E5%8D%B4%E4%B8%8D%E5%A5%BD%EF%BC%8C%E5%9B%A0%E4%B8%BA%E4%B8%8D%E8%83%BD%E9%81%BF%E5%85%8D%E5%87%BA%E7%8E%B0%E9%94%99%E8%AF%AF%E7%9A%84%E5%9B%9E%E6%94%B6%EF%BC%8C%E4%B8%91%E9%99%8B%E7%9A%84bug%E7%BB%93%E6%9E%9C%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E5%9C%A8Java%E5%92%8C%E7%B1%BB%E4%BC%BC%E8%AF%AD%E8%A8%80%E4%B8%AD%EF%BC%8Cheap%E5%9B%9E%E6%94%B6%E6%97%A2%E6%98%AF%3Ccode%3E%E9%9D%9E%E5%86%B3%E5%AE%9A%E6%80%A7%E7%9A%84%EF%BC%8Cnon-deterministic%3C/code%3E%EF%BC%8C%E4%B9%9F%E6%98%AF%3Ccode%3E%E9%9A%90%E5%BC%8F%E7%9A%84%EF%BC%8Cimplicit%3C/code%3E%E3%80%82%E9%9D%9E%E5%86%B3%E5%AE%9A%E6%80%A7%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E5%87%BA%E7%8E%B0%E6%9C%AA%E7%9F%A5%E7%9A%84%E6%89%A7%E8%A1%8C%E7%9E%AC%E6%97%B6%EF%BC%8C%E4%BB%A5%E5%8F%8A%E6%98%AF%E9%9A%90%E5%BC%8F%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E4%B8%8D%E9%9C%80%E8%A6%81%E6%8C%87%E5%AE%9A%E5%9B%9E%E6%94%B6%E8%AF%AD%E5%8F%A5%E3%80%82%E9%9D%9E%E5%86%B3%E5%AE%9A%E6%80%A7%E6%98%AF%E7%B3%9F%E7%B3%95%E7%9A%84%EF%BC%8C%E4%BD%86%E9%9A%90%E5%BC%8F%E7%9A%84%E7%BE%8E%E5%A5%BD%E7%9A%84%E3%80%82%3C/p%3E%3Cp%3E%E5%8C%BA%E5%88%AB%E4%BA%8E%E8%BF%99%E4%B8%A4%E7%A7%8D%E6%8A%80%E6%9C%AF%EF%BC%8C%E5%9C%A8Rust%E4%B8%AD%EF%BC%8C%E9%80%9A%E5%B8%B8%EF%BC%8Cheap%E7%9A%84%E5%9B%9E%E6%94%B6%E6%97%A2%E6%98%AF%3Ccode%3E%E5%86%B3%E5%AE%9A%E6%80%A7%E7%9A%84%EF%BC%8Cdeterministic%3C/code%3E%EF%BC%8C%E4%B9%9F%E6%98%AF%3Ccode%3E%E9%9A%90%E5%BC%8F%E7%9A%84%EF%BC%8Cimplicit%3C/code%3E%EF%BC%8C%E8%BF%99%E6%98%AFRust%E6%AF%94%E8%B5%B7%E5%85%B6%E5%AE%83%E8%AF%AD%E8%A8%80%E6%9B%B4%E5%A4%A7%E7%9A%84%E4%BC%98%E5%8A%BF%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E7%A7%8D%E5%8F%AF%E8%83%BD%E6%80%A7%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%8C%E6%98%AF%E5%9B%A0%E4%B8%BA%E9%81%B5%E5%BE%AA%E4%BA%86%E5%9F%BA%E4%BA%8E%E2%80%9C%3Ccode%3E%E6%89%80%E6%9C%89%E8%80%85%EF%BC%8Cownership%3C/code%3E%E2%80%9D%E7%9A%84%E6%A6%82%E5%BF%B5%EF%BC%8C%3C/p%3E%3Ch2%20id=%22Ownership%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Ownership%22%3E%C2%B6%3C/a%3EOwnership%3C/h2%3E%3Cp%3E%E9%A6%96%E5%85%88%E4%BB%8B%E7%BB%8D%E6%9C%AF%E8%AF%AD%E2%80%9C%3Cstrong%3E%3Ccode%3Eto%20own%3C/code%3E%3C/strong%3E%E2%80%9D%E3%80%82%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%AD%EF%BC%8C%E5%AF%B9%E4%BA%8E%E4%B8%80%E4%B8%AA%E6%A0%87%E8%AF%86%E7%AC%A6%E6%88%96%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1A%EF%BC%8C%E6%8B%A5%E6%9C%89(to%20own)%E5%AF%B9%E8%B1%A1B%EF%BC%8C%E6%84%8F%E5%91%B3%E7%9D%80A%E5%8F%AF%E4%BB%A5%E5%AF%B9B%E8%BF%9B%E8%A1%8C%E5%9B%9E%E6%94%B6%EF%BC%8C%E5%AE%83%E6%9C%89%E4%B8%A4%E4%B8%AA%E6%84%8F%E4%B9%89%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3EOnly%20A%20can%20deallocate%20B.%3C/li%3E%3Cli%3EWhen%20A%20becomes%20unreachable,%20A%20must%20deallocate%20B.%3C/li%3E%3C/ul%3E%3Cp%3E%E5%9C%A8Rust%E4%B8%AD%E6%B2%A1%E6%9C%89%E6%98%BE%E7%A4%BA%E7%9A%84%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%EF%BC%8C%E5%9B%A0%E6%AD%A4%E8%BF%99%E7%A7%8D%E5%AE%9A%E4%B9%89%E5%8F%AF%E4%BB%A5%E5%A4%8D%E8%BF%B0%E4%B8%BA%E2%80%9CA%20owns%20B%20means%20that%20B%20is%20deallocated%20%20when%20and%20only%20when%20A%20becomes%20unreachable%E2%80%9D%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E3%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ea%20=%20%3Cspan%20class=%22number%22%3E4%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eb%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E11%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E,%20%3Cspan%20class=%22number%22%3E33%3C/span%3E,%20%3Cspan%20class=%22number%22%3E44%3C/span%3E,%20%3Cspan%20class=%22number%22%3E55%3C/span%3E];%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%AF%A5%E7%A8%8B%E5%BA%8F%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Ea%3C/code%3E%E6%8B%A5%E6%9C%89%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%88%9D%E5%A7%8B%E5%8C%96%E5%80%BC3%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%BD%93%3Ccode%3Ea%3C/code%3E%E7%A6%BB%E5%BC%80%E4%BA%86%E5%AE%83%E7%9A%84scope%EF%BC%8C%E5%8F%98%E6%88%90%E4%B8%8D%E5%8F%AF%E8%AE%BF%E9%97%AE%EF%BC%8C%E8%AF%A5%E5%88%9D%E5%A7%8B%E5%8C%96%E5%80%BC%E4%B8%BA3%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%A2%AB%E5%9B%9E%E6%94%B6%E3%80%82%E6%88%91%E4%BB%AC%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%BF%99%E6%A0%B7%E8%AF%B4%E2%80%9C%3Ccode%3Ea%3C/code%3E%E6%98%AF%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%80%E6%9C%89%E8%80%85%EF%BC%8C%E5%AE%83%E7%94%B1%E5%80%BC3%E5%88%9D%E5%A7%8B%E5%8C%96%E2%80%9D%E3%80%82%E5%B0%BD%E7%AE%A1%EF%BC%8C%E6%88%91%E4%BB%AC%E4%B8%8D%E8%83%BD%E8%AF%B4%E2%80%9C%3Ccode%3Ea%3C/code%3E%E6%8B%A5%E6%9C%893%E2%80%9D%EF%BC%8C%E5%9B%A0%E4%B8%BA3%E6%98%AF%E4%B8%80%E4%B8%AA%E5%80%BC%EF%BC%8C%E4%B8%8D%E6%98%AF%E5%AF%B9%E8%B1%A1%EF%BC%9B%E4%BB%85%E5%AF%B9%E8%B1%A1%E6%89%8D%E8%83%BD%E8%A2%AB%E6%8B%A5%E6%9C%89(owned)%E3%80%82%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%EF%BC%8C%E6%9C%89%E5%BE%88%E5%A4%9A%E5%AF%B9%E8%B1%A1%E5%80%BC%E6%98%AF3%E7%9A%84%EF%BC%8C%3Ccode%3Ea%3C/code%3E%E6%8B%A5%E6%9C%89%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E3%80%82%E5%9C%A8%E7%AC%AC%E4%BA%8C%E6%9D%A1%E8%AF%AD%E5%8F%A5%E4%B8%AD%EF%BC%8C%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%80%BC%E5%8F%98%E4%B8%BA4%EF%BC%9B%E4%BD%86%E5%AE%83%E7%9A%84%E6%8B%A5%E6%9C%89%E8%80%85%E6%B2%A1%E6%9C%89%E5%8F%98%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8%E6%9C%80%E5%90%8E%E4%B8%80%E6%9D%A1%E8%AF%AD%E5%8F%A5%E4%B8%AD%EF%BC%8C%3Ccode%3Eb%3C/code%3E%E7%94%B1%E4%B8%80%E4%B8%AA5%E4%B8%AA%E5%85%83%E7%B4%A0%E7%9A%84vector%E5%88%9D%E5%A7%8B%E5%8C%96%E3%80%82%E8%BF%99%E4%B8%AAvector%E7%94%B1%E4%B8%80%E4%B8%AA%E5%A4%B4(header)%E5%92%8C%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E7%BC%93%E5%86%B2%E5%8C%BA(data%20buffer)%EF%BC%9Bheader%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%94%B1%E4%B8%80%E4%B8%AA%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%89%E4%B8%AAfiled%E8%A1%A8%E7%A4%BA%EF%BC%9A%E4%B8%80%E4%B8%AA%E6%89%A7%E8%A1%8Cdata%20buffer%E7%9A%84%E6%8C%87%E9%92%88%EF%BC%8C%E4%B8%A4%E4%B8%AA%E6%95%B0(capacity%E3%80%81len)%EF%BC%9B%E6%95%B0%E6%8D%AE%E7%BC%93%E5%86%B2%E5%8C%BA%E5%8C%85%E5%90%AB5%E4%B8%AA%E6%9D%A1%E7%9B%AE%EF%BC%8C%E5%8F%A6%E5%A4%96%E5%8F%AF%E8%83%BD%E6%9C%89%E9%A2%9D%E5%A4%96%E7%9A%84%E7%A9%BA%E9%97%B4%E3%80%82%E8%BF%99%E9%87%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E8%AF%B4%E2%80%9C%3Ccode%3Eb%3C/code%3E%E6%8B%A5%E6%9C%89vector%E7%9A%84header%EF%BC%8C%E4%BB%A5%E5%8F%8A%E4%B8%80%E4%B8%AA%E6%8C%87%E9%92%88%EF%BC%8C%E8%AF%A5%E6%8C%87%E9%92%88%E5%8C%85%E5%90%AB%E6%95%B0%E6%8D%AE%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E6%8B%A5%E6%9C%89%E8%80%85%E5%A4%B4(header)%E2%80%9D%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8C%E5%BD%93%3Ccode%3Eb%3C/code%3E%E7%A6%BB%E5%BC%80%E4%BA%86%E5%AE%83%E7%9A%84scope%EF%BC%8Cvector%E7%9A%84%E5%A4%B4%E8%A2%AB%E5%9B%9E%E6%94%B6%EF%BC%9B%E5%BD%93vector%E7%9A%84header%E8%A2%AB%E5%9B%9E%E6%94%B6%E5%90%8E%EF%BC%8C%E5%AE%83%E5%8C%85%E5%90%AB%E7%9A%84%E6%8C%87%E9%92%88%E4%B8%8D%E5%8F%AF%E8%AE%BF%E9%97%AE%EF%BC%9B%E5%BD%93%E5%89%8D%E7%9A%84vector%E8%A1%A8%E7%A4%BA%E4%B8%BA%E4%B8%80%E4%B8%AA%E7%A9%BA%EF%BC%8C%E5%9B%A0%E6%AD%A4%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E6%9D%A1%E7%9B%AE%E8%A2%AB%E5%9B%9E%E6%94%B6%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8D%E6%98%AF%E6%AF%8F%E4%B8%AA%E5%BC%95%E7%94%A8%E6%89%80%E6%9C%89%E8%80%85%E6%98%AF%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E3%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ea_ref%3C/span%3E%20=%20&amp;amp;a;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20a);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E9%87%8C%E7%9A%84%3Ccode%3Ea_ref%3C/code%3E%E5%8F%98%E9%87%8F%E6%8B%A5%E6%9C%89%E4%B8%80%E4%B8%AA%E5%BC%95%E7%94%A8%EF%BC%8C%E4%BD%86%E8%BF%99%E4%B8%AA%E5%BC%95%E7%94%A8%E4%BB%80%E4%B9%88%E9%83%BD%E6%B2%A1%E6%9C%89%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8C%E5%9C%A8%E8%BF%99%E4%B8%AA%E5%B5%8C%E5%85%A5%E5%9D%97%E7%9A%84%E7%BB%93%E6%9D%9F%E4%BD%8D%E7%BD%AE%EF%BC%8C%3Ccode%3Ea_ref%3C/code%3E%E5%8F%98%E9%87%8F%E7%A6%BB%E5%BC%80%E4%BA%86%E5%AE%83%E7%9A%84scope%EF%BC%8C%E8%AF%A5%E5%BC%95%E7%94%A8%E8%A2%AB%E5%9B%9E%E6%94%B6%EF%BC%8C%E4%BD%86%E5%BC%95%E7%94%A8%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%8D%B3%E8%BF%99%E4%B8%AA%E5%8C%85%E5%90%AB%E5%80%BC3%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%B2%A1%E6%9C%89%E7%AB%8B%E5%8D%B3%E8%A2%AB%E5%9B%9E%E6%94%B6%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E5%BF%85%E9%A1%BB%E5%9C%A8%E6%9C%80%E5%90%8E%E4%B8%80%E6%9D%A1%E8%AF%AD%E5%8F%A5%E6%89%93%E5%8D%B0%E8%BE%93%E5%87%BA%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%BA%E4%BA%86%E7%A1%AE%E4%BF%9D%E6%AF%8F%E4%B8%AA%E5%AF%B9%E8%B1%A1%E8%87%AA%E5%8A%A8%E5%9B%9E%E6%94%B6%EF%BC%8CRust%E4%B8%AD%E6%9C%89%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E8%A7%84%E5%88%99%EF%BC%8C%E5%9C%A8%E6%AF%8F%E4%B8%AA%E6%89%A7%E8%A1%8C%E7%9A%84%E7%9E%AC%E6%97%B6%EF%BC%8C%E6%AF%8F%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%9C%89%E4%B8%94%E4%BB%85%E8%83%BD%E6%9C%89%E4%B8%80%E4%B8%AA%E2%80%9Cowner%E2%80%9D%E3%80%82%E5%BD%93%E8%BF%99%E4%B8%AAowner%E8%A2%AB%E5%9B%9E%E6%94%B6%EF%BC%8C%E8%AF%A5%E5%AF%B9%E8%B1%A1%E8%87%AA%E8%BA%AB%E8%A2%AB%E5%9B%9E%E6%94%B6%E3%80%82%E5%A6%82%E6%9E%9C%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%87%A0%E4%B8%AAowner%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%8F%AF%E8%83%BD%E8%A2%AB%E5%9B%9E%E6%94%B6%E5%87%A0%E6%AC%A1%EF%BC%8C%E8%BF%99%E6%98%AF%E4%B8%8D%E8%A2%AB%E5%85%81%E8%AE%B8%E7%9A%84%E3%80%82%E5%A6%82%E6%9E%9C%E5%AF%B9%E8%B1%A1%E6%B2%A1%E6%9C%89owner%EF%BC%8C%E8%AF%A5%E5%AF%B9%E8%B1%A1%E4%BB%8E%E4%B8%8D%E8%A2%AB%E5%9B%9E%E6%94%B6%EF%BC%8C%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E5%8F%AB%E5%81%9A%E2%80%9C%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2%EF%BC%8Cmemory%20leak%E2%80%9D%E3%80%82%3C/p%3E%3Ch2%20id=%22Destructors%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Destructors%22%3E%C2%B6%3C/a%3EDestructors%3C/h2%3E%3Cp%3E%E6%88%91%E4%BB%AC%E7%9C%8B%E5%88%B0%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E6%9C%89%E4%B8%A4%E6%AD%A5%EF%BC%9A%E7%BB%99%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D%E5%86%85%E5%AD%98%EF%BC%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%BF%99%E4%B8%AA%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E7%9A%84%E5%80%BC%E3%80%82%E5%AF%B9%E4%BA%8E%E5%A4%8D%E6%9D%82%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E6%98%AF%E5%A6%82%E6%AD%A4%E5%A4%8D%E6%9D%82%EF%BC%8C%E9%80%9A%E5%B8%B8%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E5%AE%9E%E7%8E%B0%E3%80%82%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%E5%8F%AB%E2%80%9C%E6%9E%84%E9%80%A0%E5%99%A8%E2%80%9D%EF%BC%8C%E7%94%A8%E6%9D%A5%E2%80%9C%E6%9E%84%E9%80%A0%E2%80%9D%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3Cp%3E%E6%88%91%E4%BB%AC%E5%88%9A%E7%9C%8B%E5%88%B0%EF%BC%8C%E5%BD%93%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E8%A2%AB%E5%9B%9E%E6%94%B6%EF%BC%8C%E4%BC%9A%E5%8F%91%E7%94%9F%E4%B8%80%E4%BA%9B%E5%A4%8D%E6%9D%82%E6%83%85%E5%86%B5%E3%80%82%E5%A6%82%E6%9E%9C%E5%9C%A8heap%E4%B8%AD%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%BC%95%E7%94%A8%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%B8%80%E4%B8%AA%E7%BA%A7%E8%81%94(cascade)%E7%9A%84%E5%9B%9E%E6%94%B6%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%8F%91%E7%94%9F%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%AF%B9%E8%B1%A1%E7%9A%84%E2%80%9C%E9%94%80%E6%AF%81%E2%80%9D%E5%8F%AF%E8%83%BD%E9%9C%80%E8%A6%81%E7%94%B1%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E5%A4%84%E7%90%86%EF%BC%8C%E7%A7%B0%E4%BD%9C%E2%80%9Cdestructor%EF%BC%8C%E7%84%9A%E7%83%A7%E7%82%89%EF%BC%8C%E9%94%80%E6%AF%81%E8%A3%85%E7%BD%AE%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E9%80%9A%E5%B8%B8%E9%94%80%E6%AF%81%E5%99%A8%E6%98%AF%E5%B1%9E%E4%BA%8E%E6%A0%87%E5%87%86%E5%BA%93%E7%9A%84%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%8C%E4%BD%86%E6%9C%89%E6%97%B6%E4%BD%A0%E5%8F%AF%E8%83%BD%E9%9C%80%E8%A6%81%E5%9C%A8%E5%AF%B9%E8%B1%A1%E5%9B%9E%E6%94%B6%E6%97%B6%E5%81%9A%E4%B8%80%E4%BA%9Bcleanup%20code%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%89%80%E4%BB%A5%E4%BD%A0%E9%9C%80%E8%A6%81%E5%86%99%E4%B8%80%E4%B8%AAdestructor%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECommunicationChannel%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20address:%20%3Cspan%20class=%22type%22%3EString%3C/span%3E,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20port:%20%3Cspan%20class=%22type%22%3Eu16%3C/span%3E,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EDrop%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECommunicationChannel%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edrop%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Closing%20port%20&amp;#123;&amp;#125;:&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E.address,%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E.port);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECommunicationChannel%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ecreate%3C/span%3E(address:%20&amp;amp;%3Cspan%20class=%22type%22%3Estr%3C/span%3E,%20port:%20%3Cspan%20class=%22type%22%3Eu16%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20CommunicationChannel%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Operning%20port%20&amp;#123;&amp;#125;:&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20address,%20port);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20CommunicationChannel%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20address:%20address.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eto_string%3C/span%3E(),%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20port:%20port,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Esend%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E,%20msg:%20&amp;amp;%3Cspan%20class=%22type%22%3Estr%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Sent%20to%20&amp;#123;&amp;#125;:&amp;#123;&amp;#125;%20the%20message%20&amp;#x27;&amp;#123;&amp;#125;&amp;#x27;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E.address,%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E.port,%20msg);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Echannel%3C/span%3E%20=%20CommunicationChannel::%3Cspan%20class=%22title%20function_%20invoke__%22%3Ecreate%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;usb4&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22number%22%3E879%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Echannel.%3Cspan%20class=%22title%20function_%20invoke__%22%3Esend%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Message%201&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Echannel%3C/span%3E%20=%20CommunicationChannel::%3Cspan%20class=%22title%20function_%20invoke__%22%3Ecreate%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;eth1&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22number%22%3E12000%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Echannel.%3Cspan%20class=%22title%20function_%20invoke__%22%3Esend%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Message%202&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Echannel.%3Cspan%20class=%22title%20function_%20invoke__%22%3Esend%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Message%203&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%AF%A5%E7%A8%8B%E5%BA%8F%E5%B0%86%E6%89%93%E5%8D%B0%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20plaintext%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3EOperning%20port%20usb4:879%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ESent%20to%20usb4:879%20the%20message%20&amp;#x27;Message%201&amp;#x27;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EOperning%20port%20eth1:12000%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ESent%20to%20eth1:12000%20the%20message%20&amp;#x27;Message%202&amp;#x27;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EClosing%20port%20eth1:12000%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ESent%20to%20usb4:879%20the%20message%20&amp;#x27;Message%203&amp;#x27;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EClosing%20port%20usb4:879%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%AC%AC%E4%BA%8C%E6%9D%A1%E8%AF%AD%E5%8F%A5%E5%A3%B0%E6%98%8E%E6%96%B0%E7%9A%84%E7%B1%BB%E5%9E%8BCommunicationChannel%E7%94%A8%E4%BA%8E%E5%AE%9E%E7%8E%B0%3Ccode%3EDrop%3C/code%3E%E3%80%82%E8%BF%99%E4%B8%AAtrait%E6%9C%89%E4%B8%80%E4%B8%AA%E7%89%B9%E6%9C%89%E7%9A%84%E6%96%B9%E6%B3%95%3Ccode%3Edrop%3C/code%3E%EF%BC%8C%E5%AE%83%E4%BC%9A%E5%9C%A8%E5%AF%B9%E8%B1%A1%E8%A2%AB%E5%9B%9E%E6%94%B6%E6%97%B6%E8%87%AA%E5%8A%A8%E8%A2%AB%E8%B0%83%E7%94%A8%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%AE%83%E6%98%AF%E4%B8%80%E4%B8%AA%E2%80%9Cdestructor%E2%80%9D%E3%80%82%E9%80%9A%E5%B8%B8%EF%BC%8C%E7%BB%99%E4%B8%80%E4%B8%AA%E7%B1%BB%E5%9E%8B%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%94%80%E6%AF%81%E5%99%A8%EF%BC%8C%E4%B8%BA%E8%AF%A5%E7%B1%BB%E5%9E%8B%E5%AE%9E%E7%8E%B0%E8%BF%99%E4%B8%AA%3Ccode%3EDrop%3C/code%3Etrait%E5%8D%B3%E5%8F%AF%E3%80%82%E5%9B%A0%E4%B8%BA%E4%BB%BB%E4%BD%95%E6%B2%A1%E6%9C%89%E8%A2%AB%E5%AE%9A%E4%B9%89%E7%9A%84trait%EF%BC%8C%E4%B8%8D%E8%83%BD%E5%9C%A8%E7%A8%8B%E5%BA%8F%E5%A4%96%E9%83%A8%E5%AE%9E%E7%8E%B0%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%B8%89%E6%9D%A1%E8%AF%AD%E5%8F%A5%E6%98%AF%E4%B8%80%E4%B8%AA%E8%AF%AD%E5%8F%A5%E5%9D%97%EF%BC%8C%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9A%E4%B9%89%E4%BA%86%E4%B8%A4%E4%B8%AA%E6%96%B9%E6%B3%95%EF%BC%9A%3Ccode%3Ecreate%3C/code%3E%E6%9E%84%E9%80%A0%E5%99%A8%EF%BC%8C%3Ccode%3Esend%3C/code%3E%E6%96%B9%E6%B3%95%E3%80%82%3C/p%3E%3Cp%3E%E6%9C%80%E5%90%8E%E6%98%AF%E5%BA%94%E7%94%A8%E4%BB%A3%E7%A0%81%E3%80%82%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AACommunicationChannel%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%88%9B%E5%BB%BA%E4%BC%9A%E6%89%93%E5%8D%B0%E4%B8%80%E8%A1%8C%E5%86%85%E5%AE%B9%E3%80%82%E6%8E%A5%E7%9D%80%E8%B0%83%E7%94%A8%E4%BA%86send%E6%96%B9%E6%B3%95%EF%BC%8C%E6%89%93%E5%8D%B0%E7%AC%AC%E4%BA%8C%E8%A1%8C%E5%86%85%E5%AE%B9%E3%80%82%E6%8E%A5%E7%9D%80%E6%98%AF%E5%86%85%E5%B5%8C%E8%AF%AD%E5%8F%A5%E5%9D%97%EF%BC%8C%E5%88%9B%E5%BB%BA%E4%BA%86%E5%8F%A6%E4%B8%80%E4%B8%AAchannel%EF%BC%8C%E6%89%93%E5%8D%B0%E7%AC%AC%E4%B8%89%E3%80%81%E5%9B%9B%E8%A1%8C%E5%86%85%E5%AE%B9%E3%80%82%3C/p%3E%3Cp%3E%E5%B5%8C%E5%A5%97%E8%AF%AD%E5%8F%A5%E5%9D%97%E5%86%85%E7%9A%84%E5%8F%98%E9%87%8F%E5%90%8D%E8%B7%9F%E5%AD%98%E5%9C%A8%E7%9A%84%E5%8F%98%E9%87%8F%E5%90%8D%E7%9B%B8%E5%90%8C%EF%BC%8C%E8%BF%99%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%8F%98%E9%87%8F%E6%8A%95%E5%BD%B1(shadow)%E3%80%82%3C/p%3E%3Cp%3E%E6%8E%A5%E7%9D%80%E5%B5%8C%E5%A5%97%E8%AF%AD%E5%8F%A5%E7%BB%93%E6%9D%9F%E3%80%82%E8%BF%99%E5%8F%91%E7%94%9F%E7%8E%87%E5%86%85%E9%83%A8%E5%8F%98%E9%87%8F%E8%A2%AB%E9%94%80%E6%AF%81%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%AE%83%E7%9A%84%3Ccode%3Edrop%3C/code%3E%E6%96%B9%E6%B3%95%E8%A2%AB%E8%B0%83%E7%94%A8%EF%BC%8C%E4%BA%8E%E6%98%AF%E6%89%93%E5%8D%B0%E7%AC%AC%E4%BA%94%E8%A1%8C%E3%80%82%3C/p%3E%3Cp%3E%E7%8E%B0%E5%9C%A8%EF%BC%8C%E5%B5%8C%E5%A5%97%E8%AF%AD%E5%8F%A5%E5%9D%97%E7%BB%93%E6%9D%9F%E5%90%8E%EF%BC%8C%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E5%86%8D%E6%AC%A1%E5%8F%AF%E8%A7%81%E3%80%82%3Ccode%3Esend%3C/code%3E%E6%96%B9%E6%B3%95%E5%86%8D%E6%AC%A1%E8%B0%83%E7%94%A8%EF%BC%8C%E6%89%93%E5%8D%B0%E4%B8%80%E8%A1%8C%E3%80%82%3C/p%3E%3Cp%3E%E6%9C%80%E5%90%8E%EF%BC%8C%E5%8F%98%E9%87%8F%E8%A2%AB%E9%94%80%E6%AF%81%EF%BC%8C%E6%89%93%E5%8D%B0%E6%9C%80%E5%90%8E%E4%B8%80%E8%A1%8C%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8Rust%E4%B8%AD%EF%BC%8C%E5%86%85%E5%AD%98%E6%97%A9%E5%B7%B2%E7%94%B1%E8%AF%AD%E8%A8%80%E5%92%8C%E6%A0%87%E5%87%86%E5%BA%93%E9%87%8A%E6%94%BE%E6%8E%89%E4%BA%86%EF%BC%8C%E5%9B%A0%E6%AD%A4%E6%B2%A1%E6%9C%89%E5%BF%85%E8%A6%81%E5%83%8FC%E8%AF%AD%E8%A8%80%E9%82%A3%E6%A0%B7%E8%B0%83%E7%94%A8%3Ccode%3Efree%3C/code%3E%E5%87%BD%E6%95%B0%EF%BC%8C%E6%88%96%E5%83%8FC++%E9%82%A3%E6%A0%B7%E8%B0%83%E7%94%A8%3Ccode%3Edelete%3C/code%3E%E3%80%82%E4%BD%86%E5%85%B6%E4%BB%96%E8%B5%84%E6%BA%90%E4%B8%8D%E4%BC%9A%E8%87%AA%E5%8A%A8%E9%87%8A%E6%94%BE%E3%80%82%E5%9B%A0%E6%AD%A4%E9%94%80%E6%AF%81%E5%99%A8(destructor)%E5%AF%B9%E4%BA%8E%E9%82%A3%E4%BA%9B%E5%89%AF%E4%BD%9C%E7%94%A8%E7%9A%84%E5%AE%9E%E7%8E%B0%E9%9D%9E%E5%B8%B8%E6%9C%89%E7%94%A8%EF%BC%9A%E8%AF%B8%E5%A6%82%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%EF%BC%8C%E9%80%9A%E8%AE%AF%E5%A4%84%E7%90%86%EF%BC%8CGUI%E7%AA%97%E5%8F%A3%EF%BC%8C%E5%9B%BE%E5%BD%A2%E8%B5%84%E6%BA%90%E7%AD%89%EF%BC%8C%E6%A0%87%E5%87%86%E5%BA%93%E4%B8%AD%E6%97%A9%E5%B7%B2%E4%B8%BA%E8%B5%84%E6%BA%90%E7%9A%84%E5%A4%84%E7%90%86%E7%9A%84%E4%BB%BB%E4%BD%95%E7%B1%BB%E5%9E%8B%E6%8F%90%E4%BE%9B%E4%BA%86%3Ccode%3EDrop%3C/code%3E%E5%AE%9E%E7%8E%B0%E3%80%82%3C/p%3E%3Cp%3E%E9%94%80%E6%AF%81%E5%99%A8%E5%8F%AF%E4%BB%A5%E6%9B%B4%E5%A5%BD%E5%9C%B0%E7%90%86%E8%A7%A3%E5%86%85%E5%AD%98%E7%9A%84%E7%AE%A1%E7%90%86%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20(%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EDrop%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edrop%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Dropped%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E.%3Cspan%20class=%22number%22%3E0%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_a%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E1%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_b%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E2%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_c%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E3%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_d%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E4%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_e%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E5%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_f%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E6%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;INNER&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;OUTER&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E6%89%93%E5%8D%B0%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20plaintext%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3EINNER%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EDropped%206%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EDropped%205%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EDropped%204%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EOUTER%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EDropped%203%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EDropped%202%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EDropped%201%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%B3%A8%E6%84%8F%E5%88%B0%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%94%80%E6%AF%81%E7%9A%84%E9%A1%BA%E5%BA%8F%E8%B7%9F%E6%9E%84%E9%80%A0%E9%A1%BA%E5%BA%8F%E7%9B%B8%E5%8F%8D%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20(%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EDrop%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edrop%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Dropped%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E.%3Cspan%20class=%22number%22%3E0%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E1%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E2%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E3%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E4%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E5%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_%3C/span%3E%20=%20%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E6%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;INNER&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;OUTER&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E5%B0%86%E6%89%93%E5%8D%B0%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20plaintext%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3EDropped%201%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EDropped%202%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EDropped%203%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EDropped%204%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EDropped%205%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EDropped%206%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EINNER%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EOUTER%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%9B%A0%E4%B8%BA%E5%8F%AA%E6%9C%89%E5%8D%A0%E4%BD%8D%E7%AC%A6%EF%BC%8C%E5%9B%A0%E6%AD%A4%E6%89%80%E6%9C%89%E5%AF%B9%E8%B1%A1%E9%83%BD%E6%98%AF%E4%B8%B4%E6%97%B6%E7%9A%84%E3%80%82%E4%B8%B4%E6%97%B6%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%AE%83%E4%BB%AC%E8%AF%AD%E5%8F%A5%E7%BB%93%E6%9D%9F%E4%BD%8D%E7%BD%AE%E5%B0%B1%E9%94%80%E6%AF%81%E4%BA%86%EF%BC%8C%E5%8D%B3%E7%BB%9F%E8%AE%A1%E5%88%B0%E5%88%86%E5%8F%B7(%3Ccode%3E;%3C/code%3E)%E7%AB%8B%E5%8D%B3%E9%94%80%E6%AF%81%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8A%E9%9D%A2%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%92%8C%E4%B8%8B%E9%9D%A2%E7%9A%84%E6%98%AF%E7%AD%89%E4%BB%B7%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20(%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EDrop%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edrop%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Dropped%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E.%3Cspan%20class=%22number%22%3E0%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3Es%3C/span%3E%20(%3Cspan%20class=%22number%22%3E1%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E2%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E3%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E4%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E5%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3ES%3C/span%3E%20(%3Cspan%20class=%22number%22%3E6%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;INNER&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;OUTER&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Ch2%20id=%22Assignment-Semantics%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Assignment-Semantics%22%3E%C2%B6%3C/a%3EAssignment%20Semantics%3C/h2%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E7%A8%8B%E5%BA%8F%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E11%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E,%20%3Cspan%20class=%22number%22%3E33%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20v1;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%A6%82%E5%BF%B5%E4%B8%8A%EF%BC%8C%3C/p%3E%3Cp%3E%E9%A6%96%E5%85%88%EF%BC%8C%3Ccode%3Ev1%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4(header)%E8%A2%AB%E5%88%86%E9%85%8D%E5%88%B0%E4%BA%86%E6%A0%88%E3%80%82%E7%84%B6%E5%90%8E%EF%BC%8C%3Ccode%3Ev1%3C/code%3E%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%8C%E4%BC%9A%E5%9C%A8%E5%A0%86%E4%B8%BA%E8%AF%A5%E5%86%85%E5%AE%B9%E5%88%86%E9%85%8D%E4%B8%80%E4%B8%AA%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%8C%3Ccode%3Ev1%3C/code%3E%E7%9A%84%E5%85%83%E7%B4%A0%E4%B9%8B%E8%A2%AB%E6%8B%B7%E8%B4%9D%E5%88%B0%E8%BF%99%E4%B8%AA%E7%BC%93%E5%86%B2%E5%8C%BA%E3%80%82%E7%84%B6%E5%90%8E%E6%A0%87%E5%A4%B4(header)%E8%A2%AB%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%8C%E4%BD%9C%E4%B8%BA%E5%BC%95%E7%94%A8%E6%8C%87%E5%90%91%E6%96%B0%E5%88%86%E9%85%8D%E7%9A%84%E5%A0%86%E7%BC%93%E5%86%B2%E3%80%82%3C/p%3E%3Cp%3E%E7%84%B6%E5%90%8E%EF%BC%8C%3Ccode%3Ev2%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4%E8%A2%AB%E5%88%86%E9%85%8D%E5%9C%A8%E6%A0%88%E3%80%82%E6%8E%A5%E7%9D%80%EF%BC%8C%E7%94%A8%3Ccode%3Ev1%3C/code%3E%E7%9A%84%E5%80%BC%E5%88%9D%E5%A7%8B%E5%8C%96%3Ccode%3Ev2%3C/code%3E%E3%80%82%E4%BD%86%EF%BC%8C%E8%BF%99%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%EF%BC%9F%3C/p%3E%3Cp%3E%E9%80%9A%E5%B8%B8%E8%87%B3%E5%B0%91%E6%9C%89%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%E8%BF%99%E7%A7%8D%E6%93%8D%E4%BD%9C%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%3Cp%3E%3Cstrong%3E%3Ccode%3EShare%20semantics%3C/code%3E%3C/strong%3E%EF%BC%9A%3Ccode%3Ev1%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4%E8%A2%AB%E6%8B%B7%E8%B4%9D%E5%88%B0%3Ccode%3Ev2%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4%EF%BC%8C%E5%85%B6%E5%AE%83%E4%B8%8D%E5%8F%91%E7%94%9F%E4%BB%BB%E4%BD%95%E6%93%8D%E4%BD%9C%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%94%A8%3Ccode%3Ev1%3C/code%3E%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%94%A8%3Ccode%3Ev2%3C/code%3E%EF%BC%8C%E5%AE%83%E4%BB%AC%E9%83%BD%E5%90%8C%E6%97%B6%E6%8C%87%E5%90%91%E7%9B%B8%E5%90%8C%E7%9A%84%E5%A0%86%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%9B%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%AE%83%E4%BB%AC%E6%8C%87%E5%90%91%E5%90%8C%E6%A0%B7%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%8C%E4%B8%8D%E6%98%AF%E7%9B%B8%E7%AD%89%E7%9A%84%EF%BC%8C%E8%80%8C%E6%98%AF%E5%94%AF%E4%B8%80%E7%9A%84%E3%80%82%E8%BF%99%E7%A7%8D%E6%9C%AF%E8%AF%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E4%BA%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E8%AF%AD%E8%A8%80%EF%BC%8C%E6%AF%94%E5%A6%82Java%E3%80%82%3C/p%3E%3C/li%3E%3Cli%3E%3Cp%3E%3Cstrong%3E%3Ccode%3ECopy%20semantics%3C/code%3E%3C/strong%3E%EF%BC%9A%E5%88%86%E9%85%8D%E5%8F%A6%E5%A4%96%E7%9A%84%E5%A0%86%E7%BC%93%E5%86%B2%E3%80%82%E5%AE%83%E5%92%8C%3Ccode%3Ev1%3C/code%3E%E4%BD%BF%E7%94%A8%E7%9A%84%E7%BC%93%E5%86%B2%E5%8C%BA%E6%9C%89%E5%90%8C%E6%A0%B7%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%8C%E5%B9%B6%E5%B0%86%E5%85%88%E5%AD%98%E7%9A%84%E7%BC%93%E5%86%B2%E5%8C%BA%E5%86%85%E5%AE%B9%E6%8B%B7%E8%B4%9D%E5%88%B0%E6%96%B0%E7%9A%84%E7%BC%93%E5%86%B2%E5%8C%BA%E3%80%82%E7%84%B6%E5%90%8E%3Ccode%3Ev2%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4%E8%A2%AB%E5%88%9D%E5%A7%8B%E5%8C%96%E6%8C%87%E5%90%91%E6%96%B0%E5%88%86%E9%85%8D%E7%9A%84%E7%BC%93%E5%86%B2%E5%8C%BA%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E4%B8%A4%E4%B8%AA%E5%8F%98%E9%87%8F%E6%8C%87%E5%90%91%E4%B8%A4%E4%B8%AA%E4%B8%8D%E5%90%8C%E7%9A%84%E7%BC%93%E5%86%B2%E5%8C%BA%E5%B9%B6%E4%B8%94%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E5%86%85%E5%AE%B9%E7%9B%B8%E5%90%8C%E3%80%82%E8%BF%99%E7%A7%8D%E5%AE%9E%E7%8E%B0%EF%BC%8C%E6%98%AFC++%E7%9A%84%E9%BB%98%E8%AE%A4%E6%9C%BA%E5%88%B6%E3%80%82%3C/p%3E%3C/li%3E%3Cli%3E%3Cp%3E%3Cstrong%3E%3Ccode%3EMove%20semantics%3C/code%3E%3C/strong%3E%EF%BC%9A%3Ccode%3Ev1%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4%E8%A2%AB%E6%8B%B7%E8%B4%9D%E5%88%B0%3Ccode%3Ev2%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4%EF%BC%8C%E5%85%B6%E5%AE%83%E4%B8%8D%E5%8F%91%E7%94%9F%E4%BB%BB%E4%BD%95%E6%93%8D%E4%BD%9C%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%3Ccode%3Ev2%3C/code%3E%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%AE%83%E7%9A%84%E6%A0%87%E5%A4%B4%E6%8C%87%E5%90%91%E5%8E%9F%E5%85%88%3Ccode%3Ev1%3C/code%3E%E5%88%86%E9%85%8D%E7%9A%84%E5%A0%86%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%8C%E4%BD%86%3Ccode%3Ev1%3C/code%3E%E4%B8%8D%E8%83%BD%E5%86%8D%E8%A2%AB%E4%BD%BF%E7%94%A8%E3%80%82%E8%BF%99%E7%A7%8D%E5%AE%9E%E7%8E%B0%EF%BC%8C%E6%98%AFRust%E7%9A%84%E9%BB%98%E8%AE%A4%E6%9C%BA%E5%88%B6%E3%80%82%3C/p%3E%3C/li%3E%3C/ul%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E11%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E,%20%3Cspan%20class=%22number%22%3E33%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20v1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20v1.%3Cspan%20class=%22title%20function_%20invoke__%22%3Elen%3C/span%3E());%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%AF%A5%E4%BB%A3%E7%A0%81%E4%BA%A7%E7%94%9F%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%9A%E2%80%9Cuse%20of%20moved%20value:%20%3Ccode%3Ev1%3C/code%3E%E2%80%9D%E3%80%82%E5%BD%93%3Ccode%3Ev1%3C/code%3E%E7%9A%84%E5%80%BC%E6%8C%87%E6%B4%BE%E7%BB%99%3Ccode%3Ev2%3C/code%3E%E6%98%AF%EF%BC%8C%E5%8F%98%E9%87%8F%3Ccode%3Ev1%3C/code%3E%E7%BB%88%E6%AD%A2%E5%B9%B6%E9%80%80%E5%87%BA%E3%80%82%E5%86%8D%E6%AC%A1%E4%BD%BF%E7%94%A8%E6%98%AF%E4%B8%8D%E8%A2%AB%E7%BC%96%E8%AF%91%E5%99%A8%E5%85%81%E8%AE%B8%E7%9A%84%E3%80%82%3C/p%3E%3Cp%3E%E5%85%88%E7%9C%8B%E7%9C%8B%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88Rust%E4%B8%8D%E5%AE%9E%E7%8E%B0%3Cstrong%3Eshare%20semantics%3C/strong%3E%E3%80%82%E9%A6%96%E5%85%88%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8F%98%E9%87%8F%E6%98%AF%E5%8F%AF%E5%8F%98%E7%9A%84%EF%BC%8C%E8%BF%99%E7%A7%8D%E8%AF%AD%E4%B9%89(semnatics)%E4%BC%9A%E6%9C%89%E5%87%A0%E5%88%86%E8%BF%B7%E6%83%91%E3%80%82%E5%9C%A8%E5%85%B1%E4%BA%AB%E6%9C%AF%E8%AF%AD(share%20semantics)%EF%BC%8C%E9%80%9A%E8%BF%87%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E6%9B%B4%E6%94%B9%E4%B8%80%E4%B8%AA%E6%9D%A1%E7%9B%AE%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%9D%A1%E7%9B%AE%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%A2%AB%E5%85%B6%E5%AE%83%E5%8F%98%E9%87%8F%E6%9B%B4%E6%94%B9%E5%92%8C%E8%AE%BF%E9%97%AE%E3%80%82%E8%BF%99%E4%B8%8D%E6%98%AF%E7%9B%B4%E8%A7%89%EF%BC%8C%E5%8F%AF%E8%83%BD%E6%98%AFbug%E7%9A%84%E6%A0%B9%E6%BA%90%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%85%B1%E4%BA%AB%E6%9C%AF%E8%AF%AD(share%20senantics)%E4%BB%85%E5%9C%A8%E5%8F%AA%E8%AF%BB%E6%95%B0%E6%8D%AE(read-only%20data)%E8%83%BD%E8%A2%AB%E6%8E%A5%E6%94%B6%E3%80%82%3C/p%3E%3Cp%3E%E4%BD%86%E8%BF%99%E9%87%8C%E6%9C%89%E4%B8%AA%E5%A4%A7%E9%97%AE%E9%A2%98%EF%BC%8C%E5%AF%B9%E4%BA%8E%E5%86%85%E5%AD%98%E5%9B%9E%E6%94%B6%E3%80%82%E5%A6%82%E6%9E%9C%E4%BD%BF%E7%94%A8%E5%85%B1%E4%BA%AB%E6%9C%AF%E8%AF%AD%EF%BC%8C%3Ccode%3Ev1%3C/code%3E%E5%92%8C%3Ccode%3Ev2%3C/code%3E%E9%83%BD%E5%B0%86%E4%BC%9A%E6%8B%A5%E6%9C%89%E5%90%8C%E4%B8%80%E4%B8%AA%E5%8D%95%E4%B8%80%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%BD%93%E4%BB%96%E4%BB%AC%E8%A2%AB%E5%9B%9E%E6%94%B6%E6%97%B6%EF%BC%8C%E5%90%8C%E6%A0%B7%E7%9A%84%E5%A0%86%E7%BC%93%E5%86%B2%E5%8C%BA%E4%BC%9A%E8%A2%AB%E5%9B%9E%E6%94%B6%E4%B8%A4%E6%AC%A1%E3%80%82%E4%B8%80%E4%B8%AA%E7%BC%93%E5%86%B2%E5%8C%BA%E4%B8%8D%E8%83%BD%E8%A2%AB%E5%88%86%E9%85%8D%E4%B8%A4%E6%AC%A1%EF%BC%8C%E8%80%8C%E4%B8%8D%E5%AF%BC%E8%87%B4%E5%86%85%E5%AD%98%E6%8D%9F%E8%80%97%E4%BB%A5%E5%8F%8A%E5%BC%95%E8%B5%B7%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83(program%20malfunction)%E3%80%82%E8%A6%81%E8%A7%A3%E5%86%B3%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%EF%BC%8C%E8%AF%AD%E8%A8%80%E6%9C%AC%E8%BA%AB%E9%9C%80%E8%A6%81%E5%9C%A8scope%E7%BB%93%E6%9D%9F%E6%97%B6%E4%B8%8D%E5%AF%B9%E5%8F%98%E9%87%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E5%86%85%E8%BF%9B%E8%A1%8C%E5%9B%9E%E6%94%B6%EF%BC%8C%E8%80%8C%E6%98%AF%E5%87%AD%E5%80%9FGC%E5%A4%84%E7%90%86%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89(copy%20semantics)%E5%92%8C%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89(move%20semantics)%E9%83%BD%E6%98%AF%E6%AD%A3%E7%A1%AE%E7%9A%84%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8CRust%E8%A7%84%E5%88%99%E4%B8%8A%E6%8A%8A%E5%9B%9E%E6%94%B6%E7%9C%8B%E5%81%9A%E6%98%AF%E4%BB%BB%E4%BD%95%E5%AF%B9%E8%B1%A1%E5%BF%85%E9%A1%BB%E6%9C%89%E4%B8%94%E4%BB%85%E6%9C%89%E4%B8%80%E4%B8%AAowner%E3%80%82%E5%BD%93%E4%BD%BF%E7%94%A8%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E6%97%B6%EF%BC%8C%E5%8E%9F%E6%9D%A5%E7%9A%84vector%E7%BC%93%E5%86%B2%E5%8C%BA%E8%BF%98%E6%98%AF%E5%8E%9F%E6%9D%A5%E7%9A%84owner%EF%BC%8C%E5%8D%B3%E5%8F%98%E9%87%8F%3Ccode%3Ev1%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4%EF%BC%8C%E6%96%B0%E5%88%9B%E5%BB%BA%E7%9A%84%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%8C%E6%9C%89%E6%96%B0%E7%9A%84owner%E5%BC%95%E7%94%A8%EF%BC%8C%E5%8D%B3%3Ccode%3Ev2%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4%E3%80%82%E5%8F%A6%E4%B8%80%E6%96%B9%E9%9D%A2%EF%BC%8C%E5%BD%93%E4%BD%BF%E7%94%A8%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%E6%97%B6%EF%BC%8C%E5%8E%9F%E6%9D%A5%E5%8D%95%E4%B8%80vector%E7%BC%93%E5%86%B2%E5%8C%BA%E6%9B%B4%E6%94%B9%E5%AE%83%E7%9A%84owner%EF%BC%9A%E5%88%86%E9%85%8D%E4%B9%8B%E5%89%8D%EF%BC%8C%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E6%89%80%E6%9C%89%E8%80%85%E6%98%AF%3Ccode%3Ev1%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4reference%EF%BC%8C%E5%88%86%E9%85%8D%E4%B9%8B%E5%90%8E%EF%BC%8C%E6%89%80%E6%9C%89%E8%80%85%E6%9B%B4%E6%94%B9%E4%B8%BA%3Ccode%3Ev2%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4reference%E3%80%82%E5%9C%A8%E5%88%86%E9%85%8D%E4%B9%8B%E5%89%8D%EF%BC%8C%3Ccode%3Ev2%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4%E5%B9%B6%E4%B8%8D%E5%AD%98%E5%9C%A8%EF%BC%8C%E5%88%86%E9%85%8D%E4%B9%8B%E5%90%8E%EF%BC%8C%3Ccode%3Ev1%3C/code%3E%E7%9A%84%E6%A0%87%E5%A4%B4%E4%B8%8D%E5%86%8D%E5%AD%98%E5%9C%A8%E3%80%82%3C/p%3E%3Cp%3E%E9%82%A3%E4%B8%BA%E4%BB%80%E4%B9%88Rust%E4%B8%8D%E5%AE%9E%E7%8E%B0%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89(copy%20semantics)%EF%BC%9F%3C/p%3E%3Cp%3E%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8C%E6%9F%90%E4%BA%9B%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E4%BD%BF%E7%94%A8%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E6%9B%B4%E5%90%88%E9%80%82%EF%BC%8C%E5%8F%A6%E4%B8%80%E4%BA%9B%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E4%BD%BF%E7%94%A8%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%E6%9B%B4%E9%80%82%E5%90%88%E3%80%82%E7%94%9A%E8%87%B3C++%EF%BC%8C%E4%BB%8E2011%E5%B9%B4%E5%BC%80%E5%A7%8B%EF%BC%8C%E5%85%81%E8%AE%B8%E5%90%8C%E6%97%B6%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E5%92%8C%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20cpp%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;iostream&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;vector&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22function%22%3E%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20%3C/span%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20v1%20=%20std::vector&amp;lt;%3Cspan%20class=%22type%22%3Eint%3C/span%3E&amp;gt;%20&amp;#123;%3Cspan%20class=%22number%22%3E11%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E,%20%3Cspan%20class=%22number%22%3E33%3C/span%3E&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3Econst%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20v2%20=%20v1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3Econst%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20v3%20=%20%3Cspan%20class=%22built_in%22%3Emove%3C/span%3E(v1);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Estd::count%20&amp;lt;&amp;lt;%20v%3Cspan%20class=%22number%22%3E1.%3C/span%3E%3Cspan%20class=%22built_in%22%3Esize%3C/span%3E()%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;quot;%3C/span%3E%20&amp;lt;&amp;lt;%20v%3Cspan%20class=%22number%22%3E2.%3C/span%3E%3Cspan%20class=%22built_in%22%3Esize%3C/span%3E()%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;quot;%3C/span%3E%20&amp;lt;&amp;lt;%20v%3Cspan%20class=%22number%22%3E3.%3C/span%3E%3Cspan%20class=%22built_in%22%3Esize%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E6%AE%B5C%3Cins%3E%E7%A8%8B%E5%BA%8F%E4%BC%9A%E6%89%93%E5%8D%B0%EF%BC%9A0%203%203%E3%80%82%3Ccode%3Ev1%3C/code%3E%E9%A6%96%E5%85%88%E8%A2%AB%E6%8B%B7%E8%B4%9D%E5%88%B0%3Ccode%3Ev2%3C/code%3E%EF%BC%8C%E7%84%B6%E5%90%8E%E7%A7%BB%E5%8A%A8%E5%88%B0%3Ccode%3Ev3%3C/code%3E%E3%80%82C%3C/ins%3E%E6%A0%87%E5%87%86%E5%87%BD%E6%95%B0%3Ccode%3Emove%3C/code%3E%E4%BC%9A%E6%B8%85%E7%A9%BAvector%E4%BD%86%E4%B8%8D%E4%BC%9A%E8%AE%A9%E5%85%B6undefined%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%9C%A8%E6%9C%80%E5%90%8E%EF%BC%8C%3Ccode%3Ev2%3C/code%3E%E6%9C%89%E4%B8%89%E4%B8%AA%E5%85%83%E7%B4%A0%E7%9A%84%E6%8B%B7%E8%B4%9D%EF%BC%8C%3Ccode%3Ev3%3C/code%3E%E5%B0%B1%E6%98%AF%E5%8E%9F%E6%9D%A5%E7%9A%84%3Ccode%3Ev1%3C/code%3E%EF%BC%8C%3Ccode%3Ev1%3C/code%3E%E5%8F%98%E4%B8%BA%E7%A9%BA%E3%80%82%3C/p%3E%3Cp%3ERust%E4%B8%AD%E4%B9%9F%E5%85%81%E8%AE%B8%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E5%92%8C%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E11%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E,%20%3Cspan%20class=%22number%22%3E33%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20v1.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev3%3C/span%3E%20=%20v1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20ILLEGAL:%20print!(&amp;quot;&amp;#123;&amp;#125;%20&amp;quot;,%20v1.len());%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20v2.%3Cspan%20class=%22title%20function_%20invoke__%22%3Elen%3C/span%3E(),%20v3.%3Cspan%20class=%22title%20function_%20invoke__%22%3Elen%3C/span%3E());%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%B0%86%E4%BC%9A%E6%89%93%E5%8D%B0%EF%BC%9A3%203%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E6%AE%B5%E7%A8%8B%E5%BA%8F%E5%92%8CC%3Cins%3E%E7%B1%BB%E4%BC%BC%EF%BC%8C%E4%BD%86%E4%B8%8D%E8%83%BD%E5%86%8D%E8%AE%BF%E9%97%AE%3Ccode%3Ev1%3C/code%3E%E4%BA%86%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E8%A2%AB%E7%A7%BB%E5%8A%A8%E4%BA%86%E3%80%82%E5%9B%A0%E4%B8%BAC%3C/ins%3E%E7%9A%84%E9%BB%98%E8%AE%A4%E8%AF%AD%E4%B9%89%E6%98%AF%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89(copy%20semantics)%EF%BC%8C%E6%89%80%E4%BB%A5%E9%9C%80%E8%A6%81%E8%B0%83%E7%94%A8%3Ccode%3Emove%3C/code%3E%E6%A0%87%E5%87%86%E5%87%BD%E6%95%B0%E6%9D%A5%E8%BF%9B%E8%A1%8C%E5%AF%B9%E8%B1%A1%E7%A7%BB%E5%8A%A8%EF%BC%9B%E8%80%8CRust%E7%9A%84%E9%BB%98%E8%AE%A4%E8%AF%AD%E4%B9%89%E6%98%AF%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89(move%20semantics)%EF%BC%8C%E6%89%80%E4%BB%A5%E9%9C%80%E8%A6%81%E8%B0%83%E7%94%A8%E6%A0%87%E5%87%86%E5%87%BD%E6%95%B0%3Ccode%3Eclone%3C/code%3E%E8%BF%9B%E8%A1%8C%E6%8B%B7%E8%B4%9D%E3%80%82%3C/p%3E%3Cp%3E%E5%8F%A6%E5%A4%96%EF%BC%8C%3Ccode%3Ev1%3C/code%3E%E8%99%BD%E5%B7%B2%E8%A2%AB%E7%A7%BB%E5%8A%A8%EF%BC%8C%E4%BD%86%E4%BB%8D%E7%84%B6%E5%8F%AF%E8%AE%BF%E9%97%AE%EF%BC%8C%E5%8F%AA%E4%B8%8D%E8%BF%87%E5%86%85%E5%AE%B9%E4%B8%BA%E7%A9%BA%EF%BC%8CRust%E4%B8%AD%E8%A2%AB%E7%A7%BB%E5%8A%A8%E7%9A%84%E5%8F%98%E9%87%8F%E4%B8%8D%E5%8F%AF%E5%86%8D%E8%A2%AB%E8%AE%BF%E9%97%AE%E3%80%82%3C/p%3E%3Ch2%20id=%22Copying-vs-Moving-Performance%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Copying-vs-Moving-Performance%22%3E%C2%B6%3C/a%3ECopying%20vs.%20Moving%20Performance%3C/h2%3E%3Cp%3ERust%E5%81%8F%E5%90%91%E4%BA%8E%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%E7%9A%84%E9%80%89%E6%8B%A9%E6%98%AF%E4%BB%8E%E6%80%A7%E8%83%BD%E6%96%B9%E9%9D%A2%E8%80%83%E9%87%8F%E7%9A%84%E3%80%82%E5%AF%B9%E4%BA%8E%E6%8B%A5%E6%9C%89%E5%A0%86%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%AF%94%E5%A6%82vector%EF%BC%8C%E7%A7%BB%E5%8A%A8%E6%AF%94%E6%8B%B7%E8%B4%9D%E8%A6%81%E5%BF%AB%EF%BC%8C%E5%9B%A0%E4%B8%BA%E7%A7%BB%E5%8A%A8%E7%9A%84%E4%BB%85%E6%98%AFheader%EF%BC%8C%E7%84%B6%E8%80%8C%E5%A6%82%E6%9E%9C%E6%98%AF%E6%8B%B7%E8%B4%9D%E4%B8%80%E4%B8%AAvector%EF%BC%8C%E8%A6%81%E6%B1%82%E5%88%86%E9%85%8D%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%80%E4%B8%AA%E5%8F%AF%E8%83%BD%E7%9A%84%E5%A0%86%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%8C%E5%AE%83%E6%9C%80%E7%BB%88%E4%BC%9A%E8%A2%AB%E5%9B%9E%E6%94%B6%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8C++%E4%B8%AD%EF%BC%8C%E8%A2%AB%E7%A7%BB%E5%8A%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%84%8F%E5%91%B3%E7%9D%80%E4%B8%8D%E5%9C%A8%E8%A2%AB%E4%BD%BF%E7%94%A8%E4%BA%86%EF%BC%8C%E4%BD%86%E8%AF%AD%E8%A8%80%E4%B8%BA%E4%BA%86%E5%AF%B9%E9%81%97%E7%95%99%E4%BB%A3%E7%A0%81%E5%81%9A%E5%90%8E%E5%90%91%E5%85%BC%E5%AE%B9(backward-compatible)%EF%BC%8C%E8%A2%AB%E7%A7%BB%E5%8A%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%BB%8D%E7%84%B6%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%EF%BC%8C%E8%BF%99%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%BB%99%E5%BC%80%E5%8F%91%E8%80%85%E5%86%8D%E6%AC%A1%E4%BD%BF%E7%94%A8%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9C%BA%E4%BC%9A%E3%80%82%E5%8F%A6%E5%A4%96%EF%BC%8C%E6%B8%85%E7%A9%BA%E4%B8%80%E4%B8%AA%E8%A2%AB%E7%A7%BB%E5%8A%A8%E7%9A%84vector%E6%9C%89%E8%BE%83%E5%B0%8F%E7%9A%84%E6%B6%88%E8%80%97%EF%BC%8C%E5%8D%B3%E5%BD%93%E4%B8%80%E4%B8%AAvector%E8%A2%AB%E9%94%80%E6%AF%81%EF%BC%8C%E4%BC%9A%E6%A3%80%E6%B5%8B%E5%AE%83%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA%EF%BC%8C%E8%BF%99%E4%B9%9F%E6%9C%89%E8%BE%83%E5%B0%8F%E6%B6%88%E8%80%97%E3%80%82Rust%E8%A2%AB%E8%AE%BE%E8%AE%A1%E9%81%BF%E5%85%8D%E6%89%8B%E5%8A%A8%E7%A7%BB%E5%8A%A8%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%9B%A0%E6%AD%A4%E4%B8%8D%E4%BC%9A%E6%9C%89%E4%B8%8D%E6%AD%A3%E5%BD%93%E7%9A%84%E7%A7%BB%E5%8A%A8vector%EF%BC%8C%E5%9B%A0%E4%B8%BA%E7%BC%96%E8%AF%91%E5%99%A8%E7%9F%A5%E9%81%93vector%E8%A2%AB%E7%A7%BB%E5%8A%A8%E4%BA%86%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BA%A7%E7%94%9F%E6%9B%B4%E5%A5%BD%E7%9A%84%E4%BB%A3%E7%A0%81%E3%80%82%3C/p%3E%3Cp%3E%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E4%B8%8B%E9%9D%A2%E4%BB%A3%E7%A0%81%E5%BA%A6%E9%87%8F%E6%80%A7%E8%83%BD%E7%9A%84%E5%BD%B1%E5%93%8D%EF%BC%8C%E8%BF%99%E5%B9%B6%E4%B8%8D%E7%AE%80%E5%8D%95%EF%BC%8C%E5%9B%A0%E4%B8%BA%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96%E5%99%A8%E4%BC%9A%E7%A7%BB%E9%99%A4loop%E5%86%85%E7%9A%84%E5%B7%A5%E4%BD%9C%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E4%BB%A3%E7%A0%81%E4%BD%BF%E7%94%A8%E4%BA%86%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Euse%3C/span%3E%20std::time::Instant;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eelapsed_ms%3C/span%3E(t1:%20Instant,%20t2:%20Instant)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et%3C/span%3E%20=%20t2%20-%20t1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20t.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eas_secs%3C/span%3E()%20%3Cspan%20class=%22keyword%22%3Eas%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20*%20%3Cspan%20class=%22number%22%3E1000%3C/span%3E.%20+%20t.%3Cspan%20class=%22title%20function_%20invoke__%22%3Esubsec_nanos%3C/span%3E()%20%3Cspan%20class=%22keyword%22%3Eas%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20/%20%3Cspan%20class=%22number%22%3E1e6%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Econst%3C/span%3E%20N_ITER:%20%3Cspan%20class=%22type%22%3Eusize%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E100_000_000%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Estart_time%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..N_ITER%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E11%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20v1.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E();%20%20%20%20%3Cspan%20class=%22comment%22%3E/%20Copy%20semantics%20is%20used%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev2.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20v1[%3Cspan%20class=%22number%22%3E1%3C/span%3E]%20+%20v2[%3Cspan%20class=%22number%22%3E2%3C/span%3E]%20==%20v2[%3Cspan%20class=%22number%22%3E0%3C/span%3E]%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Error&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Efinish_time%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20ns%20per%20iteration&#92;n&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(start_time,%20finish_time)%20*%20%3Cspan%20class=%22number%22%3E1e6%3C/span%3E%20/%20N_ITER%20%3Cspan%20class=%22keyword%22%3Eas%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AFC++%E7%9A%84%E7%AD%89%E4%BB%B7%E5%AE%9E%E7%8E%B0%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20cpp%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;iostream&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;vector&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;ctime&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22function%22%3E%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20%3C/span%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3Econst%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20n_iter%20=%20%3Cspan%20class=%22number%22%3E100000000%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20start_time%20=%20%3Cspan%20class=%22built_in%22%3Eclock%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20(%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20i%20=%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%20i%20&amp;lt;%20n_iter;%20++i)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20v1%20=%20std::vector&amp;lt;%3Cspan%20class=%22type%22%3Eint%3C/span%3E&amp;gt;%20&amp;#123;%20%3Cspan%20class=%22number%22%3E11%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E%20&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20v2%20=%20v1;%3Cspan%20class=%22comment%22%3E/%20Copy%20semantics%20is%20used%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev%3Cspan%20class=%22number%22%3E2.%3C/span%3E%3Cspan%20class=%22built_in%22%3Epush_back%3C/span%3E(i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(v2[%3Cspan%20class=%22number%22%3E1%3C/span%3E]%20+%20v2[%3Cspan%20class=%22number%22%3E2%3C/span%3E]%20=%20v2[%3Cspan%20class=%22number%22%3E0%3C/span%3E])%20&amp;#123;%20std::cout%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;Error&amp;quot;%3C/span%3E;%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20finish_time%20=%20%3Cspan%20class=%22built_in%22%3Eclock%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Estd::cout%20&amp;lt;&amp;lt;%20(finish_time%20-%20start_time)%20*%20%3Cspan%20class=%22number%22%3E1.e9%3C/span%3E%20/%20CLOCKS_PER_SEC%20/%20n_iter%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;%20ns%20per%20iteration&#92;n&amp;quot;%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%8B%E9%9D%A2Rust%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8%E4%BA%86%E7%A7%BB%E5%8A%A8%E6%9C%AF%E8%AF%AD%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Euse%3C/span%3E%20std::time::Instant;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eelapsed_ms%3C/span%3E(t1:%20Instant,%20t2:%20Instant)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et%3C/span%3E%20=%20t2%20-%20t1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20t.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eas_secs%3C/span%3E()%20%3Cspan%20class=%22keyword%22%3Eas%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20*%20%3Cspan%20class=%22number%22%3E1000%3C/span%3E.%20+%20t.%3Cspan%20class=%22title%20function_%20invoke__%22%3Esubsec_nanos%3C/span%3E()%20%3Cspan%20class=%22keyword%22%3Eas%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20/%20%3Cspan%20class=%22number%22%3E1e6%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Econst%3C/span%3E%20N_ITER:%20%3Cspan%20class=%22type%22%3Eusize%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E100_000_000%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Estart_time%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..N_ITER%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E11%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20v1;%20%20%20%20%3Cspan%20class=%22comment%22%3E/%20Move%20semantics%20is%20used%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev2.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20v1[%3Cspan%20class=%22number%22%3E1%3C/span%3E]%20+%20v2[%3Cspan%20class=%22number%22%3E2%3C/span%3E]%20==%20v2[%3Cspan%20class=%22number%22%3E0%3C/span%3E]%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Error&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Efinish_time%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20ns%20per%20iteration&#92;n&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(start_time,%20finish_time)%20*%20%3Cspan%20class=%22number%22%3E1e6%3C/span%3E%20/%20N_ITER%20%3Cspan%20class=%22keyword%22%3Eas%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3EC++%E7%9A%84%E7%AD%89%E4%BB%B7%E5%AE%9E%E7%8E%B0%E4%B8%BA%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20cpp%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;iostream&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;vector&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;ctime&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22function%22%3E%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20%3C/span%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3Econst%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20n_iter%20=%20%3Cspan%20class=%22number%22%3E100000000%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20start_time%20=%20%3Cspan%20class=%22built_in%22%3Eclock%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20(%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20i%20=%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%20i%20&amp;lt;%20n_iter;%20++i)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20v1%20=%20std::vector&amp;lt;%3Cspan%20class=%22type%22%3Eint%3C/span%3E&amp;gt;%20&amp;#123;%20%3Cspan%20class=%22number%22%3E11%3C/span%3E,%20%3Cspan%20class=%22number%22%3E22%3C/span%3E%20&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20v2%20=%20%3Cspan%20class=%22built_in%22%3Emove%3C/span%3E(v1);%3Cspan%20class=%22comment%22%3E/%20Move%20semantics%20is%20used%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev%3Cspan%20class=%22number%22%3E2.%3C/span%3E%3Cspan%20class=%22built_in%22%3Epush_back%3C/span%3E(i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(v2[%3Cspan%20class=%22number%22%3E1%3C/span%3E]%20+%20v2[%3Cspan%20class=%22number%22%3E2%3C/span%3E]%20=%20v2[%3Cspan%20class=%22number%22%3E0%3C/span%3E])%20&amp;#123;%20std::cout%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;Error&amp;quot;%3C/span%3E;%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20finish_time%20=%20%3Cspan%20class=%22built_in%22%3Eclock%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Estd::cout%20&amp;lt;&amp;lt;%20(finish_time%20-%20start_time)%20*%20%3Cspan%20class=%22number%22%3E1.e9%3C/span%3E%20/%20CLOCKS_PER_SEC%20/%20n_iter%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;%20ns%20per%20iteration&#92;n&amp;quot;%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AF%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96%E5%90%8E%E7%9A%84%E5%A4%A7%E8%87%B4%E7%9A%84%E6%97%B6%E9%97%B4%E6%8D%9F%E8%80%97%EF%BC%8C%3C/p%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%3C/th%3E%3Cth%3ERust%3C/th%3E%3Cth%3EC++%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3ECopy%20semantics%3C/td%3E%3Ctd%3E157%3C/td%3E%3Ctd%3E87%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EMove%20semantics%3C/td%3E%3Ctd%3E67%3C/td%3E%3Ctd%3E67%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Cp%3E%E4%B8%8D%E7%AE%A1%E6%98%AF%E5%9C%A8C%3Cins%3E%E8%BF%98%E6%98%AFRust%E4%B8%AD%EF%BC%8C%E7%A7%BB%E5%8A%A8%E6%9C%AF%E8%AF%AD%E9%83%BD%E8%A6%81%E6%AF%94%E6%8B%B7%E8%B4%9D%E6%9C%AF%E8%AF%AD%E8%A6%81%E5%BF%AB%E3%80%82%E5%9C%A8%E8%BF%99%E6%96%B9%E9%9D%A2%EF%BC%8C%E7%A7%BB%E5%8A%A8%E6%9C%AF%E8%AF%AD%E4%B8%A4%E8%80%85%E9%83%BD%E5%B7%AE%E4%B8%8D%E5%A4%9A%EF%BC%8C%E6%8B%B7%E8%B4%9D%E6%9C%AF%E8%AF%AD%E6%96%B9%E9%9D%A2C%3C/ins%3E%E8%A6%81%E6%AF%94Rust%E5%A5%BD%E5%BE%88%E5%A4%9A%E3%80%82%3C/p%3E%3Ch2%20id=%22Moving-and-Destroying-Objects%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Moving-and-Destroying-Objects%22%3E%C2%B6%3C/a%3EMoving%20and%20Destroying%20Objects%3C/h2%3E%3Cp%3E%E6%89%80%E6%9C%89%E8%BF%99%E4%BA%9B%E6%A6%82%E5%BF%B5%E4%B8%8D%E5%8D%95%E6%98%AF%E5%AF%B9vector%EF%BC%8C%E4%BB%BB%E4%BD%95%E6%9C%89%E7%BC%93%E5%86%B2%E5%8C%BA%E5%BC%95%E7%94%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%E9%83%BD%E9%80%82%E7%94%A8%EF%BC%8C%E8%AD%AC%E5%A6%82%3Ccode%3EString%3C/code%3E%E6%88%96%3Ccode%3EBox%3C/code%3E%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es1%3C/span%3E%20=%20%3Cspan%20class=%22string%22%3E&amp;quot;abcd&amp;quot;%3C/span%3E.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eto_string%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es2%3C/span%3E%20=%20s1.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es3%3C/span%3E%20=%20s1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20ILLEGAL:%20print!(&amp;quot;&amp;#123;&amp;#125;%20&amp;quot;,%20s1.len());%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20s2.%3Cspan%20class=%22title%20function_%20invoke__%22%3Elen%3C/span%3E(),%20s3.%3Cspan%20class=%22title%20function_%20invoke__%22%3Elen%3C/span%3E());%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E5%92%8CC++%E7%B1%BB%E4%BC%BC%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20cpp%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;iostream&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;string&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22function%22%3E%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20%3C/span%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20s1%20=%20std::string%20&amp;#123;%20%3Cspan%20class=%22string%22%3E&amp;quot;abcd&amp;quot;%3C/span%3E%20&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3Econst%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20s2%20=%20s1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3Econst%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20s3%20=%20%3Cspan%20class=%22built_in%22%3Emove%3C/span%3E(s1);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Estd::cout%20&amp;lt;&amp;lt;%20s%3Cspan%20class=%22number%22%3E1.%3C/span%3E%3Cspan%20class=%22built_in%22%3Esize%3C/span%3E()%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;quot;%3C/span%3E%20&amp;lt;&amp;lt;%20s%3Cspan%20class=%22number%22%3E2.%3C/span%3E%3Cspan%20class=%22built_in%22%3Esize%3C/span%3E()%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;quot;%3C/span%3E%20&amp;lt;&amp;lt;%20s%3Cspan%20class=%22number%22%3E3.%3C/span%3E%3Cspan%20class=%22built_in%22%3Esize%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%89%8D%E9%9D%A2%E8%AF%B4%E8%BF%87%EF%BC%8C%E8%A2%AB%E7%A7%BB%E5%8A%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8D%E8%83%BD%E5%86%8D%E8%AE%BF%E9%97%AE%EF%BC%8C%E5%9B%A0%E6%AD%A4%3Ccode%3Es1%3C/code%3E%E8%AE%BF%E9%97%AE%E6%97%B6%E4%BC%9A%E5%AF%BC%E8%87%B4%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%9B%E8%80%8C%E5%AF%B9%E4%BA%8EC++%EF%BC%8C%E5%8E%9F%E6%9D%A5%E7%9A%84%3Ccode%3Es1%3C/code%3E%E4%BC%9A%E7%BD%AE%E4%B8%BA%E7%A9%BA%EF%BC%8C%E6%89%80%E4%BB%A5%E4%BC%9A%E8%BE%93%E5%87%BA0%204%204%E3%80%82%3C/p%3E%3Cp%3E%E5%AF%B9%E4%BA%8E%3Ccode%3EBox%3C/code%3E%E7%B1%BB%E5%9E%8B%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei1%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EBox%3C/span%3E::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E(%3Cspan%20class=%22number%22%3E12345i16%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei2%3C/span%3E%20=%20i1.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei3%3C/span%3E%20=%20i1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20ILLEGAL:%20print!(&amp;quot;&amp;#123;&amp;#125;%20&amp;quot;,%20i1);%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20i2,%20i3);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%AF%B9%E5%BA%94%E7%9A%84C++%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20cpp%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;iostream&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E#%3Cspan%20class=%22keyword%22%3Einclude%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;lt;memory&amp;gt;%3C/span%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22function%22%3E%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20%3C/span%3E&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20i1%20=%20std::unique_ptr&amp;lt;%3Cspan%20class=%22type%22%3Eshort%3C/span%3E&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22built_in%22%3Eshort%3C/span%3E(%3Cspan%20class=%22number%22%3E12345%3C/span%3E)%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3Econst%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20i2%20=%20std::unique_ptr&amp;lt;%3Cspan%20class=%22type%22%3Eshort%3C/span%3E&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22built_in%22%3Eshort%3C/span%3E(*i1)%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3Econst%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eauto%3C/span%3E%20i3%20=%20%3Cspan%20class=%22built_in%22%3Emove%3C/span%3E(i1);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Estd::cout%20&amp;lt;&amp;lt;%20(%3Cspan%20class=%22type%22%3Ebool%3C/span%3E)i1%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;quot;%3C/span%3E%20&amp;lt;&amp;lt;%20(%3Cspan%20class=%22type%22%3Ebool%3C/span%3E)i2%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;quot;%3C/span%3E%20&amp;lt;&amp;lt;%20(%3Cspan%20class=%22type%22%3Ebool%3C/span%3E)i3%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;quot;%3C/span%3E%20&amp;lt;&amp;lt;%20*i2%20&amp;lt;&amp;lt;%20%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;quot;%3C/span%3E%20&amp;lt;&amp;lt;%20*i3;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3ERust%E7%A8%8B%E5%BA%8F%E4%BC%9A%E8%BE%93%E5%87%BA12345%2012345%EF%BC%8C%E4%BB%BB%E4%BD%95%E8%AE%BF%E9%97%AE%3Ccode%3Ei1%3C/code%3E%E9%83%BD%E4%BC%9A%E5%AF%BC%E8%87%B4%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%E3%80%82C++%E4%BC%9A%E8%BE%93%E5%87%BA0%201%201%2012345%2012345%E3%80%82%E5%9B%A0%E4%B8%BA%E4%BB%85%3Ccode%3Ei1%3C/code%3E%E6%98%AFnull%EF%BC%8C%E5%AE%83%E8%A2%AB%E7%A7%BB%E5%8A%A8%E5%88%B0%3Ccode%3Ei3%3C/code%3E%E4%BA%86%E3%80%82%3C/p%3E%3Cp%3E%E4%BB%85%E5%BD%93%E4%BB%96%E4%BB%AC%E8%A2%AB%E7%94%A8%E4%BA%8E%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%EF%BC%8C%E7%BB%99%E4%B8%80%E4%B8%AA%E6%9C%89%E5%80%BC%E7%9A%84%E5%8F%98%E9%87%8F%E9%87%8D%E6%96%B0%E8%B5%8B%E5%80%BC%EF%BC%8C%E5%AF%B9%E8%B1%A1%E4%B8%8D%E8%A2%AB%E7%A7%BB%E5%8A%A8%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22literal%22%3Efalse%3C/span%3E;%20%3Cspan%20class=%22number%22%3E3%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22literal%22%3Efalse%3C/span%3E;%20%3Cspan%20class=%22number%22%3E2%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev2%20=%20v1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev1;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%BB%A5%E5%8F%8A%E7%BB%99%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E5%80%BC%E6%97%B6%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ef%3C/span%3E(v2:%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Ebool%3C/span%3E&amp;gt;)%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22literal%22%3Efalse%3C/span%3E;%20%3Cspan%20class=%22number%22%3E3%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3Ef%3C/span%3E(v1);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev1;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%BB%A5%E5%8F%8A%E6%8C%87%E6%B4%BE%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%BD%93%E5%89%8D%E6%B2%A1%E6%9C%89%E5%AE%9E%E9%99%85%E5%A0%86%E5%88%86%E9%85%8D%E6%97%B6%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ev1%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22literal%22%3Efalse%3C/span%3E;%20%3Cspan%20class=%22number%22%3E0%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev2%3C/span%3E%20=%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22literal%22%3Efalse%3C/span%3E;%20%3Cspan%20class=%22number%22%3E0%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev2%20=%20v1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev1;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BC%96%E8%AF%91%E4%B8%8A%E9%9D%A2%E4%BB%BB%E4%BD%95%E4%B8%89%E6%9D%A1%E7%A8%8B%E5%BA%8F%EF%BC%8C%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E8%AF%AD%E5%8F%A5%E9%83%BD%E4%BC%9A%E5%AF%BC%E8%87%B4%E2%80%9Cuse%20of%20a%20moved%20value%E2%80%9D%E7%9A%84%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%8C%3C/p%3E%3Cp%3E%E5%B0%A4%E5%85%B6%E6%98%AF%EF%BC%8C%E5%9C%A8%E7%A8%8B%E5%BA%8F%E6%9C%80%E5%90%8E%EF%BC%8C%3Ccode%3Ev1%3C/code%3E%E8%A2%AB%E7%A7%BB%E5%8A%A8%E5%88%B0%3Ccode%3Ev2%3C/code%3E%EF%BC%8C%E5%8D%B3%E4%BD%BF%E4%BB%96%E4%BB%AC%E9%83%BD%E4%B8%BA%E7%A9%BA%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%AE%83%E4%BB%AC%E6%B2%A1%E6%9C%89%E5%A0%86%E7%A9%BA%E9%97%B4%E8%A2%AB%E4%BD%BF%E7%94%A8%E3%80%82%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F%E5%9B%A0%E4%B8%BA%E7%A7%BB%E5%8A%A8%E8%A7%84%E5%88%99%E7%94%B1%E7%BC%96%E8%AF%91%E5%99%A8%E6%8F%90%E4%BE%9B%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%AE%83%E5%9C%A8%E8%BF%90%E8%A1%8C%E6%9C%9F%E5%BF%85%E9%A1%BB%E6%98%AF%E7%8B%AC%E7%AB%8B%E7%9A%84%E5%86%85%E5%AE%B9%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%8C%E6%9C%80%E5%90%8E%E4%B8%80%E8%A1%8C%E4%B9%9F%E4%BC%9A%E5%AF%BC%E8%87%B4%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es1%3C/span%3E%20=%20S%20&amp;#123;&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es2%3C/span%3E%20=%20s1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Es1;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BC%96%E8%AF%91%E5%99%A8%E5%8F%AF%E4%BB%A5%E7%A1%AE%E5%88%87%E7%9F%A5%E9%81%93%E8%BF%99%E4%B8%AA%E5%BC%95%E7%94%A8%E4%B8%8D%E4%BC%9A%E6%8C%87%E5%90%91heap%EF%BC%8C%E4%BD%86%E4%BB%8D%E7%84%B6%E7%BC%96%E8%AF%91%E6%8A%A5%E9%94%99%E3%80%82%E4%B8%BA%E4%BB%80%E4%B9%88Rust%E4%B8%8D%E4%B8%BA%E8%AF%A5%E7%B1%BB%E5%9E%8B%E4%BD%BF%E7%94%A8%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%EF%BC%9F%3C/p%3E%3Cp%3E%E5%AE%83%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E6%98%AF%E8%BF%99%E6%A0%B7%E7%9A%84%E3%80%82%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E7%9A%84%E7%B1%BB%E5%9E%8B%3Ccode%3ES%3C/code%3E%E7%8E%B0%E5%9C%A8%E6%B2%A1%E6%9C%89%E5%BC%95%E7%94%A8%E5%86%85%E5%AD%98%EF%BC%8C%E4%BD%86%E5%9C%A8%E5%B0%86%E6%9D%A5%E8%BD%AF%E4%BB%B6%E7%BB%B4%E6%8A%A4%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E6%8C%87%E5%90%91%E5%A0%86%E7%9A%84%E5%BC%95%E7%94%A8%E5%8F%AF%E8%83%BD%E4%BC%9A%E8%A2%AB%E6%B7%BB%E5%8A%A0%EF%BC%8C%E5%8D%B3%3Ccode%3ES%3C/code%3E%E5%8F%AF%E8%83%BD%E4%BC%9A%E8%A2%AB%E4%BD%9C%E4%B8%BA%E5%AD%97%E6%AE%B5(field)%E7%AD%89%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%B8%BA%3Ccode%3ES%3C/code%3E%E5%AE%9E%E7%8E%B0%E4%BA%86%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%EF%BC%8C%E5%BD%93%E7%A8%8B%E5%BA%8F%E6%BA%90%E8%A2%AB%E6%9B%B4%E6%94%B9%EF%BC%8C%E4%B8%80%E4%B8%AA%3Ccode%3EString%3C/code%3E%E3%80%81%3Ccode%3EBox%3C/code%3E%E3%80%81%E6%88%96%E9%9B%86%E5%90%88%EF%BC%8C%E7%9B%B4%E6%8E%A5%E6%88%96%E9%97%B4%E6%8E%A5%E5%9C%B0%E6%B7%BB%E5%8A%A0%E5%88%B0%3Ccode%3ES%3C/code%3E%EF%BC%8C%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%BE%88%E5%A4%9A%E9%94%99%E8%AF%AF%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E4%BD%9C%E4%B8%BA%E8%A7%84%E5%88%99%EF%BC%8C%E6%9C%80%E5%90%8E%E4%BF%9D%E7%95%99%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%E3%80%82%3C/p%3E%3Ch2%20id=%22Need-for-Copy-Semantics%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Need-for-Copy-Semantics%22%3E%C2%B6%3C/a%3ENeed%20for%20Copy%20Semantics%3C/h2%3E%3Cp%3E%E6%88%91%E4%BB%AC%E7%9C%8B%E5%88%B0%E5%BE%88%E5%A4%9A%E7%B1%BB%E5%9E%8B%E4%BD%BF%E7%94%A8%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%EF%BC%8C%E5%8C%85%E6%8B%ACvector%EF%BC%8C%E5%8A%A8%E6%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8Cboxes%EF%BC%8C%E7%BB%93%E6%9E%84%E4%BD%93%E2%80%A6%20%E4%B8%8B%E9%9D%A2%E7%9A%84%E7%A8%8B%E5%BA%8F%E6%98%AF%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei1%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E123%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_i2%3C/span%3E%20=%20i1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es1%3C/span%3E%20=%20%3Cspan%20class=%22string%22%3E&amp;quot;abc&amp;quot;%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_s2%3C/span%3E%20=%20s1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Er1%3C/span%3E%20=%20&amp;amp;i1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_r2%3C/span%3E%20=%20r1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20i1,%20s1,%20r1);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E5%B0%86%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C123%20abc%20123%E2%80%9D%E3%80%82%E6%80%8E%E4%B9%88%E6%9D%A5%E7%9A%84%EF%BC%9F%3C/p%3E%3Cp%3E%E9%A6%96%E5%85%88%EF%BC%8C%E5%AF%B9%E4%BA%8E%E5%8E%9F%E7%94%9F%E7%B1%BB%E5%9E%8B%EF%BC%8C%E9%9D%99%E6%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E5%BC%95%E7%94%A8%EF%BC%8CRust%E4%B8%8D%E4%BD%BF%E7%94%A8%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%E3%80%82%E5%AF%B9%E4%BA%8E%E8%BF%99%E4%BA%9B%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%8CRust%E4%BD%BF%E7%94%A8%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F%E5%89%8D%E9%9D%A2%E7%9C%8B%E5%88%B0%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%8F%AF%E4%BB%A5%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E5%A0%86%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%AE%83%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%BA%94%E8%AF%A5%E5%AE%9E%E7%8E%B0%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%EF%BC%9B%E4%BD%86%E5%A6%82%E6%9E%9C%E4%B8%8D%E8%83%BD%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%E4%BB%BB%E4%BD%95%E5%A0%86%E5%86%85%E5%AD%98%EF%BC%8C%E5%AE%83%E4%BB%85%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E3%80%82%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%E5%AF%B9%E4%BA%8E%E5%8E%9F%E7%94%9F%E7%B1%BB%E5%9E%8B%E6%9D%A5%E8%AF%B4%E6%98%AF%E4%B8%AA%E9%BA%BB%E7%83%A6%E7%9A%84%E4%B8%9C%E8%A5%BF%EF%BC%8C%E8%80%8C%E4%B8%94%E5%AE%83%E4%B9%9F%E4%B8%8D%E9%80%82%E5%90%88%E4%BA%8E%E8%A2%AB%E6%94%B9%E5%8F%98%E6%9D%A5%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%E6%9F%90%E4%BA%9B%E5%A0%86%E5%AF%B9%E8%B1%A1%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%AF%B9%E4%BA%8E%E8%BF%99%E4%BA%9B%E7%B1%BB%E5%9E%8B%E6%9D%A5%E8%AF%B4%EF%BC%8C%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E6%98%AF%E5%AE%89%E5%85%A8%E7%9A%84%E3%80%81%E9%AB%98%E6%95%88%E7%9A%84%E3%80%81%E5%B9%B6%E4%B8%94%E6%9B%B4%E6%96%B9%E4%BE%BF%E3%80%82%3C/p%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8CRust%E4%B8%AD%E7%9A%84%E6%9F%90%E4%BA%9B%E7%B1%BB%E5%9E%8B%E5%AE%9E%E7%8E%B0%E4%BA%86%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%EF%BC%8C%E5%8F%A6%E4%B8%80%E4%BA%9B%E5%AE%9E%E7%8E%B0%E4%BA%86%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%E3%80%82%E5%8F%A6%E5%A4%96%EF%BC%8Cnumbers%E3%80%81Booleans%E3%80%81static%20strings%E3%80%81arrays%E3%80%81tuples%E3%80%81references%E5%AE%9E%E7%8E%B0%E4%BA%86%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E3%80%82%E7%9B%B8%E5%8F%8D%EF%BC%8Cdynamic%20strings%E3%80%81boxes%E3%80%81%E9%9B%86%E5%90%88(%E5%8C%85%E6%8B%ACvectors)%E3%80%81enums%E3%80%81structs%E3%80%81tuple-structs%E5%9D%87%E9%BB%98%E8%AE%A4%E5%AE%9E%E7%8E%B0%E4%BA%86%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%E3%80%82%3C/p%3E%3Ch2%20id=%22Cloning-Objects%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Cloning-Objects%22%3E%C2%B6%3C/a%3ECloning%20Objects%3C/h2%3E%3Cp%3E%E7%84%B6%E8%80%8C%EF%BC%8C%E5%AF%B9%E4%BA%8E%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8B%B7%E8%B4%9D%EF%BC%8C%E6%9C%89%E5%8F%A6%E4%B8%80%E7%A7%8D%E9%87%8D%E8%A6%81%E7%9A%84%E5%8C%BA%E5%88%86%E3%80%82%E6%89%80%E6%9C%89%E5%AE%9E%E7%8E%B0%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E6%8C%87%E6%B4%BE%E7%9A%84%E6%96%B9%E5%BC%8F%E7%AE%80%E5%8D%95%E5%9C%B0%E6%8B%B7%E8%B4%9D%EF%BC%9B%E4%BD%86%E5%AF%B9%E4%BA%8E%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%9D%A5%E8%AF%B4%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8C%E6%8B%B7%E8%B4%9D%EF%BC%8C%E4%BD%86%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93%E7%9A%84%3Ccode%3Eclone%3C/code%3E%E3%80%82%E5%AF%B9%E4%BA%8E%E5%8A%A8%E6%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%81boxed%E5%AF%B9%E8%B1%A1%E3%80%81vector%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%3Ccode%3Eclone%3C/code%3E%E5%87%BD%E6%95%B0%E3%80%82%E4%BD%86%E5%AF%B9%E4%BA%8E%E6%9F%90%E4%BA%9B%E7%B1%BB%E5%9E%8B%EF%BC%8C%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%3Ccode%3Eclone%3C/code%3E%E5%87%BD%E6%95%B0%EF%BC%8C%E5%9B%A0%E4%B8%BA%E6%B2%A1%E6%9C%89%E5%90%88%E9%80%82%E7%9A%84%E6%8B%B7%E8%B4%9D%E7%B1%BB%E5%9E%8B%E3%80%82%E4%BE%8B%E5%A6%82%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%EF%BC%8C%E4%B8%80%E4%B8%AAGUI%E7%AA%97%E5%8F%A3%E5%A4%84%E7%90%86%EF%BC%8C%E6%88%96%E4%B8%80%E4%B8%AA%E4%BA%92%E6%96%A5%E9%94%81%E5%A4%84%E7%90%86%E3%80%82%E5%A6%82%E6%9E%9C%E4%BD%A0%E6%8B%B7%E8%B4%9D%E4%BA%86%E5%AE%83%EF%BC%8C%E7%84%B6%E5%90%8E%E9%94%80%E6%AF%81%E6%9F%90%E4%B8%80%E4%BB%BD%E6%8B%B7%E8%B4%9D%EF%BC%8C%E6%BA%90%E8%B5%84%E6%BA%90%E4%BC%9A%E8%A2%AB%E9%87%8A%E6%94%BE%EF%BC%8C%E5%85%B6%E5%AE%83%E6%8B%B7%E8%B4%9D%E7%9A%84%E5%A4%84%E7%90%86%E4%BC%9A%E5%89%8D%E5%90%8E%E4%B8%8D%E4%B8%80%E8%87%B4%EF%BC%9A%3C/p%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%85%B3%E4%BA%8E%E5%8F%AF%E8%A2%AB%E6%8B%B7%E8%B4%9D%E7%9A%84%E8%83%BD%E5%8A%9B%EF%BC%8C%E4%BC%9A%E6%9C%89%E4%B8%89%E7%A7%8D%E4%B8%8D%E5%90%8C%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E5%AF%B9%E8%B1%A1%E4%B8%8D%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%E4%BB%BB%E4%BD%95%E4%B8%9C%E8%A5%BF%EF%BC%8C%E6%8B%B7%E8%B4%9D%E6%98%AF%E5%BB%89%E4%BB%B7%E7%9A%84%E3%80%81%E5%AE%B9%E6%98%93%E7%9A%84%E3%80%82%3C/li%3E%3Cli%3E%E5%AF%B9%E8%B1%A1%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%E6%9F%90%E4%BA%9B%E5%A0%86%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%BD%86%E4%B8%8D%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%E5%86%85%E9%83%A8%E8%B5%84%E6%BA%90%EF%BC%8C%E6%89%80%E4%BB%A5%E5%8F%AF%E4%BB%A5%E8%A2%AB%E6%8B%B7%E8%B4%9D%EF%BC%8C%E4%BD%86%E8%BF%90%E8%A1%8C%E6%9C%9F%E6%9C%89%E8%BE%83%E5%A4%A7%E6%8D%9F%E8%80%97%E3%80%82%3C/li%3E%3Cli%3E%E5%AF%B9%E8%B1%A1%E2%80%9C%E6%8B%A5%E6%9C%89%E2%80%9D%E5%86%85%E9%83%A8%E8%B5%84%E6%BA%90%EF%BC%8C%E8%AD%AC%E5%A6%82%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E3%80%81GUI%E7%AA%97%E5%8F%A3%E5%A4%84%E7%90%86%EF%BC%8C%E6%89%80%E4%BB%A5%E5%AE%83%E4%B8%8D%E8%83%BD%E8%A2%AB%E6%8B%B7%E8%B4%9D%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E7%AC%AC%E4%B8%80%E7%B1%BB%E5%AF%B9%E8%B1%A1%EF%BC%8C%E7%A7%B0%E4%B8%BA%E2%80%9C%E5%8F%AF%E6%8B%B7%E8%B4%9D%E5%AF%B9%E8%B1%A1%EF%BC%8Ccopyable%20objects%E2%80%9D%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AF%B9%E4%BA%8E%E8%BF%99%E7%B1%BB%E5%AF%B9%E8%B1%A1%E6%9D%A5%E8%AF%B4%EF%BC%8C%E6%8B%B7%E8%B4%9D%E6%9B%B4%E5%8A%A0%E9%AB%98%E6%95%88%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%BA%8C%E7%A7%8D%E5%AF%B9%E8%B1%A1%EF%BC%8C%E7%A7%B0%E4%B8%BA%E2%80%9C%E5%85%8B%E9%9A%86%E8%80%8C%E9%9D%9E%E6%8B%B7%E8%B4%9D%E5%AF%B9%E8%B1%A1%EF%BC%8Ccloneable%20but%20non-copyable%20objects%E2%80%9D%EF%BC%8C%E9%A1%BE%E5%90%8D%E6%80%9D%E4%B9%89%EF%BC%8C%E8%BF%99%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%EF%BC%8C%E4%BD%86%E4%B9%9F%E5%BA%94%E8%AF%A5%E5%AE%9E%E7%8E%B0%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%EF%BC%8C%E4%BB%A5%E9%81%BF%E5%85%8D%E8%BF%90%E8%A1%8C%E6%9C%9F%E9%9D%9E%E5%BF%85%E8%A6%81%E7%9A%84%E5%89%AF%E6%9C%AC%E6%B6%88%E8%80%97%E3%80%82%E7%94%9A%E8%87%B3%EF%BC%8C%E9%9C%80%E8%A6%81%E6%98%BE%E5%BC%8F%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E6%96%B9%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%A4%8D%E5%88%B6%E3%80%82%3C/p%3E%3Cp%3E%E7%AC%AC%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%BA%94%E8%AF%A5%E5%AE%9E%E7%8E%B0%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%EF%BC%8C%E4%BD%86%E4%B8%8D%E5%BA%94%E8%AF%A5%E6%8F%90%E4%BE%9B%E5%A4%8D%E5%88%B6%E6%96%B9%E6%B3%95%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E6%8B%A5%E6%9C%89%E7%9A%84%E8%B5%84%E6%BA%90%E4%B8%8D%E8%83%BD%E5%9C%A8Rust%E4%BB%A3%E7%A0%81%E5%A4%8D%E5%88%B6%EF%BC%8C%E8%BF%99%E7%A7%8D%E8%B5%84%E6%BA%90%E4%BB%85%E8%83%BD%E6%9C%89%E4%B8%80%E4%B8%AA%E2%80%9Cowner%E2%80%9D%EF%BC%8C%E6%89%80%E4%BB%A5%E8%BF%99%E7%B1%BB%E7%A7%B0%E4%B9%8B%E4%B8%BA%E2%80%9C%E4%B8%8D%E5%8F%AF%E6%8B%B7%E8%B4%9D%E5%AF%B9%E8%B1%A1%EF%BC%8Cnon-cloneable%20objects%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E5%BD%93%E7%84%B6%EF%BC%8C%E4%BB%BB%E4%BD%95%E5%AF%B9%E8%B1%A1%E5%8F%AF%E8%87%AA%E5%8A%A8%E8%A2%AB%E6%8B%B7%E8%B4%9D%E4%B9%9F%E5%8F%AF%E6%98%BE%E5%BC%8F%E5%9C%B0%E8%A2%AB%E6%8B%B7%E8%B4%9D%EF%BC%8C%E6%89%80%E4%BB%A5%E4%BB%BB%E4%BD%95%E5%8F%AF%E6%8B%B7%E8%B4%9D%E5%AF%B9%E8%B1%A1(copyable%20object)%E4%B9%9F%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8F%AF%E5%85%8B%E9%9A%86%E5%AF%B9%E8%B1%A1(cloneable%20object)%E3%80%82%3C/p%3E%3Cp%3E%E6%80%BB%E7%BB%93%EF%BC%8C%E6%9F%90%E4%BA%9B%E5%AF%B9%E8%B1%A1%E4%B8%8D%E8%83%BD%E8%A2%AB%E5%85%8B%E9%9A%86(%E5%A6%82%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86)%EF%BC%8C%E6%9F%90%E4%BA%9B%E5%8F%AF%E4%BB%A5%E6%8B%B7%E8%B4%9D(%E6%98%BE%E5%BC%8F%E5%9C%B0)%EF%BC%8C%E6%9F%90%E4%BA%9B%E5%8F%AF%E4%BB%A5%E9%9A%90%E5%BC%8F%E6%8B%B7%E8%B4%9D(%E5%A6%82%E6%95%B0%E5%AD%97)%EF%BC%8C%E6%9F%90%E4%BA%9B%E4%B8%8D%E8%83%BD%E6%8B%B7%E8%B4%9D(%E5%A6%82%E9%9B%86%E5%90%88)%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%BA%E4%BA%86%E5%8C%BA%E5%88%86%E8%BF%99%E4%B8%89%E8%80%85%EF%BC%8CRust%E6%A0%87%E5%87%86%E5%BA%93%E5%8C%85%E5%90%AB%E6%9C%89%E4%B8%A4%E4%B8%AA%E7%89%B9%E6%AE%8A%E7%9A%84trait%EF%BC%9A%3Ccode%3ECopy%3C/code%3E%E5%92%8C%3Ccode%3EClone%3C/code%3E%E3%80%82%E4%BB%BB%E4%BD%95%E7%B1%BB%E5%9E%8B%E5%AE%9E%E7%8E%B0%E4%BA%86%3Ccode%3ECopy%3C/code%3E%E7%9A%84%E6%98%AF%E5%8F%AF%E6%8B%B7%E8%B4%9D%E7%9A%84%EF%BC%9B%E4%BB%BB%E4%BD%95%E7%B1%BB%E5%9E%8B%E5%AE%9E%E7%8E%B0%E4%BA%86%3Ccode%3EClone%3C/code%3E%E6%98%AF%E5%8F%AF%E5%85%8B%E9%9A%86%E7%9A%84%E3%80%82%3C/p%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8C%E8%BF%99%E4%B8%89%E7%A7%8D%E5%8F%AF%E4%BB%A5%E6%96%87%E5%AD%97%E6%8F%8F%E8%BF%B0%E4%B8%BA%E5%A6%82%E4%B8%8B%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E5%AF%B9%E8%B1%A1%E5%AE%9E%E7%8E%B0%E4%BA%86%3Ccode%3ECopy%3C/code%3E%E5%92%8C%3Ccode%3EClone%3C/code%3E%E7%9A%84%EF%BC%8C%E5%8C%85%E5%90%AB%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%98%BE%E5%BC%8F%E5%85%8B%E9%9A%86%E3%80%82%E4%BE%8B%E5%A6%82%E5%8E%9F%E7%94%9F%E7%B1%BB%E5%9E%8B%E3%80%82%3C/li%3E%3Cli%3E%E5%AF%B9%E8%B1%A1%E5%AE%9E%E7%8E%B0%E4%BA%86%3Ccode%3EClone%3C/code%3E%EF%BC%8C%E4%BD%86%E6%B2%A1%E6%9C%89%E5%AE%9E%E7%8E%B0%3Ccode%3ECopy%3C/code%3E%E7%9A%84%EF%BC%8C%E5%AE%83%E4%BB%AC%E5%AE%9E%E7%8E%B0%E4%BA%86%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%98%BE%E5%BC%8F%E5%85%8B%E9%9A%86%E3%80%82%E4%BE%8B%E5%A6%82%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E3%80%82%3C/li%3E%3Cli%3E%E6%97%A2%E6%B2%A1%E6%9C%89%E5%AE%9E%E7%8E%B0%3Ccode%3ECopy%3C/code%3E%EF%BC%8C%E4%B9%9F%E6%B2%A1%E6%9C%89%E5%AE%9E%E7%8E%B0%3Ccode%3EClone%3C/code%3E%E7%9A%84%EF%BC%8C%E5%B1%9E%E4%BA%8E%E4%B8%8D%E5%8F%AF%E5%A4%8D%E5%88%B6%EF%BC%8C%E5%AE%83%E4%BB%AC%E5%AE%9E%E7%8E%B0%E4%BA%86%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%EF%BC%8C%E4%BE%8B%E5%A6%82%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E7%AD%89%E3%80%82%3C/li%3E%3Cli%3E%E6%B2%A1%E6%9C%89%E5%AF%B9%E8%B1%A1%E6%98%AF%E5%AE%9E%E7%8E%B0%E4%BA%86%3Ccode%3ECopy%3C/code%3E%EF%BC%8C%E5%8D%B4%E6%B2%A1%E6%9C%89%3Ccode%3EClone%3C/code%3E%E7%9A%84%E3%80%82%E8%BF%99%E6%84%8F%E5%91%B3%E7%9D%80%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8B%B7%E8%B4%9D%E6%98%AF%E9%9A%90%E5%BC%8F%E7%9A%84%EF%BC%8C%E5%8D%B4%E4%B8%8D%E8%83%BD%E6%98%BE%E5%BC%8F%E8%B0%83%E7%94%A8%EF%BC%8C%E8%BF%99%E6%98%AF%E6%97%A0%E6%84%8F%E4%B9%89%E7%9A%84%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E4%BE%8B%E5%AD%90%E5%B1%95%E7%A4%BA%E6%89%80%E6%9C%89%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ea1%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E123%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eb1%3C/span%3E%20=%20a1.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ec1%3C/span%3E%20=%20b1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20a1,%20b1,%20c1);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ea2%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E::&amp;lt;%3Cspan%20class=%22type%22%3Ebool%3C/span%3E&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eb2%3C/span%3E%20=%20a2.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ec2%3C/span%3E%20=%20b2;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20a2);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20ILLEGAL:%20print!(&amp;quot;%20&amp;#123;:?&amp;#125;&amp;quot;,%20b2);%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20c2);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ea3%3C/span%3E%20=%20std::fs::File::%3Cspan%20class=%22title%20function_%20invoke__%22%3Eopen%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;.&amp;quot;%3C/span%3E).%3Cspan%20class=%22title%20function_%20invoke__%22%3Eunwrap%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20ILLEGAL:%20let%20b3%20=%20a3.clone();%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ec3%3C/span%3E%20=%20a3;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20ILLEGAL:%20print!(&amp;quot;%20&amp;#123;:?&amp;#125;&amp;quot;,%20a3);%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20c3);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C%3Ccode%3E123%20123%20123%20[]%20[]%20File%3C/code%3E%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E6%AD%A4%E5%A4%84%E4%B8%89%E5%A4%84%E6%B3%A8%E9%87%8A%E7%9A%84%E5%9C%B0%E6%96%B9%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%E8%AF%AD%E5%8F%A5%E3%80%82%3C/p%3E%3Cp%3E%E9%A6%96%E5%85%88%EF%BC%8C%3Ccode%3Ea1%3C/code%3E%E6%98%AF%E5%8E%9F%E7%94%9F%E7%B1%BB%E5%9E%8B%EF%BC%8C%E6%89%80%E4%BB%A5%E8%BF%99%E7%A7%8D%E7%B1%BB%E5%9E%8B%E5%8F%AF%E4%BB%A5%E9%9A%90%E5%BC%8F%E6%8B%B7%E8%B4%9D%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%98%BE%E5%BC%8F%E5%85%8B%E9%9A%86(clone)%E3%80%82%E6%89%80%E4%BB%A5%E6%AD%A4%E5%A4%84%E4%B8%89%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%90%8C%E6%A0%B7%E7%9A%84%E5%80%BC%EF%BC%8C%E5%B9%B6%E6%89%93%E5%8D%B0%E8%BE%93%E5%87%BA%E3%80%82%3C/p%3E%3Cp%3E%E5%9B%A0%E4%B8%BA%3Ccode%3Ea2%3C/code%3E%E6%98%AF%E4%B8%80%E4%B8%AA%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%EF%BC%8C%E8%BF%99%E7%A7%8D%E7%B1%BB%E5%9E%8B%E5%8F%AF%E4%BB%A5%E5%85%8B%E9%9A%86%EF%BC%8C%E4%BD%86%E4%B8%8D%E8%83%BD%E6%8B%B7%E8%B4%9D%EF%BC%8C%E6%89%80%E4%BB%A5%3Ccode%3Eb2%3C/code%3E%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%3Ccode%3Ea2%3C/code%3E%E6%98%BE%E5%BC%8F%E5%85%8B%E9%9A%86%EF%BC%8C%E5%AF%B9%3Ccode%3Eb2%3C/code%3E%E5%88%B0%3Ccode%3Ec2%3C/code%3E%E7%9A%84%E8%B5%8B%E5%80%BC%E6%98%AF%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%EF%BC%8C%3Ccode%3Eb2%3C/code%3E%E4%B8%8D%E5%8F%AF%E5%86%8D%E8%AE%BF%E9%97%AE%E3%80%82%3C/p%3E%3Cp%3E%E5%AF%B9%E4%BA%8E%3Ccode%3Ea3%3C/code%3E%E8%80%8C%E8%A8%80%EF%BC%8C%E5%AE%83%E6%98%AF%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6handle%EF%BC%8C%E8%BF%99%E7%A7%8D%E7%B1%BB%E5%9E%8B%E4%B8%8D%E8%83%BD%E8%A2%AB%E5%85%8B%E9%9A%86%EF%BC%8C%E5%B0%9D%E8%AF%95%E7%BC%96%E8%AF%91%3Ccode%3Ea3.clone()%3C/code%3E%E4%BC%9A%E5%87%BA%E7%8E%B0%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%AF%B9%3Ccode%3Ea3%3C/code%3E%E5%88%B0%3Ccode%3Ec3%3C/code%3E%E7%9A%84%E8%B5%8B%E5%80%BC%E6%98%AF%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89%EF%BC%8C%E5%AF%B9%E8%B1%A1%E8%A2%AB%E7%A7%BB%E5%8A%A8%E4%BA%86%EF%BC%8C%3Ccode%3Ea3%3C/code%3E%E4%B8%8D%E5%8F%AF%E5%86%8D%E8%AE%BF%E9%97%AE%E3%80%82%3C/p%3E%3Ch2%20id=%22Making-Types-Cloneable-or-Copyable%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Making-Types-Cloneable-or-Copyable%22%3E%C2%B6%3C/a%3EMaking%20Types%20Cloneable%20or%20Copyable%3C/h2%3E%3Cp%3E%E5%89%8D%E9%9D%A2%E8%AF%B4%E8%BF%87%EF%BC%8C%E6%9E%9A%E4%B8%BE%EF%BC%8C%E7%BB%93%E6%9E%84%E4%BD%93%EF%BC%8C%E5%85%83%E7%BB%84-%E7%BB%93%E6%9E%84%E4%BD%93%EF%BC%8C%E9%BB%98%E8%AE%A4%E9%83%BD%E6%B2%A1%E6%9C%89%E5%AE%9E%E7%8E%B0%3Ccode%3ECopy%3C/code%3E%E5%92%8C%3Ccode%3EClone%3C/code%3E%E3%80%82%E5%9B%A0%E6%AD%A4%E5%AE%83%E6%98%AF%E4%B8%8D%E5%8F%AF%E5%85%8B%E9%9A%86%E7%9A%84%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E4%BD%A0%E5%8F%AF%E8%83%BD%E9%9C%80%E8%A6%81%E4%BB%85%E5%AE%9E%E7%8E%B0%3Ccode%3EClone%3C/code%3E%EF%BC%8C%E5%8F%88%E6%88%96%3Ccode%3ECopy%3C/code%3E%E5%92%8C%3Ccode%3EClone%3C/code%3E%E9%83%BD%E9%9C%80%E8%A6%81%E6%9C%89%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E4%BB%A3%E7%A0%81%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es%3C/span%3E%20=%20S%20&amp;#123;&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Es.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E();%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%89%80%E4%BB%A5%E4%BD%A0%E4%BC%9A%E4%B8%BA%E5%85%B6%E5%AE%9E%E7%8E%B0%3Ccode%3EClone%3C/code%3E%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;&amp;#125;%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EClone%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eclone%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20%3Cspan%20class=%22keyword%22%3ESelf%3C/span%3E%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3ESelf%3C/span%3E%20&amp;#123;&amp;#125;%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es%3C/span%3E%20=%20S%20&amp;#123;&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Es.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E();%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E4%BA%9B%E5%AE%9E%E7%8E%B0%E5%86%99%E6%B3%95%EF%BC%8C%E5%9C%A8%E5%89%8D%E9%9D%A2%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E4%BB%8B%E7%BB%8D%E8%BF%87%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E4%B8%BA%E5%85%B6%E5%AE%9E%E7%8E%B0%3Ccode%3Eclone%3C/code%3E%E6%96%B9%E6%B3%95%EF%BC%8C%3C/p%3E%3Cp%3E%E5%8F%A6%E5%A4%96%EF%BC%8C%E5%AE%9E%E7%8E%B0%E7%9A%84%3Ccode%3EClone%3C/code%3E%E6%96%B9%E6%B3%95%EF%BC%8C%E4%B8%8D%E8%83%BD%E9%9A%90%E5%BC%8F%E4%BD%BF%E7%94%A8%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%EF%BC%8C%E6%89%80%E4%BB%A5%E4%B8%8B%E9%9D%A2%E4%BB%A3%E7%A0%81%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EClone%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eclone%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20%3Cspan%20class=%22keyword%22%3ESelf%3C/span%3E%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3ESelf%3C/span%3E%20&amp;#123;&amp;#125;%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es%3C/span%3E%20=%20S%20&amp;#123;&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Es.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_s2%3C/span%3E%20=%20s;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Es;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%89%80%E4%BB%A5%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E5%AE%9E%E7%8E%B0%3Ccode%3ECopy%3C/code%3E%EF%BC%8C%E4%BD%BF%E5%85%B6%E5%90%88%E6%B3%95%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EClone%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eclone%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20%3Cspan%20class=%22keyword%22%3ESelf%3C/span%3E%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3ESelf%3C/span%3E%20&amp;#123;&amp;#125;%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECopy%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es%3C/span%3E%20=%20S%20&amp;#123;&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Es.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_s2%3C/span%3E%20=%20s;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Es;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%BB%E8%A6%81%E5%88%B0%3Ccode%3ECopy%3C/code%3E%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8F%AF%E4%BB%A5%E4%B8%BA%E7%A9%BA%EF%BC%9B%E5%8F%AA%E8%A6%81%E5%A3%B0%E6%98%8E%E4%BA%86%3Ccode%3ECopy%3C/code%3E%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%8C%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E5%B0%B1%E6%BF%80%E6%B4%BB%E4%BA%86%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E5%86%99%E6%B3%95%E5%8D%B4%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECopy%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%9A%E6%8A%B1%E6%80%A8%EF%BC%9A%E2%80%9C%3Ccode%3Ethe%20trait%20bound%20%3C/code%3Emain::S:std::clone::Clone%3Ccode%3E%20is%20not%20satisfied%3C/code%3E%E2%80%9D%E3%80%82%3Ccode%3ECopy%3C/code%3E%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6%E6%98%AF%3Ccode%3EClone%3C/code%3E%E4%B9%9F%E5%AE%9E%E7%8E%B0%E4%BA%86%EF%BC%8C%3C/p%3E%3Cp%3E%E4%BD%86%E4%B8%8B%E9%9D%A2%E5%86%99%E6%B3%95%E4%B9%9F%E6%98%AF%E4%B8%8D%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%20x:%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E&amp;gt;%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECopy%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EClone%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eclone%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20%3Cspan%20class=%22keyword%22%3ESelf%3C/span%3E%20&amp;#123;%20*%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BC%96%E8%AF%91%E4%BA%A7%E7%94%9F%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF%EF%BC%8C%E2%80%9Cthe%20trait%20%3Ccode%3ECopy%3C/code%3E%20may%20not%20be%20implemented%20for%20this%20type%E2%80%9D%E3%80%82%E5%91%8A%E8%AF%89%E4%BD%A0%3Ccode%3EVec&amp;lt;i2&amp;gt;%3C/code%3E%E7%B1%BB%E5%9E%8B%E6%B2%A1%E6%9C%89%E5%AE%9E%E7%8E%B0%3Ccode%3ECopy%3C/code%3E%E3%80%82%3C/p%3E%3Cp%3ERust%E5%85%81%E8%AE%B8%E5%AE%9E%E7%8E%B0%3Ccode%3ECopy%3C/code%3E%EF%BC%8C%E4%BB%85%E8%83%BD%E5%85%81%E8%AE%B8%E5%85%B6%E7%B1%BB%E5%9E%8B%E6%98%AF%E5%8C%85%E5%90%AB%E5%8F%AF%E6%8B%B7%E8%B4%9D%E5%AF%B9%E8%B1%A1%E7%9A%84%EF%BC%8C%E5%9B%A0%E4%B8%BA%E6%8B%B7%E8%B4%9D%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%84%8F%E5%91%B3%E7%9D%80%E4%BC%9A%E6%8B%B7%E8%B4%9D%E5%AE%83%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98(members)%E3%80%82%E8%BF%99%E9%87%8C%EF%BC%8C%3Ccode%3EVec%3C/code%3E%E6%B2%A1%E6%9C%89%E5%AE%9E%E7%8E%B0%3Ccode%3ECopy%3C/code%3E%EF%BC%8C%E6%89%80%E4%BB%A5%3Ccode%3ES%3C/code%3E%E4%B9%9F%E4%B8%8D%E8%83%BD%E5%AE%9E%E7%8E%B0%E6%8B%B7%E8%B4%9D%E8%AF%AD%E4%B9%89%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E4%B8%8B%E9%9D%A2%E4%BB%A3%E7%A0%81%E6%98%AF%E5%90%88%E6%B3%95%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Estruct%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%20x:%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E&amp;gt;%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eimpl%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EClone%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ES%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eclone%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20%3Cspan%20class=%22keyword%22%3ESelf%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ES%20&amp;#123;%20x:%20%3Cspan%20class=%22keyword%22%3Eself%3C/span%3E.x.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E()%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Es1%3C/span%3E%20=%20S%20&amp;#123;%20x:%20%3Cspan%20class=%22built_in%22%3Evec!%3C/span%3E[%3Cspan%20class=%22number%22%3E12%3C/span%3E]%20&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Es2%3C/span%3E%20=%20s1.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eclone%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Es1.x[%3Cspan%20class=%22number%22%3E0%3C/span%3E]%20+=%20%3Cspan%20class=%22number%22%3E1%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20s1.x[%3Cspan%20class=%22number%22%3E0%3C/span%3E],%20s2.x[%3Cspan%20class=%22number%22%3E0%3C/span%3E]);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E5%B0%86%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C13%2012%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E9%87%8C%EF%BC%8C%3Ccode%3ES%3C/code%3E%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%8D%E6%98%AF%E5%8F%AF%E6%8B%B7%E8%B4%9D%E7%9A%84%EF%BC%8C%E4%BD%86%E5%8D%B4%E6%98%AF%E5%8F%AF%E5%85%8B%E9%9A%86%E7%9A%84(clonable)%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E5%AE%9E%E7%8E%B0%E4%BA%86%3Ccode%3EClone%3C/code%3E%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%3Ccode%3Es1%3C/code%3E%E5%8F%AF%E4%BB%A5%E5%AF%B9%3Ccode%3Es2%3C/code%3E%E8%B5%8B%E5%80%BC%E3%80%82%3Ccode%3Es1%3C/code%3E%E8%A2%AB%E4%BF%AE%E6%94%B9%EF%BC%8C%E4%B8%A4%E8%80%85%E8%BE%93%E5%87%BA%E5%86%85%E5%AE%B9%E4%B8%8D%E5%90%8C%E3%80%82%3C/p%3E" type="image"/>
    
    
    <category term="learning" scheme="https://galudisu.info/categories/learning/"/>
    
    
    <category term="rust" scheme="https://galudisu.info/tags/rust/"/>
    
  </entry>
  
  <entry>
    <title>ruståŸºç¡€å…¥é—¨[20] - Standard Library Collections</title>
    <link href="https://galudisu.info/2023/01/20/rust/beginning/chapter20_Standard%20Library%20Collections/"/>
    <id>https://galudisu.info/2023/01/20/rust/beginning/chapter20_Standard%20Library%20Collections/</id>
    <published>2023-01-20T07:50:46.000Z</published>
    <updated>2025-04-27T11:59:08.282Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç« è¦†ç›–æœ‰ï¼š</p><ul><li>å¦‚ä½•åº¦é‡è¿è¡Œéƒ¨åˆ†ä»£ç æ‰€èŠ±è´¹çš„æ—¶é—´</li><li>åŸºäºæ€§èƒ½å› ç´ ï¼Œå¦‚ä½•ä½¿ç”¨å“ªç§ç±»å‹çš„é›†åˆ</li><li>é›†åˆä¸­çš„å„ç§æ“ä½œä¸­å“ªä¸ªæ›´å¥½ï¼šé¡ºåºæ‰«æ(sequential scan)ã€ä¸¤ç«¯æ’å…¥å’Œåˆ é™¤(insertion and removal of items at both ends)ã€åˆ é™¤æœ€å¤§é¡¹(removal of the largest item)ã€æœç´¢(search)ã€é”®æœç´¢(search by key)ã€ä¿æŒé¡ºåº(keeping items sorted)</li></ul><span id="more"></span><h2 id="Collections"><a class="header-anchor" href="#Collections">Â¶</a>Collections</h2><p>æ•°ç»„ã€å‘é‡ã€ç»“æ„ä½“ã€å…ƒç»„ç»“æ„ä½“ã€å…ƒç»„ã€æšä¸¾å±äºæ•°æ®ç±»å‹ï¼Œå®ƒä»¬çš„å¯¹è±¡å¯èƒ½åŒ…å«å‡ ä¸ªå…¶å®ƒå¯¹è±¡ã€‚ç„¶è€Œï¼Œå¯¹äºç»“æ„ä½“ã€å…ƒç»„-ç»“æ„ä½“ã€å…ƒç»„ã€æšä¸¾ï¼Œæ¯ä¸ªåŒ…å«çš„å¯¹è±¡ï¼Œéœ€è¦æŒ‡å®šå£°æ˜ç±»å‹å’Œæ„é€ ç±»å‹ï¼Œå®ƒä»¬ä¸èƒ½å­˜å‚¨å¤šä¸ªå¯¹è±¡ã€‚ç›¸åæ•°ç»„å’Œå‘é‡çš„æ•°æ®ç±»å‹ä¼šåŒ…å«å¤šä¸ªå¯¹è±¡ï¼Œè¿™ä¸€ç±»å¯¹è±¡ç§°ä¸ºâ€œé›†åˆâ€ã€‚</p><p>æ•°ç»„å’Œå‘é‡æ˜¯æœ€ä½³é›†åˆï¼šå†…å­˜é«˜æ•ˆï¼Œè¯»å–é€Ÿåº¦å¿«ï¼ŒCPUç¼“å­˜é«˜æ•ˆï¼Œèƒ½é€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®å†…éƒ¨å…ƒç´ ã€‚å½“ç„¶ï¼Œåœ¨æŸäº›æƒ…å†µä¸å°½æ˜¯é«˜æ•ˆçš„ï¼Œè¿™ç§æƒ…å†µä¸‹éœ€è¦ä½¿ç”¨å…¶å®ƒé›†åˆã€‚Rustæ ‡å‡†åº“æä¾›äº†å„ç§å„æ ·çš„é›†åˆç±»å‹ï¼š<code>VecDeque&lt;T&gt;</code>ã€<code>LinkedList&lt;T&gt;</code>ã€<code>BinaryHeap&lt;T&gt;</code>ã€<code>BTreeSet&lt;T&gt;</code>ã€<code>BTreeMap&lt;K,V&gt;</code>ã€<code>HashSet&lt;T&gt;</code>å’Œ<code>HashMap&lt;K,V&gt;</code>ã€‚</p><p>è¯´åˆ°é›†åˆï¼Œæ•°ç»„æ˜¯ä¸€ä¸ªå•ç‹¬æ¡ˆä¾‹ï¼Œå› ä¸ºå®ƒå®Œå…¨æ˜¯æ ˆåˆ†é…çš„ï¼Œä»¥åŠåœ¨ç¼–è¯‘æœŸå·²ç»å®šä¹‰äº†å¤§å°ã€‚è€Œå¯¹äºå…¶å®ƒé›†åˆï¼ŒåŒ…æ‹¬vectorï¼Œå…ƒç´ ä¸ªæ•°å¯å˜ï¼Œå®ƒå°†headerå­˜å‚¨åœ¨stackï¼Œæ•°æ®éƒ¨åˆ†åˆ™å­˜å‚¨åœ¨å †ã€‚è¿™ç§ç§°ä¸ºâ€œåŠ¨æ€æ•°æ®é›†dynamically-sized collectionsâ€ã€‚</p><h2 id="Measuring-Execution-Time"><a class="header-anchor" href="#Measuring-Execution-Time">Â¶</a>Measuring Execution Time</h2><p>é›†åˆçš„é€‰å–æ›´å¤šåœ°ç”±å®ƒçš„æ€§èƒ½å†³å®šï¼Œå…ˆç»•å¼€è¿™æ–¹é¢å†…å®¹ï¼Œçœ‹çœ‹å¦‚ä½•ç²¾ç¡®åº¦é‡ä¸åŒRustä»£ç æ‰€èŠ±è´¹çš„æ€§èƒ½ã€‚</p><p>å¯¹äºè½¯ä»¶å¼€å‘è€…æ¥è¯´æ€§èƒ½æ˜¯å¾ˆé‡è¦çš„ä¸€æ–¹é¢ã€‚å•ä¸ªå‡½æ•°çš„è¿è¡Œï¼Œé«˜çº§è¯­è¨€éƒ½è¦æ±‚å‘½ä»¤å¤„ç†èŠ±è´¹è‡³æ¯«ç§’å’Œç§’çº§åˆ«ï¼ŒåƒRustè¿™ç±»ä½çº§è¯­è¨€ï¼Œéƒ½è¦æ±‚æ¯«ç§’ç”šè‡³çº³ç§’ã€‚</p><p>åœ¨Rustæ ‡å‡†åº“ä¸­ï¼Œæœ‰å‡ ä¸ªå‡½æ•°å¯ä»¥åº¦é‡æºä»£ç æ¶ˆè€—çš„æ—¶é—´ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::time::Instant;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">elapsed_ms</span>(t1: Instant, t2: Instant) <span class="punctuation">-&gt;</span> <span class="type">f64</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t</span> = t2 - t1;</span><br><span class="line">    t.<span class="title function_ invoke__">as_secs</span>() <span class="keyword">as</span> <span class="type">f64</span> * <span class="number">1000</span>. + t.<span class="title function_ invoke__">subsec_nanos</span>() <span class="keyword">as</span> <span class="type">f64</span> / <span class="number">1e6</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">time0</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..<span class="number">10_000</span> &#123;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">time1</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, <span class="title function_ invoke__">elapsed_ms</span>(time0, time1));</span><br></pre></td></tr></table></figure><p>ç¨‹åºä¼šæ‰“å°0åˆ°9999çš„æ•´æ•°ï¼Œç„¶åå°†æ‰€èŠ±è´¹çš„æ¯«ç§’æ•°è¾“å‡ºã€‚</p><p>æ‰€èŠ±è´¹çš„æ—¶é—´è·Ÿè®¡ç®—æœºèƒ½åŠ›æœ‰å…³ï¼Œå½“ç„¶ä¹Ÿè·Ÿç¼–è¯‘å™¨çš„ä¼˜åŒ–æœ‰å…³ã€‚</p><p>å‰é¢ç« èŠ‚è¯´åˆ°ï¼Œå¯ä»¥ç”¨<code>rustc</code>æ¥ç¼–è¯‘æºä»£ç æ–‡ä»¶ï¼Œä½†æ˜¯è¿™ä¸ªå‘½ä»¤å¹¶æ²¡æœ‰ç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œåªæ˜¯å•çº¯ç”Ÿæˆæœºå™¨ç ç”¨äºè°ƒè¯•ï¼Œå®ƒä¸æ˜¯é«˜æ•ˆçš„ã€‚</p><p>å¦‚æœä½ å¯¹æ€§èƒ½æ„Ÿå…´è¶£ï¼Œå¯ä»¥å¸¦ä¸Šç¼–è¯‘å‚æ•°<code>-O</code>ã€‚çœç•¥è¿™ä¸ªå‚æ•°ï¼Œæ‰€æœ‰ä¼˜åŒ–éƒ½æ˜¯ç¦ç”¨çš„ã€‚</p><p>å› æ­¤ï¼Œè¿™ç« ç¤ºä¾‹å¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤è¡Œç¼–è¯‘ä¼˜åŒ–ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rustc -O main.rs</span><br></pre></td></tr></table></figure><p>è¦åº¦é‡ä¸€ä¸ªæ—¶é—´ï¼Œä½ åº”è¯¥ç”¨<code>Instant</code>ç±»çš„<code>now</code>å‡½æ•°ã€‚è¿™ä¸ªç±»å‹å®šä¹‰åœ¨Rustçš„æ ‡å‡†åº“ä¸­ã€‚</p><h2 id="Performing-Arbitrary-Insertions-and-Removals"><a class="header-anchor" href="#Performing-Arbitrary-Insertions-and-Removals">Â¶</a>Performing Arbitrary Insertions and Removals</h2><p>å›åˆ°åŸæ¥çš„é›†åˆå¤„ç†ã€‚ä¸‹é¢ç¨‹åºæ˜¯éå¸¸é«˜æ•ˆçš„ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SIZE: <span class="type">usize</span> = <span class="number">100_000_000</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t0</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="type">Vec</span>::&lt;<span class="type">usize</span>&gt;::<span class="title function_ invoke__">with_capacity</span>(SIZE);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t1</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123;</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t2</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">_</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123;</span><br><span class="line">v.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t3</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>, <span class="title function_ invoke__">elapsed_ms</span>(t0, t1), <span class="title function_ invoke__">elapsed_ms</span>(t1, t2), <span class="title function_ invoke__">elapsed_ms</span>(t2, t3));</span><br></pre></td></tr></table></figure><p>è®°å¾—æ·»åŠ <code>-O</code>è¿›è¡Œç¼–è¯‘ã€‚</p><p>ç¨‹åºå°†æ‰“å°ä¸‰æ®µæ•°å­—ï¼Œå®ƒæ˜¯ç”±ç¼–è¯‘å™¨ã€æˆ–è€…æœ‰æ“ä½œç³»ç»Ÿæ‰€å†³å®šã€‚</p><p>å‡è®¾ä½ æœ¬æœºè¾“å‡ºçš„æ•°æ®æ˜¯ï¼šâ€œ0.002667 454.516057 87.302678â€ã€‚</p><p>è¿™æ„å‘³ç€åˆ›å»ºä¸€ä¸ªvectorä¸ºè¿™ä¸ª<code>usize</code>å¯¹è±¡åˆ†é…â€œæˆ¿é—´â€ï¼Œå®ƒå 64ä½ç³»ç»Ÿ800Mï¼Œä»¥åŠå°‘äº3æ¯«ç§’çš„æ¶ˆè€—æ—¶é—´ã€‚è¦å°†ä¸€åƒä¸‡çš„å€¼å¡å…¥è¿™ä¸ªç©ºé—´ï¼Œä¸ä½¿ç”¨å†…å­˜æ´¾é£ï¼Œå°‘äº1ç§’çš„æŸè€—æ—¶é—´ï¼ŒåŒæ—¶è¿˜è¦åˆ é™¤æ‰€æœ‰æ•°æ®ï¼ŒèŠ±è´¹1/10ç§’çš„æ—¶é—´ã€‚</p><p>å¦‚æœä¸åŠ <code>-O</code>å‚æ•°ç¼–è¯‘ï¼Œä½ ä¼šå‘ç°å®ƒèŠ±è´¹æ—¶é—´éå¸¸å¤§ã€‚</p><p>ç›¸åï¼Œä¸‹é¢çš„ç¨‹åºéå¸¸ä½æ•ˆï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SIZE: <span class="type">usize</span> = <span class="number">100_000_000</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t0</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="type">Vec</span>::&lt;<span class="type">usize</span>&gt;::<span class="title function_ invoke__">with_capacity</span>(SIZE);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t1</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123;</span><br><span class="line">v.<span class="title function_ invoke__">insert</span>(<span class="number">0</span>, i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t2</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">_</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123;</span><br><span class="line">v.<span class="title function_ invoke__">remove</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t3</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>, <span class="title function_ invoke__">elapsed_ms</span>(t0, t1), <span class="title function_ invoke__">elapsed_ms</span>(t1, t2), <span class="title function_ invoke__">elapsed_ms</span>(t2, t3));</span><br></pre></td></tr></table></figure><p>å®ƒä¼šæ‰“å°ï¼šâ€œ0.00178 2038.879344 2029.447851â€ã€‚</p><p>è¦åˆ›å»ºä¸€ä¸ª800KBçš„vectorï¼ŒèŠ±è´¹å°‘äº2æ¯«ç§’çš„æ—¶é—´ï¼Œä½†æ˜¯æ’å…¥æ•°æ®å´èŠ±è´¹äº†å¤šäº2ç§’çš„æ—¶é—´ï¼Œä»¥åŠå·®ä¸å¤šç­‰åŒçš„æ—¶é—´ç”¨æ¥åˆ é™¤æ•°æ®ã€‚è¿™é‡Œå‘ç°æ’å…¥åŠ¨ä½œï¼Œæ¯”å‰é¢èŠ±è´¹æ›´å¤šçš„æ—¶é—´ã€‚</p><p>å¯¼è‡´ä¸¤è€…çš„å·®å¼‚å¾ˆå¥½è§£æã€‚</p><p>ä»æ ˆé¡¶æ·»åŠ å…ƒç´ ï¼Œåªéœ€è¦ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œç„¶åå°†æ•°æ®æ‹·è´åˆ°ç¼“å†²åŒºï¼Œå¢åŠ å…ƒç´ ä¸ªæ•°ã€‚å¯¹äºè®¡ç®—æœºæ¥è¯´ï¼Œå¤„ç†è¿™äº›æ—¶é—´å°‘äº5çº³ç§’ï¼ŒåŒ…æ‹¬è¿­ä»£å™¨çš„ç§»ä½åŠ¨ä½œã€‚</p><p>åŒæ ·ï¼Œå¯¹äºä»æ ˆé¡¶åˆ é™¤å…ƒç´ ï¼Œç¡®ä¿vectorä¸ä¸ºç©ºï¼Œç„¶åé€’å‡å…ƒç´ ï¼ŒèŠ±è´¹ä¸åˆ°1çº³ç§’çš„æ—¶é—´ã€‚</p><p>ç›¸åï¼Œä»vectorçš„å¼€å§‹éƒ¨åˆ†æ’å…¥å…ƒç´ ï¼Œé¦–å…ˆä½ éœ€è¦å°†åœ°å€è¿›è¡Œè½¬æ¢ï¼Œæ¯æ¬¡æœ‰æ–°çš„å…ƒç´ è¿‡æ¥ï¼Œéƒ½è¦é‡Šæ”¾åœ°å€ç©ºé—´ã€‚è™½ç„¶è½¬æ¢å¾ˆå¿«ï¼Œéšç€å…ƒç´ ä¸ªæ•°çš„å¢åŠ ï¼Œè¦æ’å…¥é¦–ä½ç½®çš„å…ƒç´ ä¹Ÿè¶Šæ¥è¶Šå¤šã€‚</p><p>ç±»ä¼¼çš„ï¼Œè¦ä»é¦–ä½ç½®ç§»é™¤å…ƒç´ ï¼Œéœ€è¦å°†æ‰€æœ‰å…ƒç´ éƒ½è½¬æ¢ä¸€éï¼Œä¸ä»…ä»…æ˜¯é¦–ä½ç½®ï¼Œ</p><p>ä»è®¡ç®—å¤æ‚åº¦è¡¨ç¤ºï¼Œæ ˆé¡¶(å°¾éƒ¨)æ’å…¥æˆ–åˆ é™¤å…ƒç´ æ˜¯<code>O(K)</code>å¤æ‚åº¦ï¼Œå®ƒæ˜¯å¸¸é‡å¤æ‚åº¦(constant complexity)ï¼›è€Œå¯¹äºä»æ ˆå°¾(é¦–éƒ¨)æ’å…¥æˆ–åˆ é™¤å…ƒç´ æ˜¯<code>O(N)</code>å¤æ‚åº¦ï¼Œå®ƒæ˜¯çº¿æ€§å¤æ‚åº¦(linear complexity)ã€‚</p><p>å³ä½¿æ˜¯åœ¨ä¸­é—´éƒ¨åˆ†æ’å…¥æˆ–åˆ é™¤æ•°æ®ï¼Œæ€§èƒ½å¯èƒ½ä¼šç¨å¾®å¥½ä¸€ç‚¹ï¼Œä½†ä»ç„¶æ¯”åœ¨æ ˆé¡¶æ’å…¥æˆ–åˆ é™¤æ•°æ®è¦æ…¢ã€‚</p><h2 id="Queues"><a class="header-anchor" href="#Queues">Â¶</a>Queues</h2><p>å¦‚æœæ˜¯åœ¨é¦–éƒ¨å’Œå°¾éƒ¨åŒæ—¶æœ‰æ’å…¥æˆ–åˆ é™¤åŠ¨ä½œï¼Œè¿™ä¸ªvectorä¸ä¼šæ˜¯ä¸€ä¸ªä¼˜åŒ–é›†åˆã€‚å…¸å‹æƒ…å†µç±»ä¼¼äºQueueï¼Œå®ƒåœ¨å°¾éƒ¨æ’å…¥å…ƒç´ ï¼Œåœ¨é¦–éƒ¨èƒå–å…ƒç´ ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SIZE: <span class="type">usize</span> = <span class="number">40_000</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t0</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="type">Vec</span>::&lt;<span class="type">usize</span>&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123;</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(i);</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(SIZE + i);</span><br><span class="line">v.<span class="title function_ invoke__">remove</span>(<span class="number">0</span>);</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(SIZE * <span class="number">2</span> + i);</span><br><span class="line">v.<span class="title function_ invoke__">remove</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t1</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">while</span> v.<span class="title function_ invoke__">len</span>() &gt; <span class="number">0</span> &#123;</span><br><span class="line">v.<span class="title function_ invoke__">remove</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t2</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>, <span class="title function_ invoke__">elapsed_ms</span>(t0, t1), <span class="title function_ invoke__">elapsed_ms</span>(t1, t2));</span><br></pre></td></tr></table></figure><p>å¯èƒ½çš„è¾“å‡ºä¼šæ˜¯ï¼šâ€œ561.189636 276.056133â€ã€‚</p><p>ä»£ç ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ªç©ºçš„vectorï¼Œç”¨äº†4åƒæ¬¡å¾ªç¯ï¼Œå°†ä¸‰ä¸ªæ•°æ’å…¥æ ˆé¡¶ï¼Œä»¥åŠåœ¨æ ˆé¡¶åˆ é™¤ä¸¤ä¸ªå…ƒç´ ã€‚ç¬¬äºŒä¸ªå¾ªç¯ä½“å†…ï¼Œæ¯æ¬¡ä»æ ˆé¡¶åˆ é™¤å…ƒç´ ã€‚ç¬¬ä¸€ä¸ªå¾ªç¯ç‰‡æ®µèŠ±è´¹äº†å¤§çº¦åŠç§’çš„æ—¶é—´ï¼Œç¬¬äºŒä¸ªå¾ªç¯ä½“èŠ±è´¹äº†å¤§çº¦å››åˆ†ä¹‹ä¸€ç§’ã€‚å®é™…ä¸Šï¼Œå¤§éƒ¨åˆ†æ—¶é—´éƒ½ç”¨åœ¨äº†èƒå–å…ƒç´ ä¸Šï¼Œæ’å…¥å…¶å®æ˜¯éå¸¸å¿«çš„ã€‚</p><p>æˆ‘ä»¬å¸Œæœ›æ’å…¥å…ƒç´ æ€»æ˜¯å‘ç”Ÿåœ¨æ ˆå°¾ï¼Œèƒå–(extract)å…ƒç´ æ€»æ˜¯åœ¨æ ˆé¡¶ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SIZE: <span class="type">usize</span> = <span class="number">40_000</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t0</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="type">Vec</span>::&lt;<span class="type">usize</span>&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123;</span><br><span class="line">v.<span class="title function_ invoke__">insert</span>(<span class="number">0</span>, i);</span><br><span class="line">v.<span class="title function_ invoke__">insert</span>(<span class="number">0</span>, SIZE + i);</span><br><span class="line">v.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">v.<span class="title function_ invoke__">insert</span>(<span class="number">0</span>, SIZE * <span class="number">2</span> + i);</span><br><span class="line">v.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t1</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">while</span> v.<span class="title function_ invoke__">len</span>() &gt; <span class="number">0</span> &#123;</span><br><span class="line">v.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t2</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>, <span class="title function_ invoke__">elapsed_ms</span>(t0, t1), <span class="title function_ invoke__">elapsed_ms</span>(t1, t2));</span><br></pre></td></tr></table></figure><p>ç»“æœå¯èƒ½æ‰“å°ï¼šâ€œ790.365012 0.000112â€ã€‚</p><p>ç°åœ¨æ’å…¥å¾ˆæ…¢ï¼Œåˆ é™¤å´å¾ˆå¿«ã€‚å¯æ˜¯æ€»å…±èŠ±è´¹çš„æ—¶é—´å¹¶æ²¡æœ‰æå‡å¤šå°‘ã€‚æˆ‘ä»¬å°è¯•ç”¨<code>VecDeque</code>ç±»å‹ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SIZE: <span class="type">usize</span> = <span class="number">40_000</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t0</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = std::collections::VecDeque::&lt;<span class="type">usize</span>&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123;</span><br><span class="line">v.<span class="title function_ invoke__">insert</span>(<span class="number">0</span>, i);</span><br><span class="line">v.<span class="title function_ invoke__">insert</span>(<span class="number">0</span>, SIZE + i);</span><br><span class="line">v.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">v.<span class="title function_ invoke__">insert</span>(<span class="number">0</span>, SIZE * <span class="number">2</span> + i);</span><br><span class="line">v.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t1</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">while</span> v.<span class="title function_ invoke__">len</span>() &gt; <span class="number">0</span> &#123;</span><br><span class="line">v.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t2</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>, <span class="title function_ invoke__">elapsed_ms</span>(t0, t1), <span class="title function_ invoke__">elapsed_ms</span>(t1, t2));</span><br></pre></td></tr></table></figure><p>ç»“æœæ‰“å°ï¼šâ€œ0.40793 0.050257â€ã€‚</p><p>æ•´æ®µç¨‹åºèŠ±è´¹ä¸åˆ°åŠæ¯«ç§’çš„æ—¶é—´ï¼Œè¿™é‡Œéœ€è¦æ˜¾å¼å£°æ˜<code>VecDeque</code>çš„ç±»å‹ï¼Œå®ƒæ˜¯â€œvector-like double-ended queueâ€çš„ç¼©å†™ï¼Œâ€œqueueâ€è¡¨ç¤ºçš„æ˜¯â€œsequential collection into which items are inserted at one end and from which items are extracted at the other endâ€ã€‚â€œdouble-endedâ€è¡¨ç¤ºåœ¨å°¾éƒ¨æ’å…¥å…ƒç´ ï¼Œä¹Ÿå¯ä»¥åœ¨å°¾éƒ¨èƒå–å…ƒç´ ï¼Œä¸å¸¦æœ‰penaltyã€‚â€œvector-likeâ€è¡¨ç¤ºå…·æœ‰vectorç›¸ä¼¼çš„æ“ä½œã€‚</p><p>è¦åœ¨vectoræ ˆé¡¶æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ï¼Œå¯ä»¥ç®€å•ä½¿ç”¨<code>push</code>å’Œ<code>pop</code>ï¼Œè€Œå¯¹äº<code>åŒç«¯é˜Ÿåˆ—ï¼Œdouble-ended queue</code>ï¼Œéœ€è¦ç†è§£ä¸¤ç«¯çš„å®ç°æ˜¯ç­‰æ•ˆçš„ï¼Œæ’å…¥å…ƒç´ å¯ä»¥ç”¨<code>push_front</code>å’Œ<code>push_back</code>ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸¤ç«¯ç”¨<code>pop_front</code>å’Œ<code>pop_back</code>åˆ é™¤å…ƒç´ ã€‚è™½ç„¶<code>VecDeque</code>ç±»å‹æ”¯æŒ<code>insert</code>å’Œ<code>remove</code>å‡½æ•°ï¼Œä½†ä¸è¢«æ¨èä½¿ç”¨ï¼Œå› ä¸ºå®ƒä¸æ˜¯é«˜æ•ˆçš„ã€‚</p><p>ç»™å‡ºçš„é˜Ÿåˆ—éå¸¸é«˜æ•ˆï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬æ€»æ˜¯ç”¨å®ƒï¼Œè€Œæ˜¯é€‰æ‹©ç”¨vectorï¼Ÿ</p><p>åŸå› æ˜¯vectoræ›´æ™®éçš„æ“ä½œæ˜¯è¿­ä»£ã€å…ƒç´ è®¿é—®ï¼Œè¿™ç§æ—¶é—´æŸè€—ä¸€ç›´ä¿æŒä¸ºå¸¸é‡å› ç´ ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SIZE: <span class="type">usize</span> = <span class="number">40_000</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="type">Vec</span>::&lt;<span class="type">usize</span>&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">vd</span> = std::collections::VecDeque::&lt;<span class="type">usize</span>&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t0</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123;</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t1</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123;</span><br><span class="line">vd.<span class="title function_ invoke__">push_back</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">count</span> = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="number">2</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> v.<span class="title function_ invoke__">iter</span>() &#123;</span><br><span class="line">count += i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t3</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> vd.<span class="title function_ invoke__">iter</span>() &#123;</span><br><span class="line">count += i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">t4</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>, count,</span><br><span class="line"><span class="title function_ invoke__">elapsed_ms</span>(t0, t1), <span class="title function_ invoke__">elapsed_ms</span>(t1, t2),</span><br><span class="line"><span class="title function_ invoke__">elapsed_ms</span>(t2, t3), <span class="title function_ invoke__">elapsed_ms</span>(t3, t4));</span><br></pre></td></tr></table></figure><p>å¯èƒ½æ‰“å°ï¼šâ€œ1599960000 0.230073 0.203979 0.013144 0.035295â€ã€‚</p><p>ä¼šå‘ç°ï¼Œ<code>Vec</code>å’Œ<code>VecDeque</code>å‡ ä¹èŠ±è´¹ç›¸å½“çš„æ—¶é—´ï¼Œä½†å¯¹äºæ‰«ææ•´ä¸ªé›†åˆå…ƒç´ ï¼Œ<code>Vec</code>æ•ˆç‡è¦é«˜å‡ºä¸¤å€ã€‚</p><h2 id="Linked-Lists"><a class="header-anchor" href="#Linked-Lists">Â¶</a>Linked Lists</h2><p>å¯¹äºæŸäº›åº”ç”¨ï¼Œå¯èƒ½ä¼šé¢‘ç¹åœ°åœ¨ä¸­é—´ä½ç½®æ’å…¥æˆ–åˆ é™¤å…ƒç´ ã€‚è¿™ç§æƒ…å†µï¼Œå‘é‡(vector)å’Œå¯¹è±¡(queue)ä¸æ˜¯é«˜æ•ˆçš„ï¼Œæ‰€ä»¥éœ€è¦å¼•å…¥æ–°çš„é›†åˆç±»å‹â€”â€”<code>LinkedList</code>ã€‚</p><p>ç„¶è€Œï¼Œå¦‚æœä½ éœ€è¦åœ¨ä¸€ä¸ªé›†åˆè¿›è¡Œå¤§é‡æ“ä½œï¼Œè­¬å¦‚æ·»åŠ æˆ–åˆ é™¤å¾ˆå¤šä¸ªæ¡ç›®ï¼Œä¼šæ¯”<code>Vec</code>æˆ–<code>VecDeque</code>è¦å¿«å¾ˆå¤šï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ä¸´æ—¶é›†åˆï¼Œå¹¶ç”±ä¸´æ—¶é›†åˆæ›¿æ¢åŸæ¥çš„é›†åˆã€‚</p><p><code>LinkedList</code>çš„ä½¿ç”¨ï¼Œä¸åº”è¯¥ç”¨äºé‚£äº›éœ€è¦é¢‘ç¹è¯»å–çš„ä½ç½®åšæ’å…¥æˆ–åˆ é™¤æ“ä½œã€‚</p><h2 id="Binary-Heaps"><a class="header-anchor" href="#Binary-Heaps">Â¶</a>Binary Heaps</h2><p>è®¿é—®é›†åˆè¿˜æœ‰å¦å¤–ä¸€ç§æ–¹å¼ï¼Œå³æ‰€è°“çš„â€œä¼˜å…ˆé˜Ÿåˆ—â€ã€‚å®ƒå‡ºç°åœ¨ä»…æœ‰ä¸¤ä¸ªå‡½æ•°çš„åœ°æ–¹ï¼šæ’å…¥å…ƒç´ å’Œèƒå–å…ƒç´ ã€‚ä½†æ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¼˜å…ˆå€¼ï¼Œèƒå–(extract)å…ƒç´ éœ€è¦æ ¹æ®ä¼˜å…ˆçº§è·å–ã€‚ä½¿ç”¨Vectoræ—¶ï¼Œå¯ä»¥ç±»ä¼¼ä¸‹é¢è¿™ç§æ–¹å¼åŒ…å«è¿™ç§è¡Œä¸ºï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">add</span>(v: &amp;<span class="keyword">mut</span> <span class="type">Vec</span>&lt;<span class="type">i32</span>&gt;, a: <span class="type">i32</span>) &#123;</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(a);</span><br><span class="line">v.<span class="title function_ invoke__">sort</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">48</span>, <span class="number">18</span>, <span class="number">20</span>, <span class="number">35</span>, <span class="number">17</span>, <span class="number">13</span>, <span class="number">39</span>, <span class="number">12</span>, <span class="number">42</span>, <span class="number">33</span>, <span class="number">29</span>, <span class="number">27</span>, <span class="number">50</span>, <span class="number">16</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="type">Vec</span>::&lt;<span class="type">i32</span>&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..a.<span class="title function_ invoke__">len</span>() / <span class="number">2</span> &#123;</span><br><span class="line"><span class="title function_ invoke__">add</span>(&amp;<span class="keyword">mut</span> v, a[i * <span class="number">2</span>]);</span><br><span class="line"><span class="title function_ invoke__">add</span>(&amp;<span class="keyword">mut</span> v, a[i * <span class="number">2</span> + <span class="number">1</span>]);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &quot;</span>, v.<span class="title function_ invoke__">pop</span>().<span class="title function_ invoke__">unwrap</span>());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> ! v.<span class="title function_ invoke__">is_empty</span>() &#123;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &quot;</span>, v.<span class="title function_ invoke__">pop</span>().<span class="title function_ invoke__">unwrap</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯æ¬¡å°†æ•°ç»„å…ƒç´ æ·»åŠ åˆ°vectoræ—¶ï¼Œvectoréƒ½è¿›è¡Œä¸€æ¬¡æ’åºï¼Œå®ƒçš„å…ƒç´ ä¿æŒå‡é˜¶çš„é¡ºåºã€‚æ‰€ä»¥vectorçš„å€¼çš„èƒå–ä¹Ÿæ€»å¯ä»¥å¾—åˆ°æœ€å¤§å€¼ã€‚</p><p>ä¸‹é¢æ˜¯å¦ä¸€ç§ç­‰ä»·å®ç°ï¼Œåªä¸è¿‡æ˜¯åœ¨èƒå–å‰è¿›è¡Œæ’åºï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">extract</span>(v: &amp;<span class="keyword">mut</span> <span class="type">Vec</span>&lt;<span class="type">i32</span>&gt;) <span class="punctuation">-&gt;</span> OPtion&lt;<span class="type">i32</span>&gt; &#123;</span><br><span class="line">v.<span class="title function_ invoke__">sort</span>();</span><br><span class="line">v.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">48</span>, <span class="number">18</span>, <span class="number">20</span>, <span class="number">35</span>, <span class="number">17</span>, <span class="number">13</span>, <span class="number">39</span>, <span class="number">12</span>, <span class="number">42</span>, <span class="number">33</span>, <span class="number">29</span>, <span class="number">27</span>, <span class="number">50</span>, <span class="number">16</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="type">Vec</span>::&lt;<span class="type">i32</span>&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..a.<span class="title function_ invoke__">len</span>() / <span class="number">2</span> &#123;</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(a[i * <span class="number">2</span>]);</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(a[i * <span class="number">2</span> + <span class="number">1</span>]);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &quot;</span>, <span class="title function_ invoke__">extract</span>(&amp;<span class="keyword">mut</span> v).<span class="title function_ invoke__">unwrap</span>());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> ! v.<span class="title function_ invoke__">is_empty</span>() &#123;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &quot;</span>, <span class="title function_ invoke__">extract</span>(&amp;<span class="keyword">mut</span> v).<span class="title function_ invoke__">unwrap</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªä»£ç éƒ½æœ‰ä¸å¥½ä¹‹å¤„åœ¨äºé¢‘ç¹è°ƒç”¨äº†<code>sort</code>å‡½æ•°ï¼Œå®ƒæœ‰è¾ƒå¤§æ¶ˆè€—ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç­‰ä»·å®ç°ï¼Œå¹¶ä¸”æ›´å¿«ï¼Œ</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">48</span>, <span class="number">18</span>, <span class="number">20</span>, <span class="number">35</span>, <span class="number">17</span>, <span class="number">13</span>, <span class="number">39</span>, <span class="number">12</span>, <span class="number">42</span>, <span class="number">33</span>, <span class="number">29</span>, <span class="number">27</span>, <span class="number">50</span>, <span class="number">16</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = std::collections::BinaryHeap::&lt;<span class="type">i32</span>&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..a.<span class="title function_ invoke__">len</span>() / <span class="number">2</span> &#123;</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(a[i * <span class="number">2</span>]);</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(a[i * <span class="number">2</span> + <span class="number">1</span>]);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &quot;</span>, v.<span class="title function_ invoke__">pop</span>().<span class="title function_ invoke__">unwrap</span>());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> ! v.<span class="title function_ invoke__">is_empty</span>() &#123;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125; &quot;</span>, v.<span class="title function_ invoke__">pop</span>().<span class="title function_ invoke__">unwrap</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„äºŒå‰å †(binary heap)ç±»ä¼¼vectorä¸€æ ·ï¼Œå¯ä»¥è°ƒç”¨<code>push</code>å’Œ<code>pop</code>å‡½æ•°ï¼Œä¸åŒçš„æ˜¯ï¼ŒäºŒå‰å †çš„<code>pop</code>å‡½æ•°èƒå–çš„æ˜¯å®¹å™¨ä¸­æœ€å¤§çš„å€¼ã€‚</p><h2 id="Ordered-Sets-and-Unordered-Sets"><a class="header-anchor" href="#Ordered-Sets-and-Unordered-Sets">Â¶</a>Ordered Sets and Unordered Sets</h2><p>é›†åˆæ¦‚å¿µä¸­çš„Setæ˜¯ä¸€ç§ä¸åŒ…å«é‡å¤å…ƒç´ çš„æ¦‚å¿µï¼Œå­˜å‚¨è¿™ä¸ªå…ƒç´ çš„ä¸€ä¸ªé«˜æ•ˆå®ç°æ˜¯â€œhashtableâ€ï¼Œå¯¹åº”é›†åˆç±»å‹çš„<code>HashSet</code>ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">arr</span> = [<span class="number">6</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="type">Vec</span>::&lt;_&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">hs</span> = std::collections::HashSet::&lt;_&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">bs</span> = std::collections::BTreeSet::&lt;_&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> arr.<span class="title function_ invoke__">iter</span>() &#123;</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(i);</span><br><span class="line">hs.<span class="title function_ invoke__">insert</span>(i);</span><br><span class="line">bs.<span class="title function_ invoke__">insert</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;Vec:&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> v.<span class="title function_ invoke__">iter</span>() &#123; <span class="built_in">print!</span>(<span class="string">&quot; &#123;&#125;&quot;</span>, i); &#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;. &#123;:?&#125;, v);</span></span><br><span class="line"><span class="string">print!(&quot;</span>HashSet :<span class="string">&quot;);</span></span><br><span class="line"><span class="string">for i in hs.iter() &#123; print!(&quot;</span> &#123;&#125;<span class="string">&quot;, i); &#125;</span></span><br><span class="line"><span class="string">println!(&quot;</span>. &#123;:?&#125;, hs);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;BTreeSet:&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> bs.<span class="title function_ invoke__">iter</span>() &#123; <span class="built_in">print!</span>(<span class="string">&quot; &#123;&#125;&quot;</span>, i); &#125;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;. &#123;:?&#125;&quot;</span>, bs);</span><br></pre></td></tr></table></figure><p>ä¼šæ‰“å°ï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vec: 6 8 2 8 4 9 6 1 8 0. [6, 8, 2, 8, 4, 9, 6, 1, 8, 0]</span><br><span class="line">HashSet : 8 2 9 6 4 0 1. &#123;8, 2, 9, 6, 4, 0, 1&#125;</span><br><span class="line">BTreeSet: 0 1 2 4 6 8 9. &#123;0, 1, 2, 4, 6, 8, 9&#125;</span><br></pre></td></tr></table></figure><p><code>Vec v</code>é›†åˆåŒ…å«æ‰€æœ‰æ’å…¥å…ƒç´ ï¼Œä¿ç•™æ’å…¥é¡ºåºï¼›<code>Hashset hs</code>é›†åˆä¸åŒ…å«é‡å¤å…ƒç´ ï¼›<code>BTreeSet bs</code>è¿›è¡Œäº†æ’å…¥æ’åºã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">elapsed_ms</span>(t1: Instant, t2: Instant) <span class="punctuation">-&gt;</span> <span class="type">f64</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t</span> = t2 - t1;</span><br><span class="line">    t.<span class="title function_ invoke__">as_secs</span>() <span class="keyword">as</span> <span class="type">f64</span> * <span class="number">1000</span>. + t.<span class="title function_ invoke__">subsec_nanos</span>() <span class="keyword">as</span> <span class="type">f64</span> / <span class="number">1e6</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> SIZE: <span class="type">i32</span> = <span class="number">40_000</span>;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">ns_per_op</span>(t1: Instant, t2: Instant) <span class="punctuation">-&gt;</span> <span class="type">f64</span> &#123;</span><br><span class="line">    <span class="title function_ invoke__">elapsed_ms</span>(t1, t2) / SIZE <span class="keyword">as</span> <span class="type">f64</span> * <span class="number">1_000_000</span>.</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="type">Vec</span>::&lt;_&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">hs</span> = std::collections::HashSet::&lt;_&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">bs</span> = std::collections::BTreeSet::&lt;_&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t0</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line">    <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123; v.<span class="title function_ invoke__">push</span>(i); &#125;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t1</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line">    <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123; hs.<span class="title function_ invoke__">insert</span>(i); &#125;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t2</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line">    <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123; bs.<span class="title function_ invoke__">insert</span>(i); &#125;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t3</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line">    <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123; <span class="keyword">if</span> ! v.<span class="title function_ invoke__">contains</span>(&amp;i) &#123; <span class="keyword">return</span>; &#125; &#125;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t4</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line">    v.<span class="title function_ invoke__">swap</span>(<span class="number">10_000</span>, <span class="number">20_000</span>);</span><br><span class="line">    v.<span class="title function_ invoke__">sort</span>();</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t5</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line">    <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123;</span><br><span class="line">        <span class="keyword">if</span> v.<span class="title function_ invoke__">binary_search</span>(&amp;i).<span class="title function_ invoke__">is_err</span>() &#123; <span class="keyword">return</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t6</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line">    <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123; <span class="keyword">if</span> ! hs.<span class="title function_ invoke__">contains</span>(&amp;i) &#123; <span class="keyword">return</span>; &#125; &#125;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t7</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line">    <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..SIZE &#123; <span class="keyword">if</span> ! bs.<span class="title function_ invoke__">contains</span>(&amp;i) &#123; <span class="keyword">return</span>; &#125; &#125;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t8</span> = Instant::<span class="title function_ invoke__">now</span>();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Pushes in Vec: &#123;&#125;&quot;</span>, <span class="title function_ invoke__">ns_per_op</span>(t0, t1));</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Insertions in HashSet: &#123;&#125;&quot;</span>, <span class="title function_ invoke__">ns_per_op</span>(t1, t2));</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Insertions in BTreeSet: &#123;&#125;&quot;</span>, <span class="title function_ invoke__">ns_per_op</span>(t2, t3));</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Linear search in Vec: &#123;&#125;&quot;</span>, <span class="title function_ invoke__">ns_per_op</span>(t3, t4));</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Sort of Vec: &#123;&#125;&quot;</span>, <span class="title function_ invoke__">ns_per_op</span>(t4, t5));</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Binary search in Vec: &#123;&#125;&quot;</span>, <span class="title function_ invoke__">ns_per_op</span>(t5, t6));</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Search in HashSet: &#123;&#125;&quot;</span>, <span class="title function_ invoke__">ns_per_op</span>(t6, t7));</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Search in BTreeSet: &#123;&#125;&quot;</span>, <span class="title function_ invoke__">ns_per_op</span>(t7, t8));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†ä¼šæ‰“å°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Pushes in Vec: 6.4021</span><br><span class="line">Insertions in HashSet: 139.214</span><br><span class="line">Insertions in BTreeSet: 127.3047</span><br><span class="line">Linear search in Vec: 17389.3111</span><br><span class="line">Sort of Vec: 3.1132</span><br><span class="line">Binary search in Vec: 47.7641</span><br><span class="line">Search in HashSet: 36.5041</span><br><span class="line">Search in BTreeSet: 56.2444</span><br></pre></td></tr></table></figure><p>æ ˆé¡¶æ’å…¥å…ƒç´ ï¼ŒèŠ±è´¹6çº³ç§’ï¼Œ<code>HashSet</code>å’Œ<code>BTreeSet</code>æ’å…¥å…ƒç´ ï¼ŒèŠ±è´¹æ¥è¿‘20å€ã€‚</p><p>çº¿æ€§æ–¹å¼æœç´¢vectorï¼ŒèŠ±è´¹æ—¶é—´éå¸¸å¤§ï¼Œæ”¹ä¸ºäºŒåˆ†æŸ¥æ‰¾ç®—æ³•åï¼Œå¹³å‡åœ¨50çº³ç§’çš„æ—¶é—´ã€‚æ‰€ä»¥ï¼Œå¦‚æœæ’å…¥æ¯”æŸ¥æ‰¾å°‘çš„æƒ…å†µï¼Œæ¯æ¬¡æ’å…¥å…ƒç´ ä¹‹åè¿›è¡Œæ’åºï¼Œå†ç”¨äºŒåˆ†æŸ¥æ‰¾ä¼šæ›´åŠ é«˜æ•ˆã€‚</p><p><code>HashSet</code>çš„æŸ¥æ‰¾èŠ±è´¹40çº³ç§’å·¦å³ï¼›<code>BTreeSet</code>çš„æŸ¥æ‰¾èŠ±è´¹æ¥è¿‘60çº³ç§’å·¦å³ã€‚</p><p>ä¼˜åŒ–æ•°æ®ç»“æ„çš„åŸåˆ™æ˜¯ï¼Œ</p><p>é¦–å…ˆå£°æ˜ä¸€ä¸ªtraitï¼Œå®ƒåŒ…å«æœ‰è¯¥æ•°æ®ç»“æ„çš„æ–¹æ³•ç­¾åï¼Œæ¥ç€å®ç°è¿™ä¸ªtraitï¼Œå†æµ‹è¯•è¿™ä¸ªtraitçš„å®ç°æ–¹æ³•çš„æ€§èƒ½ï¼Œå¦‚æœæ€§èƒ½å¤ªä½ã€‚é‡æ„ä»£ç è¿›è¡Œä¼˜åŒ–ï¼ŒçŸ¥é“æ»¡æ„çš„å®ç°ã€‚</p><h2 id="Ordered-Dictionaries-and-Unordered-Dictionaries"><a class="header-anchor" href="#Ordered-Dictionaries-and-Unordered-Dictionaries">Â¶</a>Ordered Dictionaries and Unordered Dictionaries</h2><p>é›†åˆå¤„ç†ç®€å•çš„å­˜å‚¨ã€è®¿é—®ä½¿ç”¨å¤–ï¼Œå¦ä¸€ç§å¸¸è§ç”¨æ³•æ˜¯â€œå­—å…¸â€ï¼Œå³ç”±â€œkeyâ€è¿›è¡Œè®¿é—®ã€‚</p><p>å­—å…¸å¯ä»¥çœ‹åšæ˜¯key-valueå¯¹ï¼Œå®ƒçš„å¤„ç†ç”±keyå†³å®šã€‚æ‰€ä»¥ï¼Œå­—å…¸ä¸èƒ½æœ‰ä¸¤ä¸ªç›¸åŒçš„keyã€‚</p><p>Rustæ ‡å‡†åº“ä¸­æä¾›äº†<code>HashMap</code>å’Œ<code>BTreeMap</code>çš„ç®—æ³•å®ç°ï¼Œç±»åŒäº<code>HashSet</code>ï¼Œ<code>HashMap</code>ä¸è¿›è¡Œæ’åºï¼Œä½†é€Ÿåº¦è¾ƒå¿«ï¼›<code>BTreeMap</code>è¾ƒæ…¢ï¼Œä½†æŒ‰é¡ºåºå­˜å‚¨ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">arr</span> = [(<span class="number">640</span>, <span class="string">&#x27;T&#x27;</span>), (<span class="number">917</span>, <span class="string">&#x27;C&#x27;</span>), (<span class="number">412</span>, <span class="string">&#x27;S&#x27;</span>), (<span class="number">670</span>, <span class="string">&#x27;T&#x27;</span>), (<span class="number">917</span>, <span class="string">&#x27;L&#x27;</span>)];</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="type">Vec</span>::&lt;_&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">hs</span> = std::collections::HashMap::&lt;_, _&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">bs</span> = std::collections::BTreeMap::&lt;_, _&gt;::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">for</span> &amp;(key, value) <span class="keyword">in</span> arr.<span class="title function_ invoke__">iter</span>() &#123;</span><br><span class="line">v.<span class="title function_ invoke__">push</span>((key, value));</span><br><span class="line">hs.<span class="title function_ invoke__">insert</span>(key, value);</span><br><span class="line">bs.<span class="title function_ invoke__">insert</span>(key, value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;Vec:&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> &amp;(key, value) <span class="keyword">in</span> v.<span class="title function_ invoke__">iter</span>() &#123;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot; &#123;&#125;: &#123;&#125;,&quot;</span>, key, value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;\n &#123;:?&#125;&quot;</span>, v);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;HashMap:&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (key, value) <span class="keyword">in</span> hs.<span class="title function_ invoke__">iter</span>() &#123;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot; &#123;&#125;: &#123;&#125;,&quot;</span>, key, value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;\n &#123;:?&#125;&quot;</span>, hs);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;BTreeMap:&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (key, value) <span class="keyword">in</span> bs.<span class="title function_ invoke__">iter</span>() &#123;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot; &#123;&#125;: &#123;&#125;,&quot;</span>, key, value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;\n &#123;:?&#125;&quot;</span>, bs);</span><br></pre></td></tr></table></figure><p>ç»“æœæ‰“å°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Vec: 640: T, 917: C, 412: S, 670: T, 917: L,</span><br><span class="line"> [(640, &#x27;T&#x27;), (917, &#x27;C&#x27;), (412, &#x27;S&#x27;), (670, &#x27;T&#x27;), (917, &#x27;L&#x27;)]</span><br><span class="line">HashMap: 640: T, 412: S, 917: L, 670: T,</span><br><span class="line"> &#123;640: &#x27;T&#x27;, 412: &#x27;S&#x27;, 917: &#x27;L&#x27;, 670: &#x27;T&#x27;&#125;</span><br><span class="line">BTreeMap: 412: S, 640: T, 670: T, 917: L,</span><br><span class="line"> &#123;412: &#x27;S&#x27;, 640: &#x27;T&#x27;, 670: &#x27;T&#x27;, 917: &#x27;L&#x27;&#125;</span><br></pre></td></tr></table></figure><p>å­—å…¸ä¸­ä¸å…è®¸é‡å¤çš„keyï¼Œä½†å…è®¸é‡å¤çš„valueï¼Œä»¥åŠ<code>BTreeMap</code>æŒ‰ç…§keyé¡ºåºæ’åˆ—ï¼Œè€Œ<code>HashMap</code>é¡ºåºéšæœºã€‚</p><p>å®ƒä»¬çš„æ€§èƒ½ç±»ä¼¼äº<code>HashSet</code>å’Œ<code>BTreeSet</code>ã€‚</p><h2 id="Collections-in-C-and-in-Rust"><a class="header-anchor" href="#Collections-in-C-and-in-Rust">Â¶</a>Collections in C++ and in Rust</h2><p>C++æ ‡å‡†åº“ä¸­å¯¹åº”Rusté›†åˆåˆ—è¡¨å¦‚ä¸‹ï¼ŒæŸäº›é›†åˆåº“åœ¨Rustä¸­å¹¶æ²¡æœ‰å¯¹åº”ï¼Œç”¨<code>~</code>æ ‡è®°è¡¨ç¤ºæœ€ç›¸ä¼¼çš„é›†åˆï¼Œ</p><table><thead><tr><th style="text-align:left">C++</th><th style="text-align:left">Rust</th></tr></thead><tbody><tr><td style="text-align:left"><code>array&lt;T&gt;</code></td><td style="text-align:left"><code>[T]</code></td></tr><tr><td style="text-align:left"><code>vector&lt;T&gt;</code></td><td style="text-align:left"><code>Vec&lt;T&gt;</code></td></tr><tr><td style="text-align:left"><code>deque&lt;T&gt;</code></td><td style="text-align:left"><code>VecDeque&lt;T&gt;</code></td></tr><tr><td style="text-align:left"><code>forward_list&lt;T&gt;</code></td><td style="text-align:left"><code>~ LinkedList&lt;T&gt;</code></td></tr><tr><td style="text-align:left"><code>list&lt;T&gt;</code></td><td style="text-align:left"><code>LinkedList&lt;T&gt;</code></td></tr><tr><td style="text-align:left"><code>stack&lt;T&gt;</code></td><td style="text-align:left"><code>~ Vec&lt;T&gt;</code></td></tr><tr><td style="text-align:left"><code>queue&lt;T&gt;</code></td><td style="text-align:left"><code>~ VecDeque&lt;T&gt;</code></td></tr><tr><td style="text-align:left"><code>priority_queue&lt;T&gt;</code></td><td style="text-align:left"><code>BinaryHeap&lt;T&gt;</code></td></tr><tr><td style="text-align:left"><code>set&lt;T&gt;</code></td><td style="text-align:left"><code>BTreeSet&lt;T&gt;</code></td></tr><tr><td style="text-align:left"><code>multiset&lt;T&gt;</code></td><td style="text-align:left"><code>~ BTreeMap&lt;T,u32&gt;</code></td></tr><tr><td style="text-align:left"><code>map&lt;K,V&gt;</code></td><td style="text-align:left"><code>BTreeMap&lt;K,V&gt;</code></td></tr><tr><td style="text-align:left"><code>multimap&lt;K,V&gt;</code></td><td style="text-align:left"><code>~ BTreeMap&lt;K, (V,u32)&gt;</code></td></tr><tr><td style="text-align:left"><code>unordered_set&lt;T&gt;</code></td><td style="text-align:left"><code>HashSet&lt;T&gt;</code></td></tr><tr><td style="text-align:left"><code>unordered_multiset&lt;T&gt;</code></td><td style="text-align:left"><code>~ HashMap&lt;T,u32&gt;</code></td></tr><tr><td style="text-align:left"><code>unordered_map&lt;K,V&gt;</code></td><td style="text-align:left"><code>HashMap&lt;K,V&gt;</code></td></tr><tr><td style="text-align:left"><code>unordered_multimap&lt;K,V&gt;</code></td><td style="text-align:left"><code>~ HashMap&lt;K,(V,u32)&gt;</code></td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ¬ç« è¦†ç›–æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚ä½•åº¦é‡è¿è¡Œéƒ¨åˆ†ä»£ç æ‰€èŠ±è´¹çš„æ—¶é—´&lt;/li&gt;
&lt;li&gt;åŸºäºæ€§èƒ½å› ç´ ï¼Œå¦‚ä½•ä½¿ç”¨å“ªç§ç±»å‹çš„é›†åˆ&lt;/li&gt;
&lt;li&gt;é›†åˆä¸­çš„å„ç§æ“ä½œä¸­å“ªä¸ªæ›´å¥½ï¼šé¡ºåºæ‰«æ(sequential scan)ã€ä¸¤ç«¯æ’å…¥å’Œåˆ é™¤(insertion and removal of items at both ends)ã€åˆ é™¤æœ€å¤§é¡¹(removal of the largest item)ã€æœç´¢(search)ã€é”®æœç´¢(search by key)ã€ä¿æŒé¡ºåº(keeping items sorted)&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cp%3E%E6%9C%AC%E7%AB%A0%E8%A6%86%E7%9B%96%E6%9C%89%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E5%A6%82%E4%BD%95%E5%BA%A6%E9%87%8F%E8%BF%90%E8%A1%8C%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81%E6%89%80%E8%8A%B1%E8%B4%B9%E7%9A%84%E6%97%B6%E9%97%B4%3C/li%3E%3Cli%3E%E5%9F%BA%E4%BA%8E%E6%80%A7%E8%83%BD%E5%9B%A0%E7%B4%A0%EF%BC%8C%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E5%93%AA%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E9%9B%86%E5%90%88%3C/li%3E%3Cli%3E%E9%9B%86%E5%90%88%E4%B8%AD%E7%9A%84%E5%90%84%E7%A7%8D%E6%93%8D%E4%BD%9C%E4%B8%AD%E5%93%AA%E4%B8%AA%E6%9B%B4%E5%A5%BD%EF%BC%9A%E9%A1%BA%E5%BA%8F%E6%89%AB%E6%8F%8F(sequential%20scan)%E3%80%81%E4%B8%A4%E7%AB%AF%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4(insertion%20and%20removal%20of%20items%20at%20both%20ends)%E3%80%81%E5%88%A0%E9%99%A4%E6%9C%80%E5%A4%A7%E9%A1%B9(removal%20of%20the%20largest%20item)%E3%80%81%E6%90%9C%E7%B4%A2(search)%E3%80%81%E9%94%AE%E6%90%9C%E7%B4%A2(search%20by%20key)%E3%80%81%E4%BF%9D%E6%8C%81%E9%A1%BA%E5%BA%8F(keeping%20items%20sorted)%3C/li%3E%3C/ul%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch2%20id=%22Collections%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Collections%22%3E%C2%B6%3C/a%3ECollections%3C/h2%3E%3Cp%3E%E6%95%B0%E7%BB%84%E3%80%81%E5%90%91%E9%87%8F%E3%80%81%E7%BB%93%E6%9E%84%E4%BD%93%E3%80%81%E5%85%83%E7%BB%84%E7%BB%93%E6%9E%84%E4%BD%93%E3%80%81%E5%85%83%E7%BB%84%E3%80%81%E6%9E%9A%E4%B8%BE%E5%B1%9E%E4%BA%8E%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%AE%83%E4%BB%AC%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%8F%AF%E8%83%BD%E5%8C%85%E5%90%AB%E5%87%A0%E4%B8%AA%E5%85%B6%E5%AE%83%E5%AF%B9%E8%B1%A1%E3%80%82%E7%84%B6%E8%80%8C%EF%BC%8C%E5%AF%B9%E4%BA%8E%E7%BB%93%E6%9E%84%E4%BD%93%E3%80%81%E5%85%83%E7%BB%84-%E7%BB%93%E6%9E%84%E4%BD%93%E3%80%81%E5%85%83%E7%BB%84%E3%80%81%E6%9E%9A%E4%B8%BE%EF%BC%8C%E6%AF%8F%E4%B8%AA%E5%8C%85%E5%90%AB%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E9%9C%80%E8%A6%81%E6%8C%87%E5%AE%9A%E5%A3%B0%E6%98%8E%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%9E%84%E9%80%A0%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%AE%83%E4%BB%AC%E4%B8%8D%E8%83%BD%E5%AD%98%E5%82%A8%E5%A4%9A%E4%B8%AA%E5%AF%B9%E8%B1%A1%E3%80%82%E7%9B%B8%E5%8F%8D%E6%95%B0%E7%BB%84%E5%92%8C%E5%90%91%E9%87%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BC%9A%E5%8C%85%E5%90%AB%E5%A4%9A%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%BF%99%E4%B8%80%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%A7%B0%E4%B8%BA%E2%80%9C%E9%9B%86%E5%90%88%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E6%95%B0%E7%BB%84%E5%92%8C%E5%90%91%E9%87%8F%E6%98%AF%E6%9C%80%E4%BD%B3%E9%9B%86%E5%90%88%EF%BC%9A%E5%86%85%E5%AD%98%E9%AB%98%E6%95%88%EF%BC%8C%E8%AF%BB%E5%8F%96%E9%80%9F%E5%BA%A6%E5%BF%AB%EF%BC%8CCPU%E7%BC%93%E5%AD%98%E9%AB%98%E6%95%88%EF%BC%8C%E8%83%BD%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E5%BF%AB%E9%80%9F%E8%AE%BF%E9%97%AE%E5%86%85%E9%83%A8%E5%85%83%E7%B4%A0%E3%80%82%E5%BD%93%E7%84%B6%EF%BC%8C%E5%9C%A8%E6%9F%90%E4%BA%9B%E6%83%85%E5%86%B5%E4%B8%8D%E5%B0%BD%E6%98%AF%E9%AB%98%E6%95%88%E7%9A%84%EF%BC%8C%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E4%B8%8B%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E5%85%B6%E5%AE%83%E9%9B%86%E5%90%88%E3%80%82Rust%E6%A0%87%E5%87%86%E5%BA%93%E6%8F%90%E4%BE%9B%E4%BA%86%E5%90%84%E7%A7%8D%E5%90%84%E6%A0%B7%E7%9A%84%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%EF%BC%9A%3Ccode%3EVecDeque&amp;lt;T&amp;gt;%3C/code%3E%E3%80%81%3Ccode%3ELinkedList&amp;lt;T&amp;gt;%3C/code%3E%E3%80%81%3Ccode%3EBinaryHeap&amp;lt;T&amp;gt;%3C/code%3E%E3%80%81%3Ccode%3EBTreeSet&amp;lt;T&amp;gt;%3C/code%3E%E3%80%81%3Ccode%3EBTreeMap&amp;lt;K,V&amp;gt;%3C/code%3E%E3%80%81%3Ccode%3EHashSet&amp;lt;T&amp;gt;%3C/code%3E%E5%92%8C%3Ccode%3EHashMap&amp;lt;K,V&amp;gt;%3C/code%3E%E3%80%82%3C/p%3E%3Cp%3E%E8%AF%B4%E5%88%B0%E9%9B%86%E5%90%88%EF%BC%8C%E6%95%B0%E7%BB%84%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8D%95%E7%8B%AC%E6%A1%88%E4%BE%8B%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E5%AE%8C%E5%85%A8%E6%98%AF%E6%A0%88%E5%88%86%E9%85%8D%E7%9A%84%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%9C%A8%E7%BC%96%E8%AF%91%E6%9C%9F%E5%B7%B2%E7%BB%8F%E5%AE%9A%E4%B9%89%E4%BA%86%E5%A4%A7%E5%B0%8F%E3%80%82%E8%80%8C%E5%AF%B9%E4%BA%8E%E5%85%B6%E5%AE%83%E9%9B%86%E5%90%88%EF%BC%8C%E5%8C%85%E6%8B%ACvector%EF%BC%8C%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0%E5%8F%AF%E5%8F%98%EF%BC%8C%E5%AE%83%E5%B0%86header%E5%AD%98%E5%82%A8%E5%9C%A8stack%EF%BC%8C%E6%95%B0%E6%8D%AE%E9%83%A8%E5%88%86%E5%88%99%E5%AD%98%E5%82%A8%E5%9C%A8%E5%A0%86%E3%80%82%E8%BF%99%E7%A7%8D%E7%A7%B0%E4%B8%BA%E2%80%9C%E5%8A%A8%E6%80%81%E6%95%B0%E6%8D%AE%E9%9B%86dynamically-sized%20collections%E2%80%9D%E3%80%82%3C/p%3E%3Ch2%20id=%22Measuring-Execution-Time%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Measuring-Execution-Time%22%3E%C2%B6%3C/a%3EMeasuring%20Execution%20Time%3C/h2%3E%3Cp%3E%E9%9B%86%E5%90%88%E7%9A%84%E9%80%89%E5%8F%96%E6%9B%B4%E5%A4%9A%E5%9C%B0%E7%94%B1%E5%AE%83%E7%9A%84%E6%80%A7%E8%83%BD%E5%86%B3%E5%AE%9A%EF%BC%8C%E5%85%88%E7%BB%95%E5%BC%80%E8%BF%99%E6%96%B9%E9%9D%A2%E5%86%85%E5%AE%B9%EF%BC%8C%E7%9C%8B%E7%9C%8B%E5%A6%82%E4%BD%95%E7%B2%BE%E7%A1%AE%E5%BA%A6%E9%87%8F%E4%B8%8D%E5%90%8CRust%E4%BB%A3%E7%A0%81%E6%89%80%E8%8A%B1%E8%B4%B9%E7%9A%84%E6%80%A7%E8%83%BD%E3%80%82%3C/p%3E%3Cp%3E%E5%AF%B9%E4%BA%8E%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E8%80%85%E6%9D%A5%E8%AF%B4%E6%80%A7%E8%83%BD%E6%98%AF%E5%BE%88%E9%87%8D%E8%A6%81%E7%9A%84%E4%B8%80%E6%96%B9%E9%9D%A2%E3%80%82%E5%8D%95%E4%B8%AA%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%90%E8%A1%8C%EF%BC%8C%E9%AB%98%E7%BA%A7%E8%AF%AD%E8%A8%80%E9%83%BD%E8%A6%81%E6%B1%82%E5%91%BD%E4%BB%A4%E5%A4%84%E7%90%86%E8%8A%B1%E8%B4%B9%E8%87%B3%E6%AF%AB%E7%A7%92%E5%92%8C%E7%A7%92%E7%BA%A7%E5%88%AB%EF%BC%8C%E5%83%8FRust%E8%BF%99%E7%B1%BB%E4%BD%8E%E7%BA%A7%E8%AF%AD%E8%A8%80%EF%BC%8C%E9%83%BD%E8%A6%81%E6%B1%82%E6%AF%AB%E7%A7%92%E7%94%9A%E8%87%B3%E7%BA%B3%E7%A7%92%E3%80%82%3C/p%3E%3Cp%3E%E5%9C%A8Rust%E6%A0%87%E5%87%86%E5%BA%93%E4%B8%AD%EF%BC%8C%E6%9C%89%E5%87%A0%E4%B8%AA%E5%87%BD%E6%95%B0%E5%8F%AF%E4%BB%A5%E5%BA%A6%E9%87%8F%E6%BA%90%E4%BB%A3%E7%A0%81%E6%B6%88%E8%80%97%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Euse%3C/span%3E%20std::time::Instant;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eelapsed_ms%3C/span%3E(t1:%20Instant,%20t2:%20Instant)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et%3C/span%3E%20=%20t2%20-%20t1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20t.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eas_secs%3C/span%3E()%20%3Cspan%20class=%22keyword%22%3Eas%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20*%20%3Cspan%20class=%22number%22%3E1000%3C/span%3E.%20+%20t.%3Cspan%20class=%22title%20function_%20invoke__%22%3Esubsec_nanos%3C/span%3E()%20%3Cspan%20class=%22keyword%22%3Eas%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20/%20%3Cspan%20class=%22number%22%3E1e6%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Etime0%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..%3Cspan%20class=%22number%22%3E10_000%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Etime1%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(time0,%20time1));%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%A8%8B%E5%BA%8F%E4%BC%9A%E6%89%93%E5%8D%B00%E5%88%B09999%E7%9A%84%E6%95%B4%E6%95%B0%EF%BC%8C%E7%84%B6%E5%90%8E%E5%B0%86%E6%89%80%E8%8A%B1%E8%B4%B9%E7%9A%84%E6%AF%AB%E7%A7%92%E6%95%B0%E8%BE%93%E5%87%BA%E3%80%82%3C/p%3E%3Cp%3E%E6%89%80%E8%8A%B1%E8%B4%B9%E7%9A%84%E6%97%B6%E9%97%B4%E8%B7%9F%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%83%BD%E5%8A%9B%E6%9C%89%E5%85%B3%EF%BC%8C%E5%BD%93%E7%84%B6%E4%B9%9F%E8%B7%9F%E7%BC%96%E8%AF%91%E5%99%A8%E7%9A%84%E4%BC%98%E5%8C%96%E6%9C%89%E5%85%B3%E3%80%82%3C/p%3E%3Cp%3E%E5%89%8D%E9%9D%A2%E7%AB%A0%E8%8A%82%E8%AF%B4%E5%88%B0%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%94%A8%3Ccode%3Erustc%3C/code%3E%E6%9D%A5%E7%BC%96%E8%AF%91%E6%BA%90%E4%BB%A3%E7%A0%81%E6%96%87%E4%BB%B6%EF%BC%8C%E4%BD%86%E6%98%AF%E8%BF%99%E4%B8%AA%E5%91%BD%E4%BB%A4%E5%B9%B6%E6%B2%A1%E6%9C%89%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96%EF%BC%8C%E5%8F%AA%E6%98%AF%E5%8D%95%E7%BA%AF%E7%94%9F%E6%88%90%E6%9C%BA%E5%99%A8%E7%A0%81%E7%94%A8%E4%BA%8E%E8%B0%83%E8%AF%95%EF%BC%8C%E5%AE%83%E4%B8%8D%E6%98%AF%E9%AB%98%E6%95%88%E7%9A%84%E3%80%82%3C/p%3E%3Cp%3E%E5%A6%82%E6%9E%9C%E4%BD%A0%E5%AF%B9%E6%80%A7%E8%83%BD%E6%84%9F%E5%85%B4%E8%B6%A3%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%B8%A6%E4%B8%8A%E7%BC%96%E8%AF%91%E5%8F%82%E6%95%B0%3Ccode%3E-O%3C/code%3E%E3%80%82%E7%9C%81%E7%95%A5%E8%BF%99%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E6%89%80%E6%9C%89%E4%BC%98%E5%8C%96%E9%83%BD%E6%98%AF%E7%A6%81%E7%94%A8%E7%9A%84%E3%80%82%3C/p%3E%3Cp%3E%E5%9B%A0%E6%AD%A4%EF%BC%8C%E8%BF%99%E7%AB%A0%E7%A4%BA%E4%BE%8B%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E4%B8%8B%E9%9D%A2%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3Erustc%20-O%20main.rs%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%A6%81%E5%BA%A6%E9%87%8F%E4%B8%80%E4%B8%AA%E6%97%B6%E9%97%B4%EF%BC%8C%E4%BD%A0%E5%BA%94%E8%AF%A5%E7%94%A8%3Ccode%3EInstant%3C/code%3E%E7%B1%BB%E7%9A%84%3Ccode%3Enow%3C/code%3E%E5%87%BD%E6%95%B0%E3%80%82%E8%BF%99%E4%B8%AA%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89%E5%9C%A8Rust%E7%9A%84%E6%A0%87%E5%87%86%E5%BA%93%E4%B8%AD%E3%80%82%3C/p%3E%3Ch2%20id=%22Performing-Arbitrary-Insertions-and-Removals%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Performing-Arbitrary-Insertions-and-Removals%22%3E%C2%B6%3C/a%3EPerforming%20Arbitrary%20Insertions%20and%20Removals%3C/h2%3E%3Cp%3E%E5%9B%9E%E5%88%B0%E5%8E%9F%E6%9D%A5%E7%9A%84%E9%9B%86%E5%90%88%E5%A4%84%E7%90%86%E3%80%82%E4%B8%8B%E9%9D%A2%E7%A8%8B%E5%BA%8F%E6%98%AF%E9%9D%9E%E5%B8%B8%E9%AB%98%E6%95%88%E7%9A%84%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Econst%3C/span%3E%20SIZE:%20%3Cspan%20class=%22type%22%3Eusize%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E100_000_000%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et0%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E::&amp;lt;%3Cspan%20class=%22type%22%3Eusize%3C/span%3E&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Ewith_capacity%3C/span%3E(SIZE);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et1%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et2%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et3%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t0,%20t1),%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t1,%20t2),%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t2,%20t3));%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%AE%B0%E5%BE%97%E6%B7%BB%E5%8A%A0%3Ccode%3E-O%3C/code%3E%E8%BF%9B%E8%A1%8C%E7%BC%96%E8%AF%91%E3%80%82%3C/p%3E%3Cp%3E%E7%A8%8B%E5%BA%8F%E5%B0%86%E6%89%93%E5%8D%B0%E4%B8%89%E6%AE%B5%E6%95%B0%E5%AD%97%EF%BC%8C%E5%AE%83%E6%98%AF%E7%94%B1%E7%BC%96%E8%AF%91%E5%99%A8%E3%80%81%E6%88%96%E8%80%85%E6%9C%89%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%89%80%E5%86%B3%E5%AE%9A%E3%80%82%3C/p%3E%3Cp%3E%E5%81%87%E8%AE%BE%E4%BD%A0%E6%9C%AC%E6%9C%BA%E8%BE%93%E5%87%BA%E7%9A%84%E6%95%B0%E6%8D%AE%E6%98%AF%EF%BC%9A%E2%80%9C0.002667%20454.516057%2087.302678%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E8%BF%99%E6%84%8F%E5%91%B3%E7%9D%80%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAvector%E4%B8%BA%E8%BF%99%E4%B8%AA%3Ccode%3Eusize%3C/code%3E%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D%E2%80%9C%E6%88%BF%E9%97%B4%E2%80%9D%EF%BC%8C%E5%AE%83%E5%8D%A064%E4%BD%8D%E7%B3%BB%E7%BB%9F800M%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%B0%91%E4%BA%8E3%E6%AF%AB%E7%A7%92%E7%9A%84%E6%B6%88%E8%80%97%E6%97%B6%E9%97%B4%E3%80%82%E8%A6%81%E5%B0%86%E4%B8%80%E5%8D%83%E4%B8%87%E7%9A%84%E5%80%BC%E5%A1%9E%E5%85%A5%E8%BF%99%E4%B8%AA%E7%A9%BA%E9%97%B4%EF%BC%8C%E4%B8%8D%E4%BD%BF%E7%94%A8%E5%86%85%E5%AD%98%E6%B4%BE%E9%81%A3%EF%BC%8C%E5%B0%91%E4%BA%8E1%E7%A7%92%E7%9A%84%E6%8D%9F%E8%80%97%E6%97%B6%E9%97%B4%EF%BC%8C%E5%90%8C%E6%97%B6%E8%BF%98%E8%A6%81%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%EF%BC%8C%E8%8A%B1%E8%B4%B91/10%E7%A7%92%E7%9A%84%E6%97%B6%E9%97%B4%E3%80%82%3C/p%3E%3Cp%3E%E5%A6%82%E6%9E%9C%E4%B8%8D%E5%8A%A0%3Ccode%3E-O%3C/code%3E%E5%8F%82%E6%95%B0%E7%BC%96%E8%AF%91%EF%BC%8C%E4%BD%A0%E4%BC%9A%E5%8F%91%E7%8E%B0%E5%AE%83%E8%8A%B1%E8%B4%B9%E6%97%B6%E9%97%B4%E9%9D%9E%E5%B8%B8%E5%A4%A7%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E4%B8%8B%E9%9D%A2%E7%9A%84%E7%A8%8B%E5%BA%8F%E9%9D%9E%E5%B8%B8%E4%BD%8E%E6%95%88%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Econst%3C/span%3E%20SIZE:%20%3Cspan%20class=%22type%22%3Eusize%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E100_000_000%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et0%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E::&amp;lt;%3Cspan%20class=%22type%22%3Eusize%3C/span%3E&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Ewith_capacity%3C/span%3E(SIZE);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et1%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et2%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3E_%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eremove%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et3%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t0,%20t1),%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t1,%20t2),%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t2,%20t3));%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%AE%83%E4%BC%9A%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C0.00178%202038.879344%202029.447851%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E8%A6%81%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA800KB%E7%9A%84vector%EF%BC%8C%E8%8A%B1%E8%B4%B9%E5%B0%91%E4%BA%8E2%E6%AF%AB%E7%A7%92%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%8C%E4%BD%86%E6%98%AF%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%E5%8D%B4%E8%8A%B1%E8%B4%B9%E4%BA%86%E5%A4%9A%E4%BA%8E2%E7%A7%92%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%B7%AE%E4%B8%8D%E5%A4%9A%E7%AD%89%E5%90%8C%E7%9A%84%E6%97%B6%E9%97%B4%E7%94%A8%E6%9D%A5%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E3%80%82%E8%BF%99%E9%87%8C%E5%8F%91%E7%8E%B0%E6%8F%92%E5%85%A5%E5%8A%A8%E4%BD%9C%EF%BC%8C%E6%AF%94%E5%89%8D%E9%9D%A2%E8%8A%B1%E8%B4%B9%E6%9B%B4%E5%A4%9A%E7%9A%84%E6%97%B6%E9%97%B4%E3%80%82%3C/p%3E%3Cp%3E%E5%AF%BC%E8%87%B4%E4%B8%A4%E8%80%85%E7%9A%84%E5%B7%AE%E5%BC%82%E5%BE%88%E5%A5%BD%E8%A7%A3%E6%9E%90%E3%80%82%3C/p%3E%3Cp%3E%E4%BB%8E%E6%A0%88%E9%A1%B6%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E7%A1%AE%E4%BF%9D%E6%9C%89%E8%B6%B3%E5%A4%9F%E7%9A%84%E7%A9%BA%E9%97%B4%EF%BC%8C%E7%84%B6%E5%90%8E%E5%B0%86%E6%95%B0%E6%8D%AE%E6%8B%B7%E8%B4%9D%E5%88%B0%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%8C%E5%A2%9E%E5%8A%A0%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0%E3%80%82%E5%AF%B9%E4%BA%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%9D%A5%E8%AF%B4%EF%BC%8C%E5%A4%84%E7%90%86%E8%BF%99%E4%BA%9B%E6%97%B6%E9%97%B4%E5%B0%91%E4%BA%8E5%E7%BA%B3%E7%A7%92%EF%BC%8C%E5%8C%85%E6%8B%AC%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%9A%84%E7%A7%BB%E4%BD%8D%E5%8A%A8%E4%BD%9C%E3%80%82%3C/p%3E%3Cp%3E%E5%90%8C%E6%A0%B7%EF%BC%8C%E5%AF%B9%E4%BA%8E%E4%BB%8E%E6%A0%88%E9%A1%B6%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0%EF%BC%8C%E7%A1%AE%E4%BF%9Dvector%E4%B8%8D%E4%B8%BA%E7%A9%BA%EF%BC%8C%E7%84%B6%E5%90%8E%E9%80%92%E5%87%8F%E5%85%83%E7%B4%A0%EF%BC%8C%E8%8A%B1%E8%B4%B9%E4%B8%8D%E5%88%B01%E7%BA%B3%E7%A7%92%E7%9A%84%E6%97%B6%E9%97%B4%E3%80%82%3C/p%3E%3Cp%3E%E7%9B%B8%E5%8F%8D%EF%BC%8C%E4%BB%8Evector%E7%9A%84%E5%BC%80%E5%A7%8B%E9%83%A8%E5%88%86%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%EF%BC%8C%E9%A6%96%E5%85%88%E4%BD%A0%E9%9C%80%E8%A6%81%E5%B0%86%E5%9C%B0%E5%9D%80%E8%BF%9B%E8%A1%8C%E8%BD%AC%E6%8D%A2%EF%BC%8C%E6%AF%8F%E6%AC%A1%E6%9C%89%E6%96%B0%E7%9A%84%E5%85%83%E7%B4%A0%E8%BF%87%E6%9D%A5%EF%BC%8C%E9%83%BD%E8%A6%81%E9%87%8A%E6%94%BE%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%E3%80%82%E8%99%BD%E7%84%B6%E8%BD%AC%E6%8D%A2%E5%BE%88%E5%BF%AB%EF%BC%8C%E9%9A%8F%E7%9D%80%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0%E7%9A%84%E5%A2%9E%E5%8A%A0%EF%BC%8C%E8%A6%81%E6%8F%92%E5%85%A5%E9%A6%96%E4%BD%8D%E7%BD%AE%E7%9A%84%E5%85%83%E7%B4%A0%E4%B9%9F%E8%B6%8A%E6%9D%A5%E8%B6%8A%E5%A4%9A%E3%80%82%3C/p%3E%3Cp%3E%E7%B1%BB%E4%BC%BC%E7%9A%84%EF%BC%8C%E8%A6%81%E4%BB%8E%E9%A6%96%E4%BD%8D%E7%BD%AE%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0%EF%BC%8C%E9%9C%80%E8%A6%81%E5%B0%86%E6%89%80%E6%9C%89%E5%85%83%E7%B4%A0%E9%83%BD%E8%BD%AC%E6%8D%A2%E4%B8%80%E9%81%8D%EF%BC%8C%E4%B8%8D%E4%BB%85%E4%BB%85%E6%98%AF%E9%A6%96%E4%BD%8D%E7%BD%AE%EF%BC%8C%3C/p%3E%3Cp%3E%E4%BB%8E%E8%AE%A1%E7%AE%97%E5%A4%8D%E6%9D%82%E5%BA%A6%E8%A1%A8%E7%A4%BA%EF%BC%8C%E6%A0%88%E9%A1%B6(%E5%B0%BE%E9%83%A8)%E6%8F%92%E5%85%A5%E6%88%96%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0%E6%98%AF%3Ccode%3EO(K)%3C/code%3E%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%8C%E5%AE%83%E6%98%AF%E5%B8%B8%E9%87%8F%E5%A4%8D%E6%9D%82%E5%BA%A6(constant%20complexity)%EF%BC%9B%E8%80%8C%E5%AF%B9%E4%BA%8E%E4%BB%8E%E6%A0%88%E5%B0%BE(%E9%A6%96%E9%83%A8)%E6%8F%92%E5%85%A5%E6%88%96%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0%E6%98%AF%3Ccode%3EO(N)%3C/code%3E%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%8C%E5%AE%83%E6%98%AF%E7%BA%BF%E6%80%A7%E5%A4%8D%E6%9D%82%E5%BA%A6(linear%20complexity)%E3%80%82%3C/p%3E%3Cp%3E%E5%8D%B3%E4%BD%BF%E6%98%AF%E5%9C%A8%E4%B8%AD%E9%97%B4%E9%83%A8%E5%88%86%E6%8F%92%E5%85%A5%E6%88%96%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%80%A7%E8%83%BD%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%A8%8D%E5%BE%AE%E5%A5%BD%E4%B8%80%E7%82%B9%EF%BC%8C%E4%BD%86%E4%BB%8D%E7%84%B6%E6%AF%94%E5%9C%A8%E6%A0%88%E9%A1%B6%E6%8F%92%E5%85%A5%E6%88%96%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E8%A6%81%E6%85%A2%E3%80%82%3C/p%3E%3Ch2%20id=%22Queues%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Queues%22%3E%C2%B6%3C/a%3EQueues%3C/h2%3E%3Cp%3E%E5%A6%82%E6%9E%9C%E6%98%AF%E5%9C%A8%E9%A6%96%E9%83%A8%E5%92%8C%E5%B0%BE%E9%83%A8%E5%90%8C%E6%97%B6%E6%9C%89%E6%8F%92%E5%85%A5%E6%88%96%E5%88%A0%E9%99%A4%E5%8A%A8%E4%BD%9C%EF%BC%8C%E8%BF%99%E4%B8%AAvector%E4%B8%8D%E4%BC%9A%E6%98%AF%E4%B8%80%E4%B8%AA%E4%BC%98%E5%8C%96%E9%9B%86%E5%90%88%E3%80%82%E5%85%B8%E5%9E%8B%E6%83%85%E5%86%B5%E7%B1%BB%E4%BC%BC%E4%BA%8EQueue%EF%BC%8C%E5%AE%83%E5%9C%A8%E5%B0%BE%E9%83%A8%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%EF%BC%8C%E5%9C%A8%E9%A6%96%E9%83%A8%E8%90%83%E5%8F%96%E5%85%83%E7%B4%A0%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Econst%3C/span%3E%20SIZE:%20%3Cspan%20class=%22type%22%3Eusize%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E40_000%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et0%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E::&amp;lt;%3Cspan%20class=%22type%22%3Eusize%3C/span%3E&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(SIZE%20+%20i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eremove%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(SIZE%20*%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%20+%20i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eremove%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et1%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Ewhile%3C/span%3E%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Elen%3C/span%3E()%20&amp;gt;%20%3Cspan%20class=%22number%22%3E0%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eremove%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et2%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t0,%20t1),%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t1,%20t2));%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%8F%AF%E8%83%BD%E7%9A%84%E8%BE%93%E5%87%BA%E4%BC%9A%E6%98%AF%EF%BC%9A%E2%80%9C561.189636%20276.056133%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E4%BB%A3%E7%A0%81%E4%B8%AD%EF%BC%8C%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E7%A9%BA%E7%9A%84vector%EF%BC%8C%E7%94%A8%E4%BA%864%E5%8D%83%E6%AC%A1%E5%BE%AA%E7%8E%AF%EF%BC%8C%E5%B0%86%E4%B8%89%E4%B8%AA%E6%95%B0%E6%8F%92%E5%85%A5%E6%A0%88%E9%A1%B6%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%9C%A8%E6%A0%88%E9%A1%B6%E5%88%A0%E9%99%A4%E4%B8%A4%E4%B8%AA%E5%85%83%E7%B4%A0%E3%80%82%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%BE%AA%E7%8E%AF%E4%BD%93%E5%86%85%EF%BC%8C%E6%AF%8F%E6%AC%A1%E4%BB%8E%E6%A0%88%E9%A1%B6%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0%E3%80%82%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%BE%AA%E7%8E%AF%E7%89%87%E6%AE%B5%E8%8A%B1%E8%B4%B9%E4%BA%86%E5%A4%A7%E7%BA%A6%E5%8D%8A%E7%A7%92%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%BE%AA%E7%8E%AF%E4%BD%93%E8%8A%B1%E8%B4%B9%E4%BA%86%E5%A4%A7%E7%BA%A6%E5%9B%9B%E5%88%86%E4%B9%8B%E4%B8%80%E7%A7%92%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8C%E5%A4%A7%E9%83%A8%E5%88%86%E6%97%B6%E9%97%B4%E9%83%BD%E7%94%A8%E5%9C%A8%E4%BA%86%E8%90%83%E5%8F%96%E5%85%83%E7%B4%A0%E4%B8%8A%EF%BC%8C%E6%8F%92%E5%85%A5%E5%85%B6%E5%AE%9E%E6%98%AF%E9%9D%9E%E5%B8%B8%E5%BF%AB%E7%9A%84%E3%80%82%3C/p%3E%3Cp%3E%E6%88%91%E4%BB%AC%E5%B8%8C%E6%9C%9B%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%E6%80%BB%E6%98%AF%E5%8F%91%E7%94%9F%E5%9C%A8%E6%A0%88%E5%B0%BE%EF%BC%8C%E8%90%83%E5%8F%96(extract)%E5%85%83%E7%B4%A0%E6%80%BB%E6%98%AF%E5%9C%A8%E6%A0%88%E9%A1%B6%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Econst%3C/span%3E%20SIZE:%20%3Cspan%20class=%22type%22%3Eusize%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E40_000%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et0%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E::&amp;lt;%3Cspan%20class=%22type%22%3Eusize%3C/span%3E&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20SIZE%20+%20i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20SIZE%20*%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%20+%20i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et1%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Ewhile%3C/span%3E%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Elen%3C/span%3E()%20&amp;gt;%20%3Cspan%20class=%22number%22%3E0%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et2%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t0,%20t1),%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t1,%20t2));%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E5%8F%AF%E8%83%BD%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C790.365012%200.000112%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E7%8E%B0%E5%9C%A8%E6%8F%92%E5%85%A5%E5%BE%88%E6%85%A2%EF%BC%8C%E5%88%A0%E9%99%A4%E5%8D%B4%E5%BE%88%E5%BF%AB%E3%80%82%E5%8F%AF%E6%98%AF%E6%80%BB%E5%85%B1%E8%8A%B1%E8%B4%B9%E7%9A%84%E6%97%B6%E9%97%B4%E5%B9%B6%E6%B2%A1%E6%9C%89%E6%8F%90%E5%8D%87%E5%A4%9A%E5%B0%91%E3%80%82%E6%88%91%E4%BB%AC%E5%B0%9D%E8%AF%95%E7%94%A8%3Ccode%3EVecDeque%3C/code%3E%E7%B1%BB%E5%9E%8B%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Econst%3C/span%3E%20SIZE:%20%3Cspan%20class=%22type%22%3Eusize%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E40_000%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et0%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20std::collections::VecDeque::&amp;lt;%3Cspan%20class=%22type%22%3Eusize%3C/span%3E&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20SIZE%20+%20i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20SIZE%20*%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%20+%20i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et1%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Ewhile%3C/span%3E%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Elen%3C/span%3E()%20&amp;gt;%20%3Cspan%20class=%22number%22%3E0%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et2%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t0,%20t1),%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t1,%20t2));%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C0.40793%200.050257%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E6%95%B4%E6%AE%B5%E7%A8%8B%E5%BA%8F%E8%8A%B1%E8%B4%B9%E4%B8%8D%E5%88%B0%E5%8D%8A%E6%AF%AB%E7%A7%92%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%8C%E8%BF%99%E9%87%8C%E9%9C%80%E8%A6%81%E6%98%BE%E5%BC%8F%E5%A3%B0%E6%98%8E%3Ccode%3EVecDeque%3C/code%3E%E7%9A%84%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%AE%83%E6%98%AF%E2%80%9Cvector-like%20double-ended%20queue%E2%80%9D%E7%9A%84%E7%BC%A9%E5%86%99%EF%BC%8C%E2%80%9Cqueue%E2%80%9D%E8%A1%A8%E7%A4%BA%E7%9A%84%E6%98%AF%E2%80%9Csequential%20collection%20into%20which%20items%20are%20inserted%20at%20one%20end%20and%20from%20which%20items%20are%20extracted%20at%20the%20other%20end%E2%80%9D%E3%80%82%E2%80%9Cdouble-ended%E2%80%9D%E8%A1%A8%E7%A4%BA%E5%9C%A8%E5%B0%BE%E9%83%A8%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%9C%A8%E5%B0%BE%E9%83%A8%E8%90%83%E5%8F%96%E5%85%83%E7%B4%A0%EF%BC%8C%E4%B8%8D%E5%B8%A6%E6%9C%89penalty%E3%80%82%E2%80%9Cvector-like%E2%80%9D%E8%A1%A8%E7%A4%BA%E5%85%B7%E6%9C%89vector%E7%9B%B8%E4%BC%BC%E7%9A%84%E6%93%8D%E4%BD%9C%E3%80%82%3C/p%3E%3Cp%3E%E8%A6%81%E5%9C%A8vector%E6%A0%88%E9%A1%B6%E6%B7%BB%E5%8A%A0%E6%88%96%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%3Ccode%3Epush%3C/code%3E%E5%92%8C%3Ccode%3Epop%3C/code%3E%EF%BC%8C%E8%80%8C%E5%AF%B9%E4%BA%8E%3Ccode%3E%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97%EF%BC%8Cdouble-ended%20queue%3C/code%3E%EF%BC%8C%E9%9C%80%E8%A6%81%E7%90%86%E8%A7%A3%E4%B8%A4%E7%AB%AF%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%98%AF%E7%AD%89%E6%95%88%E7%9A%84%EF%BC%8C%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%E5%8F%AF%E4%BB%A5%E7%94%A8%3Ccode%3Epush_front%3C/code%3E%E5%92%8C%3Ccode%3Epush_back%3C/code%3E%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%9C%A8%E4%B8%A4%E7%AB%AF%E7%94%A8%3Ccode%3Epop_front%3C/code%3E%E5%92%8C%3Ccode%3Epop_back%3C/code%3E%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0%E3%80%82%E8%99%BD%E7%84%B6%3Ccode%3EVecDeque%3C/code%3E%E7%B1%BB%E5%9E%8B%E6%94%AF%E6%8C%81%3Ccode%3Einsert%3C/code%3E%E5%92%8C%3Ccode%3Eremove%3C/code%3E%E5%87%BD%E6%95%B0%EF%BC%8C%E4%BD%86%E4%B8%8D%E8%A2%AB%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E4%B8%8D%E6%98%AF%E9%AB%98%E6%95%88%E7%9A%84%E3%80%82%3C/p%3E%3Cp%3E%E7%BB%99%E5%87%BA%E7%9A%84%E9%98%9F%E5%88%97%E9%9D%9E%E5%B8%B8%E9%AB%98%E6%95%88%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BB%AC%E6%80%BB%E6%98%AF%E7%94%A8%E5%AE%83%EF%BC%8C%E8%80%8C%E6%98%AF%E9%80%89%E6%8B%A9%E7%94%A8vector%EF%BC%9F%3C/p%3E%3Cp%3E%E5%8E%9F%E5%9B%A0%E6%98%AFvector%E6%9B%B4%E6%99%AE%E9%81%8D%E7%9A%84%E6%93%8D%E4%BD%9C%E6%98%AF%E8%BF%AD%E4%BB%A3%E3%80%81%E5%85%83%E7%B4%A0%E8%AE%BF%E9%97%AE%EF%BC%8C%E8%BF%99%E7%A7%8D%E6%97%B6%E9%97%B4%E6%8D%9F%E8%80%97%E4%B8%80%E7%9B%B4%E4%BF%9D%E6%8C%81%E4%B8%BA%E5%B8%B8%E9%87%8F%E5%9B%A0%E7%B4%A0%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Econst%3C/span%3E%20SIZE:%20%3Cspan%20class=%22type%22%3Eusize%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E40_000%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E::&amp;lt;%3Cspan%20class=%22type%22%3Eusize%3C/span%3E&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Evd%3C/span%3E%20=%20std::collections::VecDeque::&amp;lt;%3Cspan%20class=%22type%22%3Eusize%3C/span%3E&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et0%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et1%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Evd.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush_back%3C/span%3E(i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ecount%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eiter%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ecount%20+=%20i;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et3%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20vd.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eiter%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ecount%20+=%20i;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et4%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20count,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t0,%20t1),%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t1,%20t2),%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t2,%20t3),%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t3,%20t4));%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%8F%AF%E8%83%BD%E6%89%93%E5%8D%B0%EF%BC%9A%E2%80%9C1599960000%200.230073%200.203979%200.013144%200.035295%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E4%BC%9A%E5%8F%91%E7%8E%B0%EF%BC%8C%3Ccode%3EVec%3C/code%3E%E5%92%8C%3Ccode%3EVecDeque%3C/code%3E%E5%87%A0%E4%B9%8E%E8%8A%B1%E8%B4%B9%E7%9B%B8%E5%BD%93%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%8C%E4%BD%86%E5%AF%B9%E4%BA%8E%E6%89%AB%E6%8F%8F%E6%95%B4%E4%B8%AA%E9%9B%86%E5%90%88%E5%85%83%E7%B4%A0%EF%BC%8C%3Ccode%3EVec%3C/code%3E%E6%95%88%E7%8E%87%E8%A6%81%E9%AB%98%E5%87%BA%E4%B8%A4%E5%80%8D%E3%80%82%3C/p%3E%3Ch2%20id=%22Linked-Lists%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Linked-Lists%22%3E%C2%B6%3C/a%3ELinked%20Lists%3C/h2%3E%3Cp%3E%E5%AF%B9%E4%BA%8E%E6%9F%90%E4%BA%9B%E5%BA%94%E7%94%A8%EF%BC%8C%E5%8F%AF%E8%83%BD%E4%BC%9A%E9%A2%91%E7%B9%81%E5%9C%B0%E5%9C%A8%E4%B8%AD%E9%97%B4%E4%BD%8D%E7%BD%AE%E6%8F%92%E5%85%A5%E6%88%96%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0%E3%80%82%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%8C%E5%90%91%E9%87%8F(vector)%E5%92%8C%E5%AF%B9%E8%B1%A1(queue)%E4%B8%8D%E6%98%AF%E9%AB%98%E6%95%88%E7%9A%84%EF%BC%8C%E6%89%80%E4%BB%A5%E9%9C%80%E8%A6%81%E5%BC%95%E5%85%A5%E6%96%B0%E7%9A%84%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E2%80%94%E2%80%94%3Ccode%3ELinkedList%3C/code%3E%E3%80%82%3C/p%3E%3Cp%3E%E7%84%B6%E8%80%8C%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BD%A0%E9%9C%80%E8%A6%81%E5%9C%A8%E4%B8%80%E4%B8%AA%E9%9B%86%E5%90%88%E8%BF%9B%E8%A1%8C%E5%A4%A7%E9%87%8F%E6%93%8D%E4%BD%9C%EF%BC%8C%E8%AD%AC%E5%A6%82%E6%B7%BB%E5%8A%A0%E6%88%96%E5%88%A0%E9%99%A4%E5%BE%88%E5%A4%9A%E4%B8%AA%E6%9D%A1%E7%9B%AE%EF%BC%8C%E4%BC%9A%E6%AF%94%3Ccode%3EVec%3C/code%3E%E6%88%96%3Ccode%3EVecDeque%3C/code%3E%E8%A6%81%E5%BF%AB%E5%BE%88%E5%A4%9A%EF%BC%8C%E5%AE%83%E4%BC%9A%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E4%B8%B4%E6%97%B6%E9%9B%86%E5%90%88%EF%BC%8C%E5%B9%B6%E7%94%B1%E4%B8%B4%E6%97%B6%E9%9B%86%E5%90%88%E6%9B%BF%E6%8D%A2%E5%8E%9F%E6%9D%A5%E7%9A%84%E9%9B%86%E5%90%88%E3%80%82%3C/p%3E%3Cp%3E%3Ccode%3ELinkedList%3C/code%3E%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%B8%8D%E5%BA%94%E8%AF%A5%E7%94%A8%E4%BA%8E%E9%82%A3%E4%BA%9B%E9%9C%80%E8%A6%81%E9%A2%91%E7%B9%81%E8%AF%BB%E5%8F%96%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%81%9A%E6%8F%92%E5%85%A5%E6%88%96%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C%E3%80%82%3C/p%3E%3Ch2%20id=%22Binary-Heaps%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Binary-Heaps%22%3E%C2%B6%3C/a%3EBinary%20Heaps%3C/h2%3E%3Cp%3E%E8%AE%BF%E9%97%AE%E9%9B%86%E5%90%88%E8%BF%98%E6%9C%89%E5%8F%A6%E5%A4%96%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%8C%E5%8D%B3%E6%89%80%E8%B0%93%E7%9A%84%E2%80%9C%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E2%80%9D%E3%80%82%E5%AE%83%E5%87%BA%E7%8E%B0%E5%9C%A8%E4%BB%85%E6%9C%89%E4%B8%A4%E4%B8%AA%E5%87%BD%E6%95%B0%E7%9A%84%E5%9C%B0%E6%96%B9%EF%BC%9A%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%E5%92%8C%E8%90%83%E5%8F%96%E5%85%83%E7%B4%A0%E3%80%82%E4%BD%86%E6%AF%8F%E4%B8%AA%E5%85%83%E7%B4%A0%E9%83%BD%E6%9C%89%E4%BC%98%E5%85%88%E5%80%BC%EF%BC%8C%E8%90%83%E5%8F%96(extract)%E5%85%83%E7%B4%A0%E9%9C%80%E8%A6%81%E6%A0%B9%E6%8D%AE%E4%BC%98%E5%85%88%E7%BA%A7%E8%8E%B7%E5%8F%96%E3%80%82%E4%BD%BF%E7%94%A8Vector%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%B1%BB%E4%BC%BC%E4%B8%8B%E9%9D%A2%E8%BF%99%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%8C%85%E5%90%AB%E8%BF%99%E7%A7%8D%E8%A1%8C%E4%B8%BA%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eadd%3C/span%3E(v:%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E&amp;gt;,%20a:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(a);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Esort%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20[%3Cspan%20class=%22number%22%3E48%3C/span%3E,%20%3Cspan%20class=%22number%22%3E18%3C/span%3E,%20%3Cspan%20class=%22number%22%3E20%3C/span%3E,%20%3Cspan%20class=%22number%22%3E35%3C/span%3E,%20%3Cspan%20class=%22number%22%3E17%3C/span%3E,%20%3Cspan%20class=%22number%22%3E13%3C/span%3E,%20%3Cspan%20class=%22number%22%3E39%3C/span%3E,%20%3Cspan%20class=%22number%22%3E12%3C/span%3E,%20%3Cspan%20class=%22number%22%3E42%3C/span%3E,%20%3Cspan%20class=%22number%22%3E33%3C/span%3E,%20%3Cspan%20class=%22number%22%3E29%3C/span%3E,%20%3Cspan%20class=%22number%22%3E27%3C/span%3E,%20%3Cspan%20class=%22number%22%3E50%3C/span%3E,%20%3Cspan%20class=%22number%22%3E16%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E::&amp;lt;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..a.%3Cspan%20class=%22title%20function_%20invoke__%22%3Elen%3C/span%3E()%20/%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3Eadd%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20v,%20a[i%20*%20%3Cspan%20class=%22number%22%3E2%3C/span%3E]);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22title%20function_%20invoke__%22%3Eadd%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20v,%20a[i%20*%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%20+%20%3Cspan%20class=%22number%22%3E1%3C/span%3E]);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;quot;%3C/span%3E,%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E().%3Cspan%20class=%22title%20function_%20invoke__%22%3Eunwrap%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Ewhile%3C/span%3E%20!%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eis_empty%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;quot;%3C/span%3E,%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E().%3Cspan%20class=%22title%20function_%20invoke__%22%3Eunwrap%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%AF%8F%E6%AC%A1%E5%B0%86%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E6%B7%BB%E5%8A%A0%E5%88%B0vector%E6%97%B6%EF%BC%8Cvector%E9%83%BD%E8%BF%9B%E8%A1%8C%E4%B8%80%E6%AC%A1%E6%8E%92%E5%BA%8F%EF%BC%8C%E5%AE%83%E7%9A%84%E5%85%83%E7%B4%A0%E4%BF%9D%E6%8C%81%E5%8D%87%E9%98%B6%E7%9A%84%E9%A1%BA%E5%BA%8F%E3%80%82%E6%89%80%E4%BB%A5vector%E7%9A%84%E5%80%BC%E7%9A%84%E8%90%83%E5%8F%96%E4%B9%9F%E6%80%BB%E5%8F%AF%E4%BB%A5%E5%BE%97%E5%88%B0%E6%9C%80%E5%A4%A7%E5%80%BC%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AF%E5%8F%A6%E4%B8%80%E7%A7%8D%E7%AD%89%E4%BB%B7%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%8F%AA%E4%B8%8D%E8%BF%87%E6%98%AF%E5%9C%A8%E8%90%83%E5%8F%96%E5%89%8D%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eextract%3C/span%3E(v:%20&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E&amp;lt;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E&amp;gt;)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20OPtion&amp;lt;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Esort%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20[%3Cspan%20class=%22number%22%3E48%3C/span%3E,%20%3Cspan%20class=%22number%22%3E18%3C/span%3E,%20%3Cspan%20class=%22number%22%3E20%3C/span%3E,%20%3Cspan%20class=%22number%22%3E35%3C/span%3E,%20%3Cspan%20class=%22number%22%3E17%3C/span%3E,%20%3Cspan%20class=%22number%22%3E13%3C/span%3E,%20%3Cspan%20class=%22number%22%3E39%3C/span%3E,%20%3Cspan%20class=%22number%22%3E12%3C/span%3E,%20%3Cspan%20class=%22number%22%3E42%3C/span%3E,%20%3Cspan%20class=%22number%22%3E33%3C/span%3E,%20%3Cspan%20class=%22number%22%3E29%3C/span%3E,%20%3Cspan%20class=%22number%22%3E27%3C/span%3E,%20%3Cspan%20class=%22number%22%3E50%3C/span%3E,%20%3Cspan%20class=%22number%22%3E16%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E::&amp;lt;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..a.%3Cspan%20class=%22title%20function_%20invoke__%22%3Elen%3C/span%3E()%20/%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(a[i%20*%20%3Cspan%20class=%22number%22%3E2%3C/span%3E]);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(a[i%20*%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%20+%20%3Cspan%20class=%22number%22%3E1%3C/span%3E]);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eextract%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20v).%3Cspan%20class=%22title%20function_%20invoke__%22%3Eunwrap%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Ewhile%3C/span%3E%20!%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eis_empty%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eextract%3C/span%3E(&amp;amp;%3Cspan%20class=%22keyword%22%3Emut%3C/span%3E%20v).%3Cspan%20class=%22title%20function_%20invoke__%22%3Eunwrap%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E4%B8%A4%E4%B8%AA%E4%BB%A3%E7%A0%81%E9%83%BD%E6%9C%89%E4%B8%8D%E5%A5%BD%E4%B9%8B%E5%A4%84%E5%9C%A8%E4%BA%8E%E9%A2%91%E7%B9%81%E8%B0%83%E7%94%A8%E4%BA%86%3Ccode%3Esort%3C/code%3E%E5%87%BD%E6%95%B0%EF%BC%8C%E5%AE%83%E6%9C%89%E8%BE%83%E5%A4%A7%E6%B6%88%E8%80%97%E3%80%82%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AF%E4%B8%80%E4%B8%AA%E7%AD%89%E4%BB%B7%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%B9%B6%E4%B8%94%E6%9B%B4%E5%BF%AB%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ea%3C/span%3E%20=%20[%3Cspan%20class=%22number%22%3E48%3C/span%3E,%20%3Cspan%20class=%22number%22%3E18%3C/span%3E,%20%3Cspan%20class=%22number%22%3E20%3C/span%3E,%20%3Cspan%20class=%22number%22%3E35%3C/span%3E,%20%3Cspan%20class=%22number%22%3E17%3C/span%3E,%20%3Cspan%20class=%22number%22%3E13%3C/span%3E,%20%3Cspan%20class=%22number%22%3E39%3C/span%3E,%20%3Cspan%20class=%22number%22%3E12%3C/span%3E,%20%3Cspan%20class=%22number%22%3E42%3C/span%3E,%20%3Cspan%20class=%22number%22%3E33%3C/span%3E,%20%3Cspan%20class=%22number%22%3E29%3C/span%3E,%20%3Cspan%20class=%22number%22%3E27%3C/span%3E,%20%3Cspan%20class=%22number%22%3E50%3C/span%3E,%20%3Cspan%20class=%22number%22%3E16%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20std::collections::BinaryHeap::&amp;lt;%3Cspan%20class=%22type%22%3Ei32%3C/span%3E&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..a.%3Cspan%20class=%22title%20function_%20invoke__%22%3Elen%3C/span%3E()%20/%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(a[i%20*%20%3Cspan%20class=%22number%22%3E2%3C/span%3E]);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(a[i%20*%20%3Cspan%20class=%22number%22%3E2%3C/span%3E%20+%20%3Cspan%20class=%22number%22%3E1%3C/span%3E]);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;quot;%3C/span%3E,%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E().%3Cspan%20class=%22title%20function_%20invoke__%22%3Eunwrap%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Ewhile%3C/span%3E%20!%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eis_empty%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&amp;#123;&amp;#125;%20&amp;quot;%3C/span%3E,%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epop%3C/span%3E().%3Cspan%20class=%22title%20function_%20invoke__%22%3Eunwrap%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E8%BF%99%E9%87%8C%E7%9A%84%E4%BA%8C%E5%8F%89%E5%A0%86(binary%20heap)%E7%B1%BB%E4%BC%BCvector%E4%B8%80%E6%A0%B7%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%B0%83%E7%94%A8%3Ccode%3Epush%3C/code%3E%E5%92%8C%3Ccode%3Epop%3C/code%3E%E5%87%BD%E6%95%B0%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E6%98%AF%EF%BC%8C%E4%BA%8C%E5%8F%89%E5%A0%86%E7%9A%84%3Ccode%3Epop%3C/code%3E%E5%87%BD%E6%95%B0%E8%90%83%E5%8F%96%E7%9A%84%E6%98%AF%E5%AE%B9%E5%99%A8%E4%B8%AD%E6%9C%80%E5%A4%A7%E7%9A%84%E5%80%BC%E3%80%82%3C/p%3E%3Ch2%20id=%22Ordered-Sets-and-Unordered-Sets%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Ordered-Sets-and-Unordered-Sets%22%3E%C2%B6%3C/a%3EOrdered%20Sets%20and%20Unordered%20Sets%3C/h2%3E%3Cp%3E%E9%9B%86%E5%90%88%E6%A6%82%E5%BF%B5%E4%B8%AD%E7%9A%84Set%E6%98%AF%E4%B8%80%E7%A7%8D%E4%B8%8D%E5%8C%85%E5%90%AB%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0%E7%9A%84%E6%A6%82%E5%BF%B5%EF%BC%8C%E5%AD%98%E5%82%A8%E8%BF%99%E4%B8%AA%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%80%E4%B8%AA%E9%AB%98%E6%95%88%E5%AE%9E%E7%8E%B0%E6%98%AF%E2%80%9Chashtable%E2%80%9D%EF%BC%8C%E5%AF%B9%E5%BA%94%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E7%9A%84%3Ccode%3EHashSet%3C/code%3E%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Earr%3C/span%3E%20=%20[%3Cspan%20class=%22number%22%3E6%3C/span%3E,%20%3Cspan%20class=%22number%22%3E8%3C/span%3E,%20%3Cspan%20class=%22number%22%3E2%3C/span%3E,%20%3Cspan%20class=%22number%22%3E8%3C/span%3E,%20%3Cspan%20class=%22number%22%3E4%3C/span%3E,%20%3Cspan%20class=%22number%22%3E9%3C/span%3E,%20%3Cspan%20class=%22number%22%3E6%3C/span%3E,%20%3Cspan%20class=%22number%22%3E1%3C/span%3E,%20%3Cspan%20class=%22number%22%3E8%3C/span%3E,%20%3Cspan%20class=%22number%22%3E0%3C/span%3E];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E::&amp;lt;_&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ehs%3C/span%3E%20=%20std::collections::HashSet::&amp;lt;_&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ebs%3C/span%3E%20=%20std::collections::BTreeSet::&amp;lt;_&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20arr.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eiter%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ehs.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ebs.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(i);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Vec:&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eiter%3C/span%3E()%20&amp;#123;%20%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20i);%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;.%20&amp;#123;:?&amp;#125;,%20v);%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22string%22%3Eprint!(&amp;quot;%3C/span%3EHashSet%20:%3Cspan%20class=%22string%22%3E&amp;quot;);%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22string%22%3Efor%20i%20in%20hs.iter()%20&amp;#123;%20print!(&amp;quot;%3C/span%3E%20&amp;#123;&amp;#125;%3Cspan%20class=%22string%22%3E&amp;quot;,%20i);%20&amp;#125;%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22string%22%3Eprintln!(&amp;quot;%3C/span%3E.%20&amp;#123;:?&amp;#125;,%20hs);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;BTreeSet:&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20bs.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eiter%3C/span%3E()%20&amp;#123;%20%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20i);%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;.%20&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20bs);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%BC%9A%E6%89%93%E5%8D%B0%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20plaintext%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3EVec:%206%208%202%208%204%209%206%201%208%200.%20[6,%208,%202,%208,%204,%209,%206,%201,%208,%200]%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EHashSet%20:%208%202%209%206%204%200%201.%20&amp;#123;8,%202,%209,%206,%204,%200,%201&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EBTreeSet:%200%201%202%204%206%208%209.%20&amp;#123;0,%201,%202,%204,%206,%208,%209&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ccode%3EVec%20v%3C/code%3E%E9%9B%86%E5%90%88%E5%8C%85%E5%90%AB%E6%89%80%E6%9C%89%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%EF%BC%8C%E4%BF%9D%E7%95%99%E6%8F%92%E5%85%A5%E9%A1%BA%E5%BA%8F%EF%BC%9B%3Ccode%3EHashset%20hs%3C/code%3E%E9%9B%86%E5%90%88%E4%B8%8D%E5%8C%85%E5%90%AB%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0%EF%BC%9B%3Ccode%3EBTreeSet%20bs%3C/code%3E%E8%BF%9B%E8%A1%8C%E4%BA%86%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E41%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E42%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eelapsed_ms%3C/span%3E(t1:%20Instant,%20t2:%20Instant)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et%3C/span%3E%20=%20t2%20-%20t1;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20t.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eas_secs%3C/span%3E()%20%3Cspan%20class=%22keyword%22%3Eas%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20*%20%3Cspan%20class=%22number%22%3E1000%3C/span%3E.%20+%20t.%3Cspan%20class=%22title%20function_%20invoke__%22%3Esubsec_nanos%3C/span%3E()%20%3Cspan%20class=%22keyword%22%3Eas%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20/%20%3Cspan%20class=%22number%22%3E1e6%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Econst%3C/span%3E%20SIZE:%20%3Cspan%20class=%22type%22%3Ei32%3C/span%3E%20=%20%3Cspan%20class=%22number%22%3E40_000%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ens_per_op%3C/span%3E(t1:%20Instant,%20t2:%20Instant)%20%3Cspan%20class=%22punctuation%22%3E-&amp;gt;%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Eelapsed_ms%3C/span%3E(t1,%20t2)%20/%20SIZE%20%3Cspan%20class=%22keyword%22%3Eas%3C/span%3E%20%3Cspan%20class=%22type%22%3Ef64%3C/span%3E%20*%20%3Cspan%20class=%22number%22%3E1_000_000%3C/span%3E.%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efn%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emain%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E::&amp;lt;_&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ehs%3C/span%3E%20=%20std::collections::HashSet::&amp;lt;_&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ebs%3C/span%3E%20=%20std::collections::BTreeSet::&amp;lt;_&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et0%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E(i);%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et1%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%20hs.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(i);%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et2%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%20bs.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(i);%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et3%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20!%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Econtains%3C/span%3E(&amp;amp;i)%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E;%20&amp;#125;%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et4%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eswap%3C/span%3E(%3Cspan%20class=%22number%22%3E10_000%3C/span%3E,%20%3Cspan%20class=%22number%22%3E20_000%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Esort%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et5%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Ebinary_search%3C/span%3E(&amp;amp;i).%3Cspan%20class=%22title%20function_%20invoke__%22%3Eis_err%3C/span%3E()%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E;%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et6%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20!%20hs.%3Cspan%20class=%22title%20function_%20invoke__%22%3Econtains%3C/span%3E(&amp;amp;i)%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E;%20&amp;#125;%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et7%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E..SIZE%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20!%20bs.%3Cspan%20class=%22title%20function_%20invoke__%22%3Econtains%3C/span%3E(&amp;amp;i)%20&amp;#123;%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E;%20&amp;#125;%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Et8%3C/span%3E%20=%20Instant::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enow%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Pushes%20in%20Vec:%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ens_per_op%3C/span%3E(t0,%20t1));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Insertions%20in%20HashSet:%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ens_per_op%3C/span%3E(t1,%20t2));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Insertions%20in%20BTreeSet:%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ens_per_op%3C/span%3E(t2,%20t3));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Linear%20search%20in%20Vec:%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ens_per_op%3C/span%3E(t3,%20t4));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Sort%20of%20Vec:%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ens_per_op%3C/span%3E(t4,%20t5));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Binary%20search%20in%20Vec:%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ens_per_op%3C/span%3E(t5,%20t6));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Search%20in%20HashSet:%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ens_per_op%3C/span%3E(t6,%20t7));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Search%20in%20BTreeSet:%20&amp;#123;&amp;#125;&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22title%20function_%20invoke__%22%3Ens_per_op%3C/span%3E(t7,%20t8));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%B0%86%E4%BC%9A%E6%89%93%E5%8D%B0%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20plaintext%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3EPushes%20in%20Vec:%206.4021%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EInsertions%20in%20HashSet:%20139.214%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EInsertions%20in%20BTreeSet:%20127.3047%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ELinear%20search%20in%20Vec:%2017389.3111%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ESort%20of%20Vec:%203.1132%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EBinary%20search%20in%20Vec:%2047.7641%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ESearch%20in%20HashSet:%2036.5041%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ESearch%20in%20BTreeSet:%2056.2444%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%A0%88%E9%A1%B6%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%EF%BC%8C%E8%8A%B1%E8%B4%B96%E7%BA%B3%E7%A7%92%EF%BC%8C%3Ccode%3EHashSet%3C/code%3E%E5%92%8C%3Ccode%3EBTreeSet%3C/code%3E%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%EF%BC%8C%E8%8A%B1%E8%B4%B9%E6%8E%A5%E8%BF%9120%E5%80%8D%E3%80%82%3C/p%3E%3Cp%3E%E7%BA%BF%E6%80%A7%E6%96%B9%E5%BC%8F%E6%90%9C%E7%B4%A2vector%EF%BC%8C%E8%8A%B1%E8%B4%B9%E6%97%B6%E9%97%B4%E9%9D%9E%E5%B8%B8%E5%A4%A7%EF%BC%8C%E6%94%B9%E4%B8%BA%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95%E5%90%8E%EF%BC%8C%E5%B9%B3%E5%9D%87%E5%9C%A850%E7%BA%B3%E7%A7%92%E7%9A%84%E6%97%B6%E9%97%B4%E3%80%82%E6%89%80%E4%BB%A5%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%8F%92%E5%85%A5%E6%AF%94%E6%9F%A5%E6%89%BE%E5%B0%91%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%8C%E6%AF%8F%E6%AC%A1%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%E4%B9%8B%E5%90%8E%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F%EF%BC%8C%E5%86%8D%E7%94%A8%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E4%BC%9A%E6%9B%B4%E5%8A%A0%E9%AB%98%E6%95%88%E3%80%82%3C/p%3E%3Cp%3E%3Ccode%3EHashSet%3C/code%3E%E7%9A%84%E6%9F%A5%E6%89%BE%E8%8A%B1%E8%B4%B940%E7%BA%B3%E7%A7%92%E5%B7%A6%E5%8F%B3%EF%BC%9B%3Ccode%3EBTreeSet%3C/code%3E%E7%9A%84%E6%9F%A5%E6%89%BE%E8%8A%B1%E8%B4%B9%E6%8E%A5%E8%BF%9160%E7%BA%B3%E7%A7%92%E5%B7%A6%E5%8F%B3%E3%80%82%3C/p%3E%3Cp%3E%E4%BC%98%E5%8C%96%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E5%8E%9F%E5%88%99%E6%98%AF%EF%BC%8C%3C/p%3E%3Cp%3E%E9%A6%96%E5%85%88%E5%A3%B0%E6%98%8E%E4%B8%80%E4%B8%AAtrait%EF%BC%8C%E5%AE%83%E5%8C%85%E5%90%AB%E6%9C%89%E8%AF%A5%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E6%96%B9%E6%B3%95%E7%AD%BE%E5%90%8D%EF%BC%8C%E6%8E%A5%E7%9D%80%E5%AE%9E%E7%8E%B0%E8%BF%99%E4%B8%AAtrait%EF%BC%8C%E5%86%8D%E6%B5%8B%E8%AF%95%E8%BF%99%E4%B8%AAtrait%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95%E7%9A%84%E6%80%A7%E8%83%BD%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%80%A7%E8%83%BD%E5%A4%AA%E4%BD%8E%E3%80%82%E9%87%8D%E6%9E%84%E4%BB%A3%E7%A0%81%E8%BF%9B%E8%A1%8C%E4%BC%98%E5%8C%96%EF%BC%8C%E7%9F%A5%E9%81%93%E6%BB%A1%E6%84%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E3%80%82%3C/p%3E%3Ch2%20id=%22Ordered-Dictionaries-and-Unordered-Dictionaries%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Ordered-Dictionaries-and-Unordered-Dictionaries%22%3E%C2%B6%3C/a%3EOrdered%20Dictionaries%20and%20Unordered%20Dictionaries%3C/h2%3E%3Cp%3E%E9%9B%86%E5%90%88%E5%A4%84%E7%90%86%E7%AE%80%E5%8D%95%E7%9A%84%E5%AD%98%E5%82%A8%E3%80%81%E8%AE%BF%E9%97%AE%E4%BD%BF%E7%94%A8%E5%A4%96%EF%BC%8C%E5%8F%A6%E4%B8%80%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%94%A8%E6%B3%95%E6%98%AF%E2%80%9C%E5%AD%97%E5%85%B8%E2%80%9D%EF%BC%8C%E5%8D%B3%E7%94%B1%E2%80%9Ckey%E2%80%9D%E8%BF%9B%E8%A1%8C%E8%AE%BF%E9%97%AE%E3%80%82%3C/p%3E%3Cp%3E%E5%AD%97%E5%85%B8%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%81%9A%E6%98%AFkey-value%E5%AF%B9%EF%BC%8C%E5%AE%83%E7%9A%84%E5%A4%84%E7%90%86%E7%94%B1key%E5%86%B3%E5%AE%9A%E3%80%82%E6%89%80%E4%BB%A5%EF%BC%8C%E5%AD%97%E5%85%B8%E4%B8%8D%E8%83%BD%E6%9C%89%E4%B8%A4%E4%B8%AA%E7%9B%B8%E5%90%8C%E7%9A%84key%E3%80%82%3C/p%3E%3Cp%3ERust%E6%A0%87%E5%87%86%E5%BA%93%E4%B8%AD%E6%8F%90%E4%BE%9B%E4%BA%86%3Ccode%3EHashMap%3C/code%3E%E5%92%8C%3Ccode%3EBTreeMap%3C/code%3E%E7%9A%84%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%EF%BC%8C%E7%B1%BB%E5%90%8C%E4%BA%8E%3Ccode%3EHashSet%3C/code%3E%EF%BC%8C%3Ccode%3EHashMap%3C/code%3E%E4%B8%8D%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F%EF%BC%8C%E4%BD%86%E9%80%9F%E5%BA%A6%E8%BE%83%E5%BF%AB%EF%BC%9B%3Ccode%3EBTreeMap%3C/code%3E%E8%BE%83%E6%85%A2%EF%BC%8C%E4%BD%86%E6%8C%89%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20rust%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22variable%22%3Earr%3C/span%3E%20=%20[(%3Cspan%20class=%22number%22%3E640%3C/span%3E,%20%3Cspan%20class=%22string%22%3E&amp;#x27;T&amp;#x27;%3C/span%3E),%20(%3Cspan%20class=%22number%22%3E917%3C/span%3E,%20%3Cspan%20class=%22string%22%3E&amp;#x27;C&amp;#x27;%3C/span%3E),%20(%3Cspan%20class=%22number%22%3E412%3C/span%3E,%20%3Cspan%20class=%22string%22%3E&amp;#x27;S&amp;#x27;%3C/span%3E),%20(%3Cspan%20class=%22number%22%3E670%3C/span%3E,%20%3Cspan%20class=%22string%22%3E&amp;#x27;T&amp;#x27;%3C/span%3E),%20(%3Cspan%20class=%22number%22%3E917%3C/span%3E,%20%3Cspan%20class=%22string%22%3E&amp;#x27;L&amp;#x27;%3C/span%3E)];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ev%3C/span%3E%20=%20%3Cspan%20class=%22type%22%3EVec%3C/span%3E::&amp;lt;_&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ehs%3C/span%3E%20=%20std::collections::HashMap::&amp;lt;_,%20_&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Elet%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Emut%20%3C/span%3E%3Cspan%20class=%22variable%22%3Ebs%3C/span%3E%20=%20std::collections::BTreeMap::&amp;lt;_,%20_&amp;gt;::%3Cspan%20class=%22title%20function_%20invoke__%22%3Enew%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20&amp;amp;(key,%20value)%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20arr.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eiter%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ev.%3Cspan%20class=%22title%20function_%20invoke__%22%3Epush%3C/span%3E((key,%20value));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ehs.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(key,%20value);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Ebs.%3Cspan%20class=%22title%20function_%20invoke__%22%3Einsert%3C/span%3E(key,%20value);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Vec:&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20&amp;amp;(key,%20value)%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20v.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eiter%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;#123;&amp;#125;:%20&amp;#123;&amp;#125;,&amp;quot;%3C/span%3E,%20key,%20value);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&#92;n%20&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20v);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;HashMap:&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20(key,%20value)%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20hs.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eiter%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;#123;&amp;#125;:%20&amp;#123;&amp;#125;,&amp;quot;%3C/span%3E,%20key,%20value);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&#92;n%20&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20hs);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;BTreeMap:&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20(key,%20value)%20%3Cspan%20class=%22keyword%22%3Ein%3C/span%3E%20bs.%3Cspan%20class=%22title%20function_%20invoke__%22%3Eiter%3C/span%3E()%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprint!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;%20&amp;#123;&amp;#125;:%20&amp;#123;&amp;#125;,&amp;quot;%3C/span%3E,%20key,%20value);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22built_in%22%3Eprintln!%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;&#92;n%20&amp;#123;:?&amp;#125;&amp;quot;%3C/span%3E,%20bs);%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E7%BB%93%E6%9E%9C%E6%89%93%E5%8D%B0%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20plaintext%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3EVec:%20640:%20T,%20917:%20C,%20412:%20S,%20670:%20T,%20917:%20L,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20[(640,%20&amp;#x27;T&amp;#x27;),%20(917,%20&amp;#x27;C&amp;#x27;),%20(412,%20&amp;#x27;S&amp;#x27;),%20(670,%20&amp;#x27;T&amp;#x27;),%20(917,%20&amp;#x27;L&amp;#x27;)]%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EHashMap:%20640:%20T,%20412:%20S,%20917:%20L,%20670:%20T,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20&amp;#123;640:%20&amp;#x27;T&amp;#x27;,%20412:%20&amp;#x27;S&amp;#x27;,%20917:%20&amp;#x27;L&amp;#x27;,%20670:%20&amp;#x27;T&amp;#x27;&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EBTreeMap:%20412:%20S,%20640:%20T,%20670:%20T,%20917:%20L,%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20&amp;#123;412:%20&amp;#x27;S&amp;#x27;,%20640:%20&amp;#x27;T&amp;#x27;,%20670:%20&amp;#x27;T&amp;#x27;,%20917:%20&amp;#x27;L&amp;#x27;&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%AD%97%E5%85%B8%E4%B8%AD%E4%B8%8D%E5%85%81%E8%AE%B8%E9%87%8D%E5%A4%8D%E7%9A%84key%EF%BC%8C%E4%BD%86%E5%85%81%E8%AE%B8%E9%87%8D%E5%A4%8D%E7%9A%84value%EF%BC%8C%E4%BB%A5%E5%8F%8A%3Ccode%3EBTreeMap%3C/code%3E%E6%8C%89%E7%85%A7key%E9%A1%BA%E5%BA%8F%E6%8E%92%E5%88%97%EF%BC%8C%E8%80%8C%3Ccode%3EHashMap%3C/code%3E%E9%A1%BA%E5%BA%8F%E9%9A%8F%E6%9C%BA%E3%80%82%3C/p%3E%3Cp%3E%E5%AE%83%E4%BB%AC%E7%9A%84%E6%80%A7%E8%83%BD%E7%B1%BB%E4%BC%BC%E4%BA%8E%3Ccode%3EHashSet%3C/code%3E%E5%92%8C%3Ccode%3EBTreeSet%3C/code%3E%E3%80%82%3C/p%3E%3Ch2%20id=%22Collections-in-C-and-in-Rust%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#Collections-in-C-and-in-Rust%22%3E%C2%B6%3C/a%3ECollections%20in%20C++%20and%20in%20Rust%3C/h2%3E%3Cp%3EC++%E6%A0%87%E5%87%86%E5%BA%93%E4%B8%AD%E5%AF%B9%E5%BA%94Rust%E9%9B%86%E5%90%88%E5%88%97%E8%A1%A8%E5%A6%82%E4%B8%8B%EF%BC%8C%E6%9F%90%E4%BA%9B%E9%9B%86%E5%90%88%E5%BA%93%E5%9C%A8Rust%E4%B8%AD%E5%B9%B6%E6%B2%A1%E6%9C%89%E5%AF%B9%E5%BA%94%EF%BC%8C%E7%94%A8%3Ccode%3E~%3C/code%3E%E6%A0%87%E8%AE%B0%E8%A1%A8%E7%A4%BA%E6%9C%80%E7%9B%B8%E4%BC%BC%E7%9A%84%E9%9B%86%E5%90%88%EF%BC%8C%3C/p%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%20style=%22text-align:left%22%3EC++%3C/th%3E%3Cth%20style=%22text-align:left%22%3ERust%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Earray&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3E[T]%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Evector&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EVec&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Edeque&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EVecDeque&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Eforward_list&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3E~%20LinkedList&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Elist&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3ELinkedList&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Estack&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3E~%20Vec&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Equeue&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3E~%20VecDeque&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Epriority_queue&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EBinaryHeap&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Eset&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EBTreeSet&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Emultiset&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3E~%20BTreeMap&amp;lt;T,u32&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Emap&amp;lt;K,V&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EBTreeMap&amp;lt;K,V&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Emultimap&amp;lt;K,V&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3E~%20BTreeMap&amp;lt;K,%20(V,u32)&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Eunordered_set&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EHashSet&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Eunordered_multiset&amp;lt;T&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3E~%20HashMap&amp;lt;T,u32&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Eunordered_map&amp;lt;K,V&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EHashMap&amp;lt;K,V&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3Eunordered_multimap&amp;lt;K,V&amp;gt;%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3E~%20HashMap&amp;lt;K,(V,u32)&amp;gt;%3C/code%3E%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E" type="image"/>
    
    
    <category term="learning" scheme="https://galudisu.info/categories/learning/"/>
    
    
    <category term="rust" scheme="https://galudisu.info/tags/rust/"/>
    
  </entry>
  
</feed>
