<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>简单易懂の现代魔法</title>
  
  
  <link href="https://galudisu.info/atom.xml" rel="self"/>
  
  <link href="https://galudisu.info/"/>
  <updated>2025-05-13T11:42:09.621Z</updated>
  <id>https://galudisu.info/</id>
  
  <author>
    <name>barudisshu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>访问者模式(Visitor Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/Visitor/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/Visitor/</id>
    <published>2025-05-10T12:25:11.000Z</published>
    <updated>2025-05-13T11:42:09.621Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
</summary>
      
    
    
    <content src="https://galudisu.info/%3Cspan%20id=%22more%22%3E%3C/span%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="visitor" scheme="https://galudisu.info/tags/visitor/"/>
    
  </entry>
  
  <entry>
    <title>责任链模式(Chain of responsibility Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/ChainOfResponsibility/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/ChainOfResponsibility/</id>
    <published>2025-05-10T12:25:10.000Z</published>
    <updated>2025-05-13T11:41:48.056Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
</summary>
      
    
    
    <content src="https://galudisu.info/%3Cspan%20id=%22more%22%3E%3C/span%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="chain of responsibility" scheme="https://galudisu.info/tags/chain-of-responsibility/"/>
    
  </entry>
  
  <entry>
    <title>策略模式(Strategy Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/Strategy/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/Strategy/</id>
    <published>2025-05-10T12:25:09.000Z</published>
    <updated>2025-05-13T11:41:44.636Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
</summary>
      
    
    
    <content src="https://galudisu.info/%3Cspan%20id=%22more%22%3E%3C/span%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="strategy" scheme="https://galudisu.info/tags/strategy/"/>
    
  </entry>
  
  <entry>
    <title>状态模式(State Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/State/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/State/</id>
    <published>2025-05-10T12:25:08.000Z</published>
    <updated>2025-05-13T11:41:44.633Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
</summary>
      
    
    
    <content src="https://galudisu.info/%3Cspan%20id=%22more%22%3E%3C/span%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="state" scheme="https://galudisu.info/tags/state/"/>
    
  </entry>
  
  <entry>
    <title>解析器模式(Interpreter Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/Interpreter/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/Interpreter/</id>
    <published>2025-05-10T12:25:07.000Z</published>
    <updated>2025-05-13T11:41:44.630Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
</summary>
      
    
    
    <content src="https://galudisu.info/%3Cspan%20id=%22more%22%3E%3C/span%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="interpreter" scheme="https://galudisu.info/tags/interpreter/"/>
    
  </entry>
  
  <entry>
    <title>备忘录模式(Memento Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/Memento/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/Memento/</id>
    <published>2025-05-10T12:25:06.000Z</published>
    <updated>2025-05-13T11:40:06.614Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
</summary>
      
    
    
    <content src="https://galudisu.info/%3Cspan%20id=%22more%22%3E%3C/span%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="memento" scheme="https://galudisu.info/tags/memento/"/>
    
  </entry>
  
  <entry>
    <title>中介模式(Mediator Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/Mediator/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/Mediator/</id>
    <published>2025-05-10T12:25:05.000Z</published>
    <updated>2025-05-13T11:39:37.832Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
</summary>
      
    
    
    <content src="https://galudisu.info/%3Cspan%20id=%22more%22%3E%3C/span%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="mediator" scheme="https://galudisu.info/tags/mediator/"/>
    
  </entry>
  
  <entry>
    <title>观察者模式(Observer Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/Observer/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/Observer/</id>
    <published>2025-05-10T12:25:04.000Z</published>
    <updated>2025-05-13T16:32:00.610Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>定义了对象之间的一对多的依赖，这样一来，当一个对象改变时，它的所有的依赖者都会收到通知并自动更新。</p></blockquote><img src="/assert/puml/04f6002ad969a8a50b07a74005a40a498656cfe9ae7e2ff05ac780d2e1d911e1.svg"/><span id="more"></span><h3 id="模式结构"><a class="header-anchor" href="#模式结构">¶</a>模式结构</h3><p>以Netty为例列举下它所包含的结构。</p><table><thead><tr><th>观察者模式角色</th><th>Netty中的对应实现</th></tr></thead><tbody><tr><td><code>Subject</code></td><td><code>ChannelFuture/Future</code></td></tr><tr><td><code>Observer</code></td><td><code>GenericFutureListener/ChannelFutureListener</code></td></tr><tr><td>注册观察者方法</td><td><code>addListener()</code></td></tr><tr><td>通知观察者方法</td><td>内部调用<code>listener.operationComplete(future)</code></td></tr></tbody></table><p>简要代码示例，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 观察者接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(String message)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 被观察者</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; observers = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addObserver</span><span class="params">(Observer observer)</span> &#123;</span><br><span class="line">        observers.add(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">notifyAllObservers</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Observer observer : observers) &#123;</span><br><span class="line">            observer.update(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">changeState</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 模拟状态变化</span></span><br><span class="line">        notifyAllObservers(<span class="string">&quot;StateChanged&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;定义了对象之间的一对多的依赖，这样一来，当一个对象改变时，它的所有的依赖者都会收到通知并自动更新。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/04f6002ad969a8a50b07a74005a40a498656cfe9ae7e2ff05ac780d2e1d911e1.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E5%AE%9A%E4%B9%89%E4%BA%86%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E7%9A%84%E4%B8%80%E5%AF%B9%E5%A4%9A%E7%9A%84%E4%BE%9D%E8%B5%96%EF%BC%8C%E8%BF%99%E6%A0%B7%E4%B8%80%E6%9D%A5%EF%BC%8C%E5%BD%93%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%94%B9%E5%8F%98%E6%97%B6%EF%BC%8C%E5%AE%83%E7%9A%84%E6%89%80%E6%9C%89%E7%9A%84%E4%BE%9D%E8%B5%96%E8%80%85%E9%83%BD%E4%BC%9A%E6%94%B6%E5%88%B0%E9%80%9A%E7%9F%A5%E5%B9%B6%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/04f6002ad969a8a50b07a74005a40a498656cfe9ae7e2ff05ac780d2e1d911e1.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%22%3E%C2%B6%3C/a%3E%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%3C/h3%3E%3Cp%3E%E4%BB%A5Netty%E4%B8%BA%E4%BE%8B%E5%88%97%E4%B8%BE%E4%B8%8B%E5%AE%83%E6%89%80%E5%8C%85%E5%90%AB%E7%9A%84%E7%BB%93%E6%9E%84%E3%80%82%3C/p%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E8%A7%92%E8%89%B2%3C/th%3E%3Cth%3ENetty%E4%B8%AD%E7%9A%84%E5%AF%B9%E5%BA%94%E5%AE%9E%E7%8E%B0%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3E%3Ccode%3ESubject%3C/code%3E%3C/td%3E%3Ctd%3E%3Ccode%3EChannelFuture/Future%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%3Ccode%3EObserver%3C/code%3E%3C/td%3E%3Ctd%3E%3Ccode%3EGenericFutureListener/ChannelFutureListener%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E6%B3%A8%E5%86%8C%E8%A7%82%E5%AF%9F%E8%80%85%E6%96%B9%E6%B3%95%3C/td%3E%3Ctd%3E%3Ccode%3EaddListener()%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E9%80%9A%E7%9F%A5%E8%A7%82%E5%AF%9F%E8%80%85%E6%96%B9%E6%B3%95%3C/td%3E%3Ctd%3E%E5%86%85%E9%83%A8%E8%B0%83%E7%94%A8%3Ccode%3Elistener.operationComplete(future)%3C/code%3E%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Cp%3E%E7%AE%80%E8%A6%81%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20%E8%A7%82%E5%AF%9F%E8%80%85%E6%8E%A5%E5%8F%A3%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EObserver%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eupdate%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20message)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20%E8%A2%AB%E8%A7%82%E5%AF%9F%E8%80%85%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESubject%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20List&amp;lt;Observer&amp;gt;%20observers%20=%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EArrayList%3C/span%3E&amp;lt;&amp;gt;();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EaddObserver%3C/span%3E%3Cspan%20class=%22params%22%3E(Observer%20observer)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20observers.add(observer);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EnotifyAllObservers%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20message)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20(Observer%20observer%20:%20observers)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20observer.update(message);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EchangeState%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22comment%22%3E/%20%E6%A8%A1%E6%8B%9F%E7%8A%B6%E6%80%81%E5%8F%98%E5%8C%96%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20notifyAllObservers(%3Cspan%20class=%22string%22%3E&amp;quot;StateChanged&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="observer" scheme="https://galudisu.info/tags/observer/"/>
    
  </entry>
  
  <entry>
    <title>迭代器模式(Iterator Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/Iterator/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/Iterator/</id>
    <published>2025-05-10T12:25:03.000Z</published>
    <updated>2025-05-13T16:17:16.857Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Java和.Net编程环境中非常常用的设计模式，这种模式用于顺序访问集合对象的元素，不需要知道集合对象的底层表示，迭代器模式属于行为模式。</p></blockquote><img src="/assert/puml/c4baebd2aaff0e02900ccf53f380512097b66054967e13219e3c87667eed86f3.svg"/><span id="more"></span><h3 id="核心角色"><a class="header-anchor" href="#核心角色">¶</a>核心角色</h3><table><thead><tr><th style="text-align:left"><strong>角色</strong></th><th style="text-align:left"><strong>描述</strong></th></tr></thead><tbody><tr><td style="text-align:left"><code>Iterator</code></td><td style="text-align:left">定义遍历集合的接口，如<code>hasNext()、next()</code>等方法。</td></tr><tr><td style="text-align:left"><code>ConcreteIterator</code></td><td style="text-align:left">实现具体的遍历逻辑。</td></tr><tr><td style="text-align:left"><code>Aggregate</code></td><td style="text-align:left">聚合类接口，定义创建迭代器的方法<code>iterator()</code>。</td></tr><tr><td style="text-align:left"><code>ConcreteAggregate</code></td><td style="text-align:left">具体聚合类，返回一个与该聚合结构匹配的迭代器。</td></tr></tbody></table><h3 id="示例代码"><a class="header-anchor" href="#示例代码">¶</a>示例代码</h3><p>该模式常常用于Collection包中，譬如<code>List</code>、<code>Set</code>等实现了<code>Iterator</code>接口对其统一了行为并可以使用for/while增强。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Iterator 接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Iterator</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span>;</span><br><span class="line">    T <span class="title function_">next</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ConcreteIterator 实现</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListIterator</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Iterator</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> T[] items;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">position</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListIterator</span><span class="params">(T[] items)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.items = items;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> position &lt; items.length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> items[position++];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Aggregate 接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Aggregate</span>&lt;T&gt; &#123;</span><br><span class="line">    Iterator&lt;T&gt; <span class="title function_">iterator</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ConcreteAggregate 实现</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListAggregate</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Aggregate</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> T[] items;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListAggregate</span><span class="params">(T[] items)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.items = items;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Iterator&lt;T&gt; <span class="title function_">iterator</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ListIterator</span>&lt;&gt;(items);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Client 使用示例</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        String[] data = &#123;<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>&#125;;</span><br><span class="line">        Aggregate&lt;String&gt; aggregate = <span class="keyword">new</span> <span class="title class_">ListAggregate</span>&lt;&gt;(data);</span><br><span class="line">        Iterator&lt;String&gt; iterator = aggregate.iterator();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="特点与应用场景"><a class="header-anchor" href="#特点与应用场景">¶</a>特点与应用场景</h3><ol><li><p>优点</p><ul><li><strong>解耦集合与遍历逻辑</strong>： 客户端不需要关心具体结构即可遍历。</li><li><strong>统一接口访问</strong></li><li><strong>支持多种遍历方式</strong>： 排序、过滤filter、reduce、map、flatmap…</li></ul></li><li><p>缺点</p><ul><li>增加类的数量，系统复杂度有所增加。一般由语言本身迭代维护，譬如JDK 1.5 扩展了Iterator、JDK 8增加了Stream等等。</li></ul></li></ol>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Java和.Net编程环境中非常常用的设计模式，这种模式用于顺序访问集合对象的元素，不需要知道集合对象的底层表示，迭代器模式属于行为模式。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/c4baebd2aaff0e02900ccf53f380512097b66054967e13219e3c87667eed86f3.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3EJava%E5%92%8C.Net%E7%BC%96%E7%A8%8B%E7%8E%AF%E5%A2%83%E4%B8%AD%E9%9D%9E%E5%B8%B8%E5%B8%B8%E7%94%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%8C%E8%BF%99%E7%A7%8D%E6%A8%A1%E5%BC%8F%E7%94%A8%E4%BA%8E%E9%A1%BA%E5%BA%8F%E8%AE%BF%E9%97%AE%E9%9B%86%E5%90%88%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E9%9B%86%E5%90%88%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BA%95%E5%B1%82%E8%A1%A8%E7%A4%BA%EF%BC%8C%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%B1%9E%E4%BA%8E%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/c4baebd2aaff0e02900ccf53f380512097b66054967e13219e3c87667eed86f3.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E6%A0%B8%E5%BF%83%E8%A7%92%E8%89%B2%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A0%B8%E5%BF%83%E8%A7%92%E8%89%B2%22%3E%C2%B6%3C/a%3E%E6%A0%B8%E5%BF%83%E8%A7%92%E8%89%B2%3C/h3%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E8%A7%92%E8%89%B2%3C/strong%3E%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E6%8F%8F%E8%BF%B0%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EIterator%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%AE%9A%E4%B9%89%E9%81%8D%E5%8E%86%E9%9B%86%E5%90%88%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%A6%82%3Ccode%3EhasNext()%E3%80%81next()%3C/code%3E%E7%AD%89%E6%96%B9%E6%B3%95%E3%80%82%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EConcreteIterator%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%AE%9E%E7%8E%B0%E5%85%B7%E4%BD%93%E7%9A%84%E9%81%8D%E5%8E%86%E9%80%BB%E8%BE%91%E3%80%82%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EAggregate%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E8%81%9A%E5%90%88%E7%B1%BB%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%AE%9A%E4%B9%89%E5%88%9B%E5%BB%BA%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%9A%84%E6%96%B9%E6%B3%95%3Ccode%3Eiterator()%3C/code%3E%E3%80%82%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EConcreteAggregate%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%85%B7%E4%BD%93%E8%81%9A%E5%90%88%E7%B1%BB%EF%BC%8C%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E4%B8%8E%E8%AF%A5%E8%81%9A%E5%90%88%E7%BB%93%E6%9E%84%E5%8C%B9%E9%85%8D%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%E3%80%82%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Ch3%20id=%22%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%22%3E%C2%B6%3C/a%3E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%3C/h3%3E%3Cp%3E%E8%AF%A5%E6%A8%A1%E5%BC%8F%E5%B8%B8%E5%B8%B8%E7%94%A8%E4%BA%8ECollection%E5%8C%85%E4%B8%AD%EF%BC%8C%E8%AD%AC%E5%A6%82%3Ccode%3EList%3C/code%3E%E3%80%81%3Ccode%3ESet%3C/code%3E%E7%AD%89%E5%AE%9E%E7%8E%B0%E4%BA%86%3Ccode%3EIterator%3C/code%3E%E6%8E%A5%E5%8F%A3%E5%AF%B9%E5%85%B6%E7%BB%9F%E4%B8%80%E4%BA%86%E8%A1%8C%E4%B8%BA%E5%B9%B6%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8for/while%E5%A2%9E%E5%BC%BA%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E41%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E42%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E43%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E44%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E45%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E46%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E47%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E48%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E49%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E50%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E51%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E52%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E53%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E54%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E55%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E56%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E57%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E58%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20Iterator%20%E6%8E%A5%E5%8F%A3%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EIterator%3C/span%3E&amp;lt;T&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3Eboolean%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EhasNext%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20T%20%3Cspan%20class=%22title%20function_%22%3Enext%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20ConcreteIterator%20%E5%AE%9E%E7%8E%B0%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EListIterator%3C/span%3E&amp;lt;T&amp;gt;%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EIterator%3C/span%3E&amp;lt;T&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20T[]%20items;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eposition%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EListIterator%3C/span%3E%3Cspan%20class=%22params%22%3E(T[]%20items)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.items%20=%20items;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eboolean%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EhasNext%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20position%20&amp;lt;%20items.length;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20T%20%3Cspan%20class=%22title%20function_%22%3Enext%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20items[position++];%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20Aggregate%20%E6%8E%A5%E5%8F%A3%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAggregate%3C/span%3E&amp;lt;T&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20Iterator&amp;lt;T&amp;gt;%20%3Cspan%20class=%22title%20function_%22%3Eiterator%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20ConcreteAggregate%20%E5%AE%9E%E7%8E%B0%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EListAggregate%3C/span%3E&amp;lt;T&amp;gt;%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAggregate%3C/span%3E&amp;lt;T&amp;gt;%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20T[]%20items;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EListAggregate%3C/span%3E%3Cspan%20class=%22params%22%3E(T[]%20items)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.items%20=%20items;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20Iterator&amp;lt;T&amp;gt;%20%3Cspan%20class=%22title%20function_%22%3Eiterator%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EListIterator%3C/span%3E&amp;lt;&amp;gt;(items);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20Client%20%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EClient%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E(String[]%20args)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20String[]%20data%20=%20&amp;#123;%3Cspan%20class=%22string%22%3E&amp;quot;A&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22string%22%3E&amp;quot;B&amp;quot;%3C/span%3E,%20%3Cspan%20class=%22string%22%3E&amp;quot;C&amp;quot;%3C/span%3E&amp;#125;;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20Aggregate&amp;lt;String&amp;gt;%20aggregate%20=%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EListAggregate%3C/span%3E&amp;lt;&amp;gt;(data);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20Iterator&amp;lt;String&amp;gt;%20iterator%20=%20aggregate.iterator();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ewhile%3C/span%3E%20(iterator.hasNext())%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%20%20System.out.println(iterator.next());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Ch3%20id=%22%E7%89%B9%E7%82%B9%E4%B8%8E%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%89%B9%E7%82%B9%E4%B8%8E%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%C2%B6%3C/a%3E%E7%89%B9%E7%82%B9%E4%B8%8E%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%3C/h3%3E%3Col%3E%3Cli%3E%3Cp%3E%E4%BC%98%E7%82%B9%3C/p%3E%3Cul%3E%3Cli%3E%3Cstrong%3E%E8%A7%A3%E8%80%A6%E9%9B%86%E5%90%88%E4%B8%8E%E9%81%8D%E5%8E%86%E9%80%BB%E8%BE%91%3C/strong%3E%EF%BC%9A%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8D%E9%9C%80%E8%A6%81%E5%85%B3%E5%BF%83%E5%85%B7%E4%BD%93%E7%BB%93%E6%9E%84%E5%8D%B3%E5%8F%AF%E9%81%8D%E5%8E%86%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E7%BB%9F%E4%B8%80%E6%8E%A5%E5%8F%A3%E8%AE%BF%E9%97%AE%3C/strong%3E%3C/li%3E%3Cli%3E%3Cstrong%3E%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F%3C/strong%3E%EF%BC%9A%20%E6%8E%92%E5%BA%8F%E3%80%81%E8%BF%87%E6%BB%A4filter%E3%80%81reduce%E3%80%81map%E3%80%81flatmap%E2%80%A6%3C/li%3E%3C/ul%3E%3C/li%3E%3Cli%3E%3Cp%3E%E7%BC%BA%E7%82%B9%3C/p%3E%3Cul%3E%3Cli%3E%E5%A2%9E%E5%8A%A0%E7%B1%BB%E7%9A%84%E6%95%B0%E9%87%8F%EF%BC%8C%E7%B3%BB%E7%BB%9F%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9C%89%E6%89%80%E5%A2%9E%E5%8A%A0%E3%80%82%E4%B8%80%E8%88%AC%E7%94%B1%E8%AF%AD%E8%A8%80%E6%9C%AC%E8%BA%AB%E8%BF%AD%E4%BB%A3%E7%BB%B4%E6%8A%A4%EF%BC%8C%E8%AD%AC%E5%A6%82JDK%201.5%20%E6%89%A9%E5%B1%95%E4%BA%86Iterator%E3%80%81JDK%208%E5%A2%9E%E5%8A%A0%E4%BA%86Stream%E7%AD%89%E7%AD%89%E3%80%82%3C/li%3E%3C/ul%3E%3C/li%3E%3C/ol%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="iterator" scheme="https://galudisu.info/tags/iterator/"/>
    
  </entry>
  
  <entry>
    <title>命令模式(Command Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/Command/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/Command/</id>
    <published>2025-05-10T12:25:01.000Z</published>
    <updated>2025-05-13T15:51:06.448Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>将“请求”封装成对象，以便使用不同的请求、队列或者日志来参数化其他对象。命令模式也支持可撤离的操作。</p></blockquote><img src="/assert/puml/c87c56e507967d0b45feb709717ec9c5b3444f482eff206dcbfd4c6b9f5bf065.svg"/><span id="more"></span><h3 id="行为结构"><a class="header-anchor" href="#行为结构">¶</a>行为结构</h3><p>命令模式主要角色：</p><ol><li><code>Command(命令接口)</code>： 定义执行操作的接口，通常包含一个<code>execute()</code>方法。</li><li><code>ConcreteCommand(具体命令类)</code>： 实现<code>Command</code>接口，绑定具体的接受者对象(Receiver)，并在<code>execute()</code>方法中调用接受者的相应方法。</li><li><code>Invoker(调用者)</code>：负责调用命令对象来执行请求。</li><li><code>Receiver(接收者)</code>：实际执行命令的对象，包含业务逻辑的具体实现。</li><li><code>Client(客户端)</code>：创建具体的命令对象，并设置其接收者。</li></ol><p>示例代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Command 接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Command</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Reciver 类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Light</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">on</span><span class="params">()</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">off</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ConcreteCommand 实现</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LightOnCommand</span> <span class="keyword">implements</span> <span class="title class_">Command</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> Light light;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">LightOnCommand</span><span class="params">(Light light)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.light = light;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span> &#123;</span><br><span class="line">    light.on();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Invoker 类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RemoteControl</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> Command command;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCommand</span><span class="params">(Command command)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.command = command;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pressButton</span><span class="params">()</span> &#123;</span><br><span class="line">    command.execute();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Client 使用</span></span><br><span class="line"><span class="type">Light</span> <span class="variable">light</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Light</span>();  <span class="comment">// Receiver</span></span><br><span class="line"><span class="type">Command</span> <span class="variable">command</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LightOnCommand</span>(light);  <span class="comment">// ConcreteCommand</span></span><br><span class="line"></span><br><span class="line"><span class="type">RemoteControl</span> <span class="variable">remoteControl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RemoteControl</span>(); <span class="comment">// Invoke</span></span><br><span class="line">remoteControl.setCommand(command);</span><br><span class="line">remoteControl.pressButton();  <span class="comment">// 执行命令</span></span><br></pre></td></tr></table></figure><h3 id="特点与应用场景"><a class="header-anchor" href="#特点与应用场景">¶</a>特点与应用场景</h3><ul><li><strong>解耦请求发送者和接收者</strong>： 通过命令对象，请求发送者无需指导接收者及其具体操作，只需触发命令即可。</li><li><strong>支持撤销/重做</strong>： 可以通过记录命令历史实现撤销或重做功能。</li><li><strong>支持队列和日志</strong>： 可以将命令对象存储在队列中，按需执行；也可以记录日志以恢复状态。</li><li><strong>适合场景</strong>： GUI操作、事务回滚、人物队列等需要解耦和扩展性的场景。</li></ul><ol><li><p>优点</p><ul><li>提高了系统的灵活性和可扩展性。</li><li>支持多种高级功能(如撤销、日志记录)。</li></ul></li><li><p>缺点</p><ul><li>可能增加系统的复杂度，因为需要为每个操作定义独立的命令类。</li></ul></li></ol><h3 id="CQRS中Command的区别"><a class="header-anchor" href="#CQRS中Command的区别">¶</a>CQRS中Command的区别</h3><table><thead><tr><th style="text-align:left">对比点</th><th style="text-align:left">命令模式中的<code>Command</code></th><th style="text-align:left">CQRS中的<code>Command</code></th></tr></thead><tbody><tr><td style="text-align:left">目的</td><td style="text-align:left">封装一个操作及其参数，实现请求的排队、撤销等</td><td style="text-align:left">表示对系统状态进行更改的操作，用于写模型处理</td></tr><tr><td style="text-align:left">所属架构</td><td style="text-align:left">行为型设计模式</td><td style="text-align:left">架构风格的一部分，常配合事件溯源(Event Sourcing)使用；</td></tr><tr><td style="text-align:left">职责</td><td style="text-align:left">调用Receiver的方法执行具体逻辑</td><td style="text-align:left">发送到CommandHandler，触发聚合根修改并产生领域事件</td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;将“请求”封装成对象，以便使用不同的请求、队列或者日志来参数化其他对象。命令模式也支持可撤离的操作。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/c87c56e507967d0b45feb709717ec9c5b3444f482eff206dcbfd4c6b9f5bf065.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E5%B0%86%E2%80%9C%E8%AF%B7%E6%B1%82%E2%80%9D%E5%B0%81%E8%A3%85%E6%88%90%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%BB%A5%E4%BE%BF%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%9A%84%E8%AF%B7%E6%B1%82%E3%80%81%E9%98%9F%E5%88%97%E6%88%96%E8%80%85%E6%97%A5%E5%BF%97%E6%9D%A5%E5%8F%82%E6%95%B0%E5%8C%96%E5%85%B6%E4%BB%96%E5%AF%B9%E8%B1%A1%E3%80%82%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E4%B9%9F%E6%94%AF%E6%8C%81%E5%8F%AF%E6%92%A4%E7%A6%BB%E7%9A%84%E6%93%8D%E4%BD%9C%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/c87c56e507967d0b45feb709717ec9c5b3444f482eff206dcbfd4c6b9f5bf065.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E8%A1%8C%E4%B8%BA%E7%BB%93%E6%9E%84%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E8%A1%8C%E4%B8%BA%E7%BB%93%E6%9E%84%22%3E%C2%B6%3C/a%3E%E8%A1%8C%E4%B8%BA%E7%BB%93%E6%9E%84%3C/h3%3E%3Cp%3E%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E4%B8%BB%E8%A6%81%E8%A7%92%E8%89%B2%EF%BC%9A%3C/p%3E%3Col%3E%3Cli%3E%3Ccode%3ECommand(%E5%91%BD%E4%BB%A4%E6%8E%A5%E5%8F%A3)%3C/code%3E%EF%BC%9A%20%E5%AE%9A%E4%B9%89%E6%89%A7%E8%A1%8C%E6%93%8D%E4%BD%9C%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E9%80%9A%E5%B8%B8%E5%8C%85%E5%90%AB%E4%B8%80%E4%B8%AA%3Ccode%3Eexecute()%3C/code%3E%E6%96%B9%E6%B3%95%E3%80%82%3C/li%3E%3Cli%3E%3Ccode%3EConcreteCommand(%E5%85%B7%E4%BD%93%E5%91%BD%E4%BB%A4%E7%B1%BB)%3C/code%3E%EF%BC%9A%20%E5%AE%9E%E7%8E%B0%3Ccode%3ECommand%3C/code%3E%E6%8E%A5%E5%8F%A3%EF%BC%8C%E7%BB%91%E5%AE%9A%E5%85%B7%E4%BD%93%E7%9A%84%E6%8E%A5%E5%8F%97%E8%80%85%E5%AF%B9%E8%B1%A1(Receiver)%EF%BC%8C%E5%B9%B6%E5%9C%A8%3Ccode%3Eexecute()%3C/code%3E%E6%96%B9%E6%B3%95%E4%B8%AD%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%97%E8%80%85%E7%9A%84%E7%9B%B8%E5%BA%94%E6%96%B9%E6%B3%95%E3%80%82%3C/li%3E%3Cli%3E%3Ccode%3EInvoker(%E8%B0%83%E7%94%A8%E8%80%85)%3C/code%3E%EF%BC%9A%E8%B4%9F%E8%B4%A3%E8%B0%83%E7%94%A8%E5%91%BD%E4%BB%A4%E5%AF%B9%E8%B1%A1%E6%9D%A5%E6%89%A7%E8%A1%8C%E8%AF%B7%E6%B1%82%E3%80%82%3C/li%3E%3Cli%3E%3Ccode%3EReceiver(%E6%8E%A5%E6%94%B6%E8%80%85)%3C/code%3E%EF%BC%9A%E5%AE%9E%E9%99%85%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%8C%85%E5%90%AB%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E7%9A%84%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0%E3%80%82%3C/li%3E%3Cli%3E%3Ccode%3EClient(%E5%AE%A2%E6%88%B7%E7%AB%AF)%3C/code%3E%EF%BC%9A%E5%88%9B%E5%BB%BA%E5%85%B7%E4%BD%93%E7%9A%84%E5%91%BD%E4%BB%A4%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B9%B6%E8%AE%BE%E7%BD%AE%E5%85%B6%E6%8E%A5%E6%94%B6%E8%80%85%E3%80%82%3C/li%3E%3C/ol%3E%3Cp%3E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20Command%20%E6%8E%A5%E5%8F%A3%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECommand%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eexecute%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20Reciver%20%E7%B1%BB%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ELight%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eon%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eoff%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20ConcreteCommand%20%E5%AE%9E%E7%8E%B0%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ELightOnCommand%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECommand%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20Light%20light;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ELightOnCommand%3C/span%3E%3Cspan%20class=%22params%22%3E(Light%20light)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.light%20=%20light;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eexecute%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20light.on();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20Invoker%20%E7%B1%BB%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERemoteControl%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20Command%20command;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EsetCommand%3C/span%3E%3Cspan%20class=%22params%22%3E(Command%20command)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.command%20=%20command;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpressButton%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20command.execute();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20Client%20%E4%BD%BF%E7%94%A8%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3ELight%3C/span%3E%20%3Cspan%20class=%22variable%22%3Elight%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ELight%3C/span%3E();%20%20%3Cspan%20class=%22comment%22%3E/%20Receiver%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3ECommand%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ecommand%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ELightOnCommand%3C/span%3E(light);%20%20%3Cspan%20class=%22comment%22%3E/%20ConcreteCommand%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3ERemoteControl%3C/span%3E%20%3Cspan%20class=%22variable%22%3EremoteControl%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERemoteControl%3C/span%3E();%20%3Cspan%20class=%22comment%22%3E/%20Invoke%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EremoteControl.setCommand(command);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3EremoteControl.pressButton();%20%20%3Cspan%20class=%22comment%22%3E/%20%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%3C/span%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Ch3%20id=%22%E7%89%B9%E7%82%B9%E4%B8%8E%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%89%B9%E7%82%B9%E4%B8%8E%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%C2%B6%3C/a%3E%E7%89%B9%E7%82%B9%E4%B8%8E%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%3C/h3%3E%3Cul%3E%3Cli%3E%3Cstrong%3E%E8%A7%A3%E8%80%A6%E8%AF%B7%E6%B1%82%E5%8F%91%E9%80%81%E8%80%85%E5%92%8C%E6%8E%A5%E6%94%B6%E8%80%85%3C/strong%3E%EF%BC%9A%20%E9%80%9A%E8%BF%87%E5%91%BD%E4%BB%A4%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%AF%B7%E6%B1%82%E5%8F%91%E9%80%81%E8%80%85%E6%97%A0%E9%9C%80%E6%8C%87%E5%AF%BC%E6%8E%A5%E6%94%B6%E8%80%85%E5%8F%8A%E5%85%B6%E5%85%B7%E4%BD%93%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A7%A6%E5%8F%91%E5%91%BD%E4%BB%A4%E5%8D%B3%E5%8F%AF%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E6%94%AF%E6%8C%81%E6%92%A4%E9%94%80/%E9%87%8D%E5%81%9A%3C/strong%3E%EF%BC%9A%20%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%AE%B0%E5%BD%95%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2%E5%AE%9E%E7%8E%B0%E6%92%A4%E9%94%80%E6%88%96%E9%87%8D%E5%81%9A%E5%8A%9F%E8%83%BD%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E6%94%AF%E6%8C%81%E9%98%9F%E5%88%97%E5%92%8C%E6%97%A5%E5%BF%97%3C/strong%3E%EF%BC%9A%20%E5%8F%AF%E4%BB%A5%E5%B0%86%E5%91%BD%E4%BB%A4%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E5%9C%A8%E9%98%9F%E5%88%97%E4%B8%AD%EF%BC%8C%E6%8C%89%E9%9C%80%E6%89%A7%E8%A1%8C%EF%BC%9B%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%AE%B0%E5%BD%95%E6%97%A5%E5%BF%97%E4%BB%A5%E6%81%A2%E5%A4%8D%E7%8A%B6%E6%80%81%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E9%80%82%E5%90%88%E5%9C%BA%E6%99%AF%3C/strong%3E%EF%BC%9A%20GUI%E6%93%8D%E4%BD%9C%E3%80%81%E4%BA%8B%E5%8A%A1%E5%9B%9E%E6%BB%9A%E3%80%81%E4%BA%BA%E7%89%A9%E9%98%9F%E5%88%97%E7%AD%89%E9%9C%80%E8%A6%81%E8%A7%A3%E8%80%A6%E5%92%8C%E6%89%A9%E5%B1%95%E6%80%A7%E7%9A%84%E5%9C%BA%E6%99%AF%E3%80%82%3C/li%3E%3C/ul%3E%3Col%3E%3Cli%3E%3Cp%3E%E4%BC%98%E7%82%B9%3C/p%3E%3Cul%3E%3Cli%3E%E6%8F%90%E9%AB%98%E4%BA%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%81%B5%E6%B4%BB%E6%80%A7%E5%92%8C%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7%E3%80%82%3C/li%3E%3Cli%3E%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD(%E5%A6%82%E6%92%A4%E9%94%80%E3%80%81%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95)%E3%80%82%3C/li%3E%3C/ul%3E%3C/li%3E%3Cli%3E%3Cp%3E%E7%BC%BA%E7%82%B9%3C/p%3E%3Cul%3E%3Cli%3E%E5%8F%AF%E8%83%BD%E5%A2%9E%E5%8A%A0%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%8C%E5%9B%A0%E4%B8%BA%E9%9C%80%E8%A6%81%E4%B8%BA%E6%AF%8F%E4%B8%AA%E6%93%8D%E4%BD%9C%E5%AE%9A%E4%B9%89%E7%8B%AC%E7%AB%8B%E7%9A%84%E5%91%BD%E4%BB%A4%E7%B1%BB%E3%80%82%3C/li%3E%3C/ul%3E%3C/li%3E%3C/ol%3E%3Ch3%20id=%22CQRS%E4%B8%ADCommand%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#CQRS%E4%B8%ADCommand%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%C2%B6%3C/a%3ECQRS%E4%B8%ADCommand%E7%9A%84%E5%8C%BA%E5%88%AB%3C/h3%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%20style=%22text-align:left%22%3E%E5%AF%B9%E6%AF%94%E7%82%B9%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E4%B8%AD%E7%9A%84%3Ccode%3ECommand%3C/code%3E%3C/th%3E%3Cth%20style=%22text-align:left%22%3ECQRS%E4%B8%AD%E7%9A%84%3Ccode%3ECommand%3C/code%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E7%9B%AE%E7%9A%84%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AA%E6%93%8D%E4%BD%9C%E5%8F%8A%E5%85%B6%E5%8F%82%E6%95%B0%EF%BC%8C%E5%AE%9E%E7%8E%B0%E8%AF%B7%E6%B1%82%E7%9A%84%E6%8E%92%E9%98%9F%E3%80%81%E6%92%A4%E9%94%80%E7%AD%89%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E8%A1%A8%E7%A4%BA%E5%AF%B9%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E8%BF%9B%E8%A1%8C%E6%9B%B4%E6%94%B9%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%8C%E7%94%A8%E4%BA%8E%E5%86%99%E6%A8%A1%E5%9E%8B%E5%A4%84%E7%90%86%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E6%89%80%E5%B1%9E%E6%9E%B6%E6%9E%84%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E8%A1%8C%E4%B8%BA%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E6%9E%B6%E6%9E%84%E9%A3%8E%E6%A0%BC%E7%9A%84%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%8C%E5%B8%B8%E9%85%8D%E5%90%88%E4%BA%8B%E4%BB%B6%E6%BA%AF%E6%BA%90(Event%20Sourcing)%E4%BD%BF%E7%94%A8%EF%BC%9B%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E8%81%8C%E8%B4%A3%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E8%B0%83%E7%94%A8Receiver%E7%9A%84%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%85%B7%E4%BD%93%E9%80%BB%E8%BE%91%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%8F%91%E9%80%81%E5%88%B0CommandHandler%EF%BC%8C%E8%A7%A6%E5%8F%91%E8%81%9A%E5%90%88%E6%A0%B9%E4%BF%AE%E6%94%B9%E5%B9%B6%E4%BA%A7%E7%94%9F%E9%A2%86%E5%9F%9F%E4%BA%8B%E4%BB%B6%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="command" scheme="https://galudisu.info/tags/command/"/>
    
  </entry>
  
  <entry>
    <title>模板方法模式(Template Method Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/behavioral/TemplateMethod/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/behavioral/TemplateMethod/</id>
    <published>2025-05-10T12:25:00.000Z</published>
    <updated>2025-05-13T12:03:22.395Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>定义了一个算法的骨架，而将一些步骤延迟到子类中，模板方法使得子类可以在不改变算法结构的情况下，重新定义算法的步骤。</p></blockquote><img src="/assert/puml/389dc346451dc22b636547e791eb6837fb6110e85fcc1a75f890ee15318a9f73.svg"/><span id="more"></span><h3 id="行为结构"><a class="header-anchor" href="#行为结构">¶</a>行为结构</h3><p>先做什么，再做什么，先定义出来。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractClass</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">templateMethod</span><span class="params">()</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">    operation1();</span><br><span class="line">    operation2();</span><br><span class="line">    <span class="keyword">if</span> (hook()) &#123;   <span class="comment">// <i class="conum" data-value="2"></i></span></span><br><span class="line">      operation3();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">operation1</span><span class="params">()</span>; <span class="comment">// <i class="conum" data-value="3"></i></span></span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">operation2</span><span class="params">()</span>:</span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">operation3</span><span class="params">()</span>:</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">hook</span><span class="params">()</span> &#123;    <span class="comment">// <i class="conum" data-value="4"></i></span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> 模板方法，定义算法的框架。<br><i class="conum" data-value="2"></i> 钩子方法，这些方法在子类中可以选择性地实现。<br><i class="conum" data-value="3"></i> 抽象方法，需要子类实现。<br><i class="conum" data-value="4"></i> 钩子方法，默认实现。</p><h3 id="总结"><a class="header-anchor" href="#总结">¶</a>总结</h3><ul><li>提高了代码的复用性。</li><li>符合开闭原则(OCP)，扩展性强。</li><li>将算法的核心结构与具体实现分离。</li></ul><blockquote><p>说白了模板方法就是面向对象的抽象类实现。</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;定义了一个算法的骨架，而将一些步骤延迟到子类中，模板方法使得子类可以在不改变算法结构的情况下，重新定义算法的步骤。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/389dc346451dc22b636547e791eb6837fb6110e85fcc1a75f890ee15318a9f73.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E5%AE%9A%E4%B9%89%E4%BA%86%E4%B8%80%E4%B8%AA%E7%AE%97%E6%B3%95%E7%9A%84%E9%AA%A8%E6%9E%B6%EF%BC%8C%E8%80%8C%E5%B0%86%E4%B8%80%E4%BA%9B%E6%AD%A5%E9%AA%A4%E5%BB%B6%E8%BF%9F%E5%88%B0%E5%AD%90%E7%B1%BB%E4%B8%AD%EF%BC%8C%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E4%BD%BF%E5%BE%97%E5%AD%90%E7%B1%BB%E5%8F%AF%E4%BB%A5%E5%9C%A8%E4%B8%8D%E6%94%B9%E5%8F%98%E7%AE%97%E6%B3%95%E7%BB%93%E6%9E%84%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E9%87%8D%E6%96%B0%E5%AE%9A%E4%B9%89%E7%AE%97%E6%B3%95%E7%9A%84%E6%AD%A5%E9%AA%A4%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/389dc346451dc22b636547e791eb6837fb6110e85fcc1a75f890ee15318a9f73.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E8%A1%8C%E4%B8%BA%E7%BB%93%E6%9E%84%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E8%A1%8C%E4%B8%BA%E7%BB%93%E6%9E%84%22%3E%C2%B6%3C/a%3E%E8%A1%8C%E4%B8%BA%E7%BB%93%E6%9E%84%3C/h3%3E%3Cp%3E%E5%85%88%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%8C%E5%86%8D%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%8C%E5%85%88%E5%AE%9A%E4%B9%89%E5%87%BA%E6%9D%A5%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAbstractClass%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efinal%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EtemplateMethod%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20operation1();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20operation2();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(hook())%20&amp;#123;%20%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20operation3();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eoperation1%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%223%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eoperation2%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E:%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eoperation3%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E:%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20%3Cspan%20class=%22type%22%3Eboolean%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ehook%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%20%20%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%224%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22literal%22%3Etrue%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%EF%BC%8C%E5%AE%9A%E4%B9%89%E7%AE%97%E6%B3%95%E7%9A%84%E6%A1%86%E6%9E%B6%E3%80%82%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%20%E9%92%A9%E5%AD%90%E6%96%B9%E6%B3%95%EF%BC%8C%E8%BF%99%E4%BA%9B%E6%96%B9%E6%B3%95%E5%9C%A8%E5%AD%90%E7%B1%BB%E4%B8%AD%E5%8F%AF%E4%BB%A5%E9%80%89%E6%8B%A9%E6%80%A7%E5%9C%B0%E5%AE%9E%E7%8E%B0%E3%80%82%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%223%22%3E%3C/i%3E%20%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95%EF%BC%8C%E9%9C%80%E8%A6%81%E5%AD%90%E7%B1%BB%E5%AE%9E%E7%8E%B0%E3%80%82%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%224%22%3E%3C/i%3E%20%E9%92%A9%E5%AD%90%E6%96%B9%E6%B3%95%EF%BC%8C%E9%BB%98%E8%AE%A4%E5%AE%9E%E7%8E%B0%E3%80%82%3C/p%3E%3Ch3%20id=%22%E6%80%BB%E7%BB%93%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%80%BB%E7%BB%93%22%3E%C2%B6%3C/a%3E%E6%80%BB%E7%BB%93%3C/h3%3E%3Cul%3E%3Cli%3E%E6%8F%90%E9%AB%98%E4%BA%86%E4%BB%A3%E7%A0%81%E7%9A%84%E5%A4%8D%E7%94%A8%E6%80%A7%E3%80%82%3C/li%3E%3Cli%3E%E7%AC%A6%E5%90%88%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99(OCP)%EF%BC%8C%E6%89%A9%E5%B1%95%E6%80%A7%E5%BC%BA%E3%80%82%3C/li%3E%3Cli%3E%E5%B0%86%E7%AE%97%E6%B3%95%E7%9A%84%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%E4%B8%8E%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0%E5%88%86%E7%A6%BB%E3%80%82%3C/li%3E%3C/ul%3E%3Cblockquote%3E%3Cp%3E%E8%AF%B4%E7%99%BD%E4%BA%86%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E5%B0%B1%E6%98%AF%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%AE%9E%E7%8E%B0%E3%80%82%3C/p%3E%3C/blockquote%3E" type="image"/>
    
    
    
    <category term="behavioral" scheme="https://galudisu.info/tags/behavioral/"/>
    
    <category term="template method" scheme="https://galudisu.info/tags/template-method/"/>
    
  </entry>
  
  <entry>
    <title>代理模式(Proxy Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Proxy/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Proxy/</id>
    <published>2025-05-10T10:25:06.000Z</published>
    <updated>2025-05-12T16:22:30.095Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>一个类代表另一个类的功能。在代理模式中，我们创建具有现有对象的对象，以便向外界提供功能接口。可以理解为内存中没有这个对象就创建，有就直接返回这个对象。</p></blockquote><img src="/assert/puml/ad121bfbedb1b584aa4e204d4c03c0baebf11c5faf26fbcaff2fab9db54314ab.svg"/><span id="more"></span><p><strong>代理模式(Proxy Pattern)</strong> 在面向对象系统中，有些对象由于某些原因(比如对象创建开销很大，某些操作需要安全控制)，直接访问会给使用者或系统结构带来很多麻烦，我们可以在访问此对象时加上一个该对象的访问层。</p><blockquote><p>⚠️ <strong>注意</strong><br>代理模式和委派模式比较容易混淆：</p><p>代理模式是结构模式、委托模式是行为模式。</p><ul><li><strong>代理</strong> = 包裹 + 控制： 像快递员，帮你拿包裹，顺便检查一下。</li><li><strong>委托</strong> = 包裹 + 转发： 像邮局柜台，你交给他，他转手就交给快递公司。</li><li></li></ul><p>快递送货上门是代理，他要对包裹负责，并且要确定送给你；你晚上要加班不方便，让家人帮你去取快递是委托，家人拿了就丢那放着，也可能家人都不一定去拿。</p></blockquote><h3 id="功能角度分类"><a class="header-anchor" href="#功能角度分类">¶</a>功能角度分类</h3><table><thead><tr><th style="text-align:left"><strong>类型</strong></th><th style="text-align:left"><strong>场景</strong></th><th style="text-align:left"><strong>示例</strong></th><th style="text-align:left"><strong>特点</strong></th></tr></thead><tbody><tr><td style="text-align:left">远程代理(Remote Proxy)</td><td style="text-align:left">访问不同地址空间的对象、远程服务通信</td><td style="text-align:left">RMI、gRPC、</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">虚拟代理(Virtual Proxy)</td><td style="text-align:left">创建真实对象的成本较高时，延迟加载(Lazy Load)<br/> 只有在真正需要时才创建目标对象</td><td style="text-align:left">图片加载<br/>大文件读取</td><td style="text-align:left">减少资源浪费<br/>提升相应速度</td></tr><tr><td style="text-align:left">保护代理(Protection Proxy)</td><td style="text-align:left">权限控制</td><td style="text-align:left">鉴权</td><td style="text-align:left">增强安全性<br/>细颗粒度控制</td></tr></tbody></table><h3 id="根据实现技术分类-Java常见"><a class="header-anchor" href="#根据实现技术分类-Java常见">¶</a>根据实现技术分类(Java常见)</h3><table><thead><tr><th style="text-align:left"><strong>类型</strong></th><th style="text-align:left"><strong>描述</strong></th></tr></thead><tbody><tr><td style="text-align:left">静态代理(Static Proxy)</td><td style="text-align:left">手动编写代理类，编译时确定</td></tr><tr><td style="text-align:left">动态代理(Dynamic Proxy)</td><td style="text-align:left">运行时生成代理类，使用<code>java.lang.reflect.Proxy</code></td></tr><tr><td style="text-align:left">CGLIB代理</td><td style="text-align:left">基于字节玛增强技术，适用于没有接口的类</td></tr></tbody></table><h3 id="代理实现方法"><a class="header-anchor" href="#代理实现方法">¶</a>代理实现方法</h3><ul><li>静态代理</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">request</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RealSubject</span> <span class="keyword">implements</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">request</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Proxy</span> <span class="keyword">implements</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> Subject realSubject;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">request</span><span class="params">()</span> &#123;</span><br><span class="line">    realSubject.request();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>动态代理</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Proxy</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  pubilc Object <span class="title function_">invoke</span><span class="params">(Method method, Object[] args, Object proxy)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> method.invoke(target, args);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>CBLIB代理(字节增强)</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Proxy</span> <span class="keyword">implements</span> <span class="title class_">MethodInterceptor</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> Object <span class="title function_">intercept</span><span class="params">(Object obj, Method method, MethodProxy proxy)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> proxy.invokeSuper(obj, args);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Enhancer</span> <span class="variable">enhancer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Enhancer</span>();</span><br><span class="line">enhancer.setSuperclass(RealSubject.class);</span><br><span class="line">enhancer.setCallback(<span class="keyword">new</span> <span class="title class_">Proxy</span>());</span><br><span class="line"><span class="type">RealSubject</span> <span class="variable">proxy</span> <span class="operator">=</span> enhancer.create();</span><br><span class="line">proxy.request();</span><br></pre></td></tr></table></figure><p><strong>差异对别</strong>：</p><table><thead><tr><th style="text-align:left"><strong>类型</strong></th><th style="text-align:left"><strong>是否需要接口</strong></th><th style="text-align:left"><strong>是否手动写代理类</strong></th><th style="text-align:left"><strong>技术基础</strong></th><th style="text-align:left"><strong>应用场景</strong></th></tr></thead><tbody><tr><td style="text-align:left">静态代理</td><td style="text-align:left">是</td><td style="text-align:left">是</td><td style="text-align:left">接口/抽象类</td><td style="text-align:left">简单封装、学习</td></tr><tr><td style="text-align:left">JDK动态代理</td><td style="text-align:left">是</td><td style="text-align:left">否</td><td style="text-align:left">反射+<code>Proxy</code></td><td style="text-align:left">AOP、Spring(可选)</td></tr><tr><td style="text-align:left">CGLIB代理</td><td style="text-align:left">否</td><td style="text-align:left">否</td><td style="text-align:left">ASM字节玛增强</td><td style="text-align:left">无接口代理、Spring(默认)</td></tr></tbody></table><h2 id="总结"><a class="header-anchor" href="#总结">¶</a>总结</h2><blockquote><p>代理模式从<strong>功能角度</strong>可以分为： 远程代理、虚拟代理、保护代理；从<strong>实现技术角度</strong>可分为： 静态代理、动态代理(JDK)、CGLIB代理。</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;一个类代表另一个类的功能。在代理模式中，我们创建具有现有对象的对象，以便向外界提供功能接口。可以理解为内存中没有这个对象就创建，有就直接返回这个对象。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/ad121bfbedb1b584aa4e204d4c03c0baebf11c5faf26fbcaff2fab9db54314ab.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E4%B8%80%E4%B8%AA%E7%B1%BB%E4%BB%A3%E8%A1%A8%E5%8F%A6%E4%B8%80%E4%B8%AA%E7%B1%BB%E7%9A%84%E5%8A%9F%E8%83%BD%E3%80%82%E5%9C%A8%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E4%B8%AD%EF%BC%8C%E6%88%91%E4%BB%AC%E5%88%9B%E5%BB%BA%E5%85%B7%E6%9C%89%E7%8E%B0%E6%9C%89%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%BB%A5%E4%BE%BF%E5%90%91%E5%A4%96%E7%95%8C%E6%8F%90%E4%BE%9B%E5%8A%9F%E8%83%BD%E6%8E%A5%E5%8F%A3%E3%80%82%E5%8F%AF%E4%BB%A5%E7%90%86%E8%A7%A3%E4%B8%BA%E5%86%85%E5%AD%98%E4%B8%AD%E6%B2%A1%E6%9C%89%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%B0%B1%E5%88%9B%E5%BB%BA%EF%BC%8C%E6%9C%89%E5%B0%B1%E7%9B%B4%E6%8E%A5%E8%BF%94%E5%9B%9E%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/ad121bfbedb1b584aa4e204d4c03c0baebf11c5faf26fbcaff2fab9db54314ab.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Cp%3E%3Cstrong%3E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F(Proxy%20Pattern)%3C/strong%3E%20%E5%9C%A8%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%B3%BB%E7%BB%9F%E4%B8%AD%EF%BC%8C%E6%9C%89%E4%BA%9B%E5%AF%B9%E8%B1%A1%E7%94%B1%E4%BA%8E%E6%9F%90%E4%BA%9B%E5%8E%9F%E5%9B%A0(%E6%AF%94%E5%A6%82%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E5%BC%80%E9%94%80%E5%BE%88%E5%A4%A7%EF%BC%8C%E6%9F%90%E4%BA%9B%E6%93%8D%E4%BD%9C%E9%9C%80%E8%A6%81%E5%AE%89%E5%85%A8%E6%8E%A7%E5%88%B6)%EF%BC%8C%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%E4%BC%9A%E7%BB%99%E4%BD%BF%E7%94%A8%E8%80%85%E6%88%96%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E5%B8%A6%E6%9D%A5%E5%BE%88%E5%A4%9A%E9%BA%BB%E7%83%A6%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%9C%A8%E8%AE%BF%E9%97%AE%E6%AD%A4%E5%AF%B9%E8%B1%A1%E6%97%B6%E5%8A%A0%E4%B8%8A%E4%B8%80%E4%B8%AA%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%AE%BF%E9%97%AE%E5%B1%82%E3%80%82%3C/p%3E%3Cblockquote%3E%3Cp%3E%E2%9A%A0%EF%B8%8F%20%3Cstrong%3E%E6%B3%A8%E6%84%8F%3C/strong%3E%3Cbr%3E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%92%8C%E5%A7%94%E6%B4%BE%E6%A8%A1%E5%BC%8F%E6%AF%94%E8%BE%83%E5%AE%B9%E6%98%93%E6%B7%B7%E6%B7%86%EF%BC%9A%3C/p%3E%3Cp%3E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E6%98%AF%E7%BB%93%E6%9E%84%E6%A8%A1%E5%BC%8F%E3%80%81%E5%A7%94%E6%89%98%E6%A8%A1%E5%BC%8F%E6%98%AF%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F%E3%80%82%3C/p%3E%3Cul%3E%3Cli%3E%3Cstrong%3E%E4%BB%A3%E7%90%86%3C/strong%3E%20=%20%E5%8C%85%E8%A3%B9%20+%20%E6%8E%A7%E5%88%B6%EF%BC%9A%20%E5%83%8F%E5%BF%AB%E9%80%92%E5%91%98%EF%BC%8C%E5%B8%AE%E4%BD%A0%E6%8B%BF%E5%8C%85%E8%A3%B9%EF%BC%8C%E9%A1%BA%E4%BE%BF%E6%A3%80%E6%9F%A5%E4%B8%80%E4%B8%8B%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E5%A7%94%E6%89%98%3C/strong%3E%20=%20%E5%8C%85%E8%A3%B9%20+%20%E8%BD%AC%E5%8F%91%EF%BC%9A%20%E5%83%8F%E9%82%AE%E5%B1%80%E6%9F%9C%E5%8F%B0%EF%BC%8C%E4%BD%A0%E4%BA%A4%E7%BB%99%E4%BB%96%EF%BC%8C%E4%BB%96%E8%BD%AC%E6%89%8B%E5%B0%B1%E4%BA%A4%E7%BB%99%E5%BF%AB%E9%80%92%E5%85%AC%E5%8F%B8%E3%80%82%3C/li%3E%3Cli%3E%3C/li%3E%3C/ul%3E%3Cp%3E%E5%BF%AB%E9%80%92%E9%80%81%E8%B4%A7%E4%B8%8A%E9%97%A8%E6%98%AF%E4%BB%A3%E7%90%86%EF%BC%8C%E4%BB%96%E8%A6%81%E5%AF%B9%E5%8C%85%E8%A3%B9%E8%B4%9F%E8%B4%A3%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%A6%81%E7%A1%AE%E5%AE%9A%E9%80%81%E7%BB%99%E4%BD%A0%EF%BC%9B%E4%BD%A0%E6%99%9A%E4%B8%8A%E8%A6%81%E5%8A%A0%E7%8F%AD%E4%B8%8D%E6%96%B9%E4%BE%BF%EF%BC%8C%E8%AE%A9%E5%AE%B6%E4%BA%BA%E5%B8%AE%E4%BD%A0%E5%8E%BB%E5%8F%96%E5%BF%AB%E9%80%92%E6%98%AF%E5%A7%94%E6%89%98%EF%BC%8C%E5%AE%B6%E4%BA%BA%E6%8B%BF%E4%BA%86%E5%B0%B1%E4%B8%A2%E9%82%A3%E6%94%BE%E7%9D%80%EF%BC%8C%E4%B9%9F%E5%8F%AF%E8%83%BD%E5%AE%B6%E4%BA%BA%E9%83%BD%E4%B8%8D%E4%B8%80%E5%AE%9A%E5%8E%BB%E6%8B%BF%E3%80%82%3C/p%3E%3C/blockquote%3E%3Ch3%20id=%22%E5%8A%9F%E8%83%BD%E8%A7%92%E5%BA%A6%E5%88%86%E7%B1%BB%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E5%8A%9F%E8%83%BD%E8%A7%92%E5%BA%A6%E5%88%86%E7%B1%BB%22%3E%C2%B6%3C/a%3E%E5%8A%9F%E8%83%BD%E8%A7%92%E5%BA%A6%E5%88%86%E7%B1%BB%3C/h3%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E7%B1%BB%E5%9E%8B%3C/strong%3E%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E5%9C%BA%E6%99%AF%3C/strong%3E%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E7%A4%BA%E4%BE%8B%3C/strong%3E%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E7%89%B9%E7%82%B9%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%90%86(Remote%20Proxy)%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E8%AE%BF%E9%97%AE%E4%B8%8D%E5%90%8C%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%81%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E9%80%9A%E4%BF%A1%3C/td%3E%3Ctd%20style=%22text-align:left%22%3ERMI%E3%80%81gRPC%E3%80%81%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E8%99%9A%E6%8B%9F%E4%BB%A3%E7%90%86(Virtual%20Proxy)%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%88%9B%E5%BB%BA%E7%9C%9F%E5%AE%9E%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%88%90%E6%9C%AC%E8%BE%83%E9%AB%98%E6%97%B6%EF%BC%8C%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD(Lazy%20Load)%3Cbr/%3E%20%E5%8F%AA%E6%9C%89%E5%9C%A8%E7%9C%9F%E6%AD%A3%E9%9C%80%E8%A6%81%E6%97%B6%E6%89%8D%E5%88%9B%E5%BB%BA%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%3Cbr/%3E%E5%A4%A7%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%87%8F%E5%B0%91%E8%B5%84%E6%BA%90%E6%B5%AA%E8%B4%B9%3Cbr/%3E%E6%8F%90%E5%8D%87%E7%9B%B8%E5%BA%94%E9%80%9F%E5%BA%A6%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E4%BF%9D%E6%8A%A4%E4%BB%A3%E7%90%86(Protection%20Proxy)%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E9%89%B4%E6%9D%83%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%A2%9E%E5%BC%BA%E5%AE%89%E5%85%A8%E6%80%A7%3Cbr/%3E%E7%BB%86%E9%A2%97%E7%B2%92%E5%BA%A6%E6%8E%A7%E5%88%B6%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Ch3%20id=%22%E6%A0%B9%E6%8D%AE%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E5%88%86%E7%B1%BB-Java%E5%B8%B8%E8%A7%81%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A0%B9%E6%8D%AE%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E5%88%86%E7%B1%BB-Java%E5%B8%B8%E8%A7%81%22%3E%C2%B6%3C/a%3E%E6%A0%B9%E6%8D%AE%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E5%88%86%E7%B1%BB(Java%E5%B8%B8%E8%A7%81)%3C/h3%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E7%B1%BB%E5%9E%8B%3C/strong%3E%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E6%8F%8F%E8%BF%B0%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86(Static%20Proxy)%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E6%89%8B%E5%8A%A8%E7%BC%96%E5%86%99%E4%BB%A3%E7%90%86%E7%B1%BB%EF%BC%8C%E7%BC%96%E8%AF%91%E6%97%B6%E7%A1%AE%E5%AE%9A%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86(Dynamic%20Proxy)%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E8%BF%90%E8%A1%8C%E6%97%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%90%86%E7%B1%BB%EF%BC%8C%E4%BD%BF%E7%94%A8%3Ccode%3Ejava.lang.reflect.Proxy%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3ECGLIB%E4%BB%A3%E7%90%86%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%9F%BA%E4%BA%8E%E5%AD%97%E8%8A%82%E7%8E%9B%E5%A2%9E%E5%BC%BA%E6%8A%80%E6%9C%AF%EF%BC%8C%E9%80%82%E7%94%A8%E4%BA%8E%E6%B2%A1%E6%9C%89%E6%8E%A5%E5%8F%A3%E7%9A%84%E7%B1%BB%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Ch3%20id=%22%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95%22%3E%C2%B6%3C/a%3E%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95%3C/h3%3E%3Cul%3E%3Cli%3E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%3C/li%3E%3C/ul%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESubject%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Erequest%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERealSubject%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESubject%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Erequest%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProxy%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESubject%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20Subject%20realSubject;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Erequest%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20realSubject.request();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cul%3E%3Cli%3E%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%3C/li%3E%3C/ul%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProxy%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EInvocationHandler%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20pubilc%20Object%20%3Cspan%20class=%22title%20function_%22%3Einvoke%3C/span%3E%3Cspan%20class=%22params%22%3E(Method%20method,%20Object[]%20args,%20Object%20proxy)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20method.invoke(target,%20args);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cul%3E%3Cli%3ECBLIB%E4%BB%A3%E7%90%86(%E5%AD%97%E8%8A%82%E5%A2%9E%E5%BC%BA)%3C/li%3E%3C/ul%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProxy%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMethodInterceptor%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20Object%20%3Cspan%20class=%22title%20function_%22%3Eintercept%3C/span%3E%3Cspan%20class=%22params%22%3E(Object%20obj,%20Method%20method,%20MethodProxy%20proxy)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20proxy.invokeSuper(obj,%20args);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3EEnhancer%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eenhancer%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEnhancer%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Eenhancer.setSuperclass(RealSubject.class);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Eenhancer.setCallback(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProxy%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3ERealSubject%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eproxy%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20enhancer.create();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Eproxy.request();%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Cstrong%3E%E5%B7%AE%E5%BC%82%E5%AF%B9%E5%88%AB%3C/strong%3E%EF%BC%9A%3C/p%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E7%B1%BB%E5%9E%8B%3C/strong%3E%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E6%8E%A5%E5%8F%A3%3C/strong%3E%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E6%98%AF%E5%90%A6%E6%89%8B%E5%8A%A8%E5%86%99%E4%BB%A3%E7%90%86%E7%B1%BB%3C/strong%3E%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%3C/strong%3E%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E6%98%AF%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E6%98%AF%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E6%8E%A5%E5%8F%A3/%E6%8A%BD%E8%B1%A1%E7%B1%BB%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E7%AE%80%E5%8D%95%E5%B0%81%E8%A3%85%E3%80%81%E5%AD%A6%E4%B9%A0%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3EJDK%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E6%98%AF%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%90%A6%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%8F%8D%E5%B0%84+%3Ccode%3EProxy%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3EAOP%E3%80%81Spring(%E5%8F%AF%E9%80%89)%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3ECGLIB%E4%BB%A3%E7%90%86%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%90%A6%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%90%A6%3C/td%3E%3Ctd%20style=%22text-align:left%22%3EASM%E5%AD%97%E8%8A%82%E7%8E%9B%E5%A2%9E%E5%BC%BA%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E6%97%A0%E6%8E%A5%E5%8F%A3%E4%BB%A3%E7%90%86%E3%80%81Spring(%E9%BB%98%E8%AE%A4)%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Ch2%20id=%22%E6%80%BB%E7%BB%93%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%80%BB%E7%BB%93%22%3E%C2%B6%3C/a%3E%E6%80%BB%E7%BB%93%3C/h2%3E%3Cblockquote%3E%3Cp%3E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E4%BB%8E%3Cstrong%3E%E5%8A%9F%E8%83%BD%E8%A7%92%E5%BA%A6%3C/strong%3E%E5%8F%AF%E4%BB%A5%E5%88%86%E4%B8%BA%EF%BC%9A%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%90%86%E3%80%81%E8%99%9A%E6%8B%9F%E4%BB%A3%E7%90%86%E3%80%81%E4%BF%9D%E6%8A%A4%E4%BB%A3%E7%90%86%EF%BC%9B%E4%BB%8E%3Cstrong%3E%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF%E8%A7%92%E5%BA%A6%3C/strong%3E%E5%8F%AF%E5%88%86%E4%B8%BA%EF%BC%9A%20%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E3%80%81%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86(JDK)%E3%80%81CGLIB%E4%BB%A3%E7%90%86%E3%80%82%3C/p%3E%3C/blockquote%3E" type="image"/>
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="proxy" scheme="https://galudisu.info/tags/proxy/"/>
    
  </entry>
  
  <entry>
    <title>享元模式(Flyweight Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Flyweight/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Flyweight/</id>
    <published>2025-05-10T10:25:05.000Z</published>
    <updated>2025-05-12T15:13:45.009Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>通过共享对象来减少内存使用和提高性能</strong>，适用于大量相似对象需要被创建的场景。</p></blockquote><img src="/assert/puml/223ef670f7cc2ef7938ca57234ee6043412fa8e8ab27eea26fb5f16281b746ba.svg"/><span id="more"></span><h3 id="概念定义"><a class="header-anchor" href="#概念定义">¶</a>概念定义</h3><p><strong>享元模式(Flyweight Pattern)</strong> 的核心是为了解决大量对象存在时，可能造成内存溢出，我们把其中共同的部分抽象出来，如果有相同的业务请求，直接返回内存已有的对象，避免重新创建。</p><h3 id="核心结构"><a class="header-anchor" href="#核心结构">¶</a>核心结构</h3><table><thead><tr><th style="text-align:left"><strong>角色</strong></th><th style="text-align:left"><strong>职责</strong></th></tr></thead><tbody><tr><td style="text-align:left"><code>Flyweight(抽象享元类)</code></td><td style="text-align:left">定义公共接口或抽象类，用于管理内部状态。</td></tr><tr><td style="text-align:left"><code>ConcreteFlyweight(具体享元类)</code></td><td style="text-align:left">实现Flyweight接口，存储内部状态</td></tr><tr><td style="text-align:left"><code>UnsharedConcreteFlyweight(非共享具体享元类)</code></td><td style="text-align:left">不可共享的对象(Option)</td></tr><tr><td style="text-align:left"><code>FlyweightFactory(享元工厂)</code></td><td style="text-align:left">负责创建和管理享元对象，确保对象复用</td></tr></tbody></table><h3 id="示例：围棋棋子渲染系统"><a class="header-anchor" href="#示例：围棋棋子渲染系统">¶</a>示例：围棋棋子渲染系统</h3><p>假设我们开发一个围棋游戏，棋盘上有几百个棋子，它们有相同的形状但不同的颜色和位置。</p><img src="/assert/puml/fc18fe8be046fe2f8e863d706da18448679378a9490a1933d5f89f41bd405231.svg"/><p>伪代码如下，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Piece</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">render</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WhitePiece</span> <span class="keyword">implements</span> <span class="title class_">Piece</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">render</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span>; <span class="comment">// 绘制白色棋子</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BlackPiece</span> <span class="keyword">implements</span> <span class="title class_">Piece</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">render</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span>; <span class="comment">// 绘制黑色棋子</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PieceFactory</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Map&lt;String, Piece&gt; pieces = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Piece <span class="title function_">getPiece</span><span class="params">(String type)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!pieces.containsKey(type)) &#123;</span><br><span class="line">      <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;white&quot;</span>:</span><br><span class="line">          pieces.put(type, <span class="keyword">new</span> <span class="title class_">WhitePiece</span>());  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;black&quot;</span>:</span><br><span class="line">          pieces.put(type, <span class="keyword">new</span> <span class="title class_">BlackPiece</span>());</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Invalid piece type: &quot;</span> + type);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pieces.get(type);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> 这种暂存的享元模式实际上在开发中非常常见，并且会有意无意中用到。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">    <span class="type">var</span> <span class="variable">black</span> <span class="operator">=</span> PieceFactory.getPiece(<span class="string">&quot;black&quot;</span>);</span><br><span class="line">    black.render(i%<span class="number">10</span>, i/<span class="number">10</span>);</span><br><span class="line">    <span class="type">var</span> <span class="variable">white</span> <span class="operator">=</span> PieceFactory.getPiece(<span class="string">&quot;white&quot;</span>);</span><br><span class="line">    white.render(i%<span class="number">10</span>, i/<span class="number">10</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>如果不使用享元模式，100黑子+100白子=创建200个对象。</li><li>使用享元后： 只创建2个对象(一个黑子、一个白子)，重复调用<code>render(x, y)</code>即可。</li></ul><h3 id="实际应用场景"><a class="header-anchor" href="#实际应用场景">¶</a>实际应用场景</h3><table><thead><tr><th style="text-align:left">应用</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">文本编辑器</td><td style="text-align:left">字符样式共享(字体、大小、颜色)，位置作为外部 状态</td></tr><tr><td style="text-align:left">游戏开发</td><td style="text-align:left">子弹、敌人、道具等大量重复实体对象(早期像素游戏)</td></tr><tr><td style="text-align:left">图形界面库</td><td style="text-align:left">按钮、图标、字体等图形资源缓存</td></tr><tr><td style="text-align:left">数据库连接池</td><td style="text-align:left">复用数据库连接对象</td></tr></tbody></table><h2 id="总结"><a class="header-anchor" href="#总结">¶</a>总结</h2><blockquote><p>享元模式的核心思想是“共享不变、分离变化”，适用于大量相似对象的复用场景。</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;通过共享对象来减少内存使用和提高性能&lt;/strong&gt;，适用于大量相似对象需要被创建的场景。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/223ef670f7cc2ef7938ca57234ee6043412fa8e8ab27eea26fb5f16281b746ba.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%3Cstrong%3E%E9%80%9A%E8%BF%87%E5%85%B1%E4%BA%AB%E5%AF%B9%E8%B1%A1%E6%9D%A5%E5%87%8F%E5%B0%91%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E5%92%8C%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD%3C/strong%3E%EF%BC%8C%E9%80%82%E7%94%A8%E4%BA%8E%E5%A4%A7%E9%87%8F%E7%9B%B8%E4%BC%BC%E5%AF%B9%E8%B1%A1%E9%9C%80%E8%A6%81%E8%A2%AB%E5%88%9B%E5%BB%BA%E7%9A%84%E5%9C%BA%E6%99%AF%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/223ef670f7cc2ef7938ca57234ee6043412fa8e8ab27eea26fb5f16281b746ba.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E6%A6%82%E5%BF%B5%E5%AE%9A%E4%B9%89%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A6%82%E5%BF%B5%E5%AE%9A%E4%B9%89%22%3E%C2%B6%3C/a%3E%E6%A6%82%E5%BF%B5%E5%AE%9A%E4%B9%89%3C/h3%3E%3Cp%3E%3Cstrong%3E%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F(Flyweight%20Pattern)%3C/strong%3E%20%E7%9A%84%E6%A0%B8%E5%BF%83%E6%98%AF%E4%B8%BA%E4%BA%86%E8%A7%A3%E5%86%B3%E5%A4%A7%E9%87%8F%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%9C%A8%E6%97%B6%EF%BC%8C%E5%8F%AF%E8%83%BD%E9%80%A0%E6%88%90%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA%EF%BC%8C%E6%88%91%E4%BB%AC%E6%8A%8A%E5%85%B6%E4%B8%AD%E5%85%B1%E5%90%8C%E7%9A%84%E9%83%A8%E5%88%86%E6%8A%BD%E8%B1%A1%E5%87%BA%E6%9D%A5%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%9C%89%E7%9B%B8%E5%90%8C%E7%9A%84%E4%B8%9A%E5%8A%A1%E8%AF%B7%E6%B1%82%EF%BC%8C%E7%9B%B4%E6%8E%A5%E8%BF%94%E5%9B%9E%E5%86%85%E5%AD%98%E5%B7%B2%E6%9C%89%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E9%81%BF%E5%85%8D%E9%87%8D%E6%96%B0%E5%88%9B%E5%BB%BA%E3%80%82%3C/p%3E%3Ch3%20id=%22%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%22%3E%C2%B6%3C/a%3E%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%3C/h3%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E8%A7%92%E8%89%B2%3C/strong%3E%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%3Cstrong%3E%E8%81%8C%E8%B4%A3%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EFlyweight(%E6%8A%BD%E8%B1%A1%E4%BA%AB%E5%85%83%E7%B1%BB)%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%AE%9A%E4%B9%89%E5%85%AC%E5%85%B1%E6%8E%A5%E5%8F%A3%E6%88%96%E6%8A%BD%E8%B1%A1%E7%B1%BB%EF%BC%8C%E7%94%A8%E4%BA%8E%E7%AE%A1%E7%90%86%E5%86%85%E9%83%A8%E7%8A%B6%E6%80%81%E3%80%82%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EConcreteFlyweight(%E5%85%B7%E4%BD%93%E4%BA%AB%E5%85%83%E7%B1%BB)%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%AE%9E%E7%8E%B0Flyweight%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%AD%98%E5%82%A8%E5%86%85%E9%83%A8%E7%8A%B6%E6%80%81%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EUnsharedConcreteFlyweight(%E9%9D%9E%E5%85%B1%E4%BA%AB%E5%85%B7%E4%BD%93%E4%BA%AB%E5%85%83%E7%B1%BB)%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E4%B8%8D%E5%8F%AF%E5%85%B1%E4%BA%AB%E7%9A%84%E5%AF%B9%E8%B1%A1(Option)%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%3Ccode%3EFlyweightFactory(%E4%BA%AB%E5%85%83%E5%B7%A5%E5%8E%82)%3C/code%3E%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E8%B4%9F%E8%B4%A3%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E4%BA%AB%E5%85%83%E5%AF%B9%E8%B1%A1%EF%BC%8C%E7%A1%AE%E4%BF%9D%E5%AF%B9%E8%B1%A1%E5%A4%8D%E7%94%A8%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Ch3%20id=%22%E7%A4%BA%E4%BE%8B%EF%BC%9A%E5%9B%B4%E6%A3%8B%E6%A3%8B%E5%AD%90%E6%B8%B2%E6%9F%93%E7%B3%BB%E7%BB%9F%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E5%9B%B4%E6%A3%8B%E6%A3%8B%E5%AD%90%E6%B8%B2%E6%9F%93%E7%B3%BB%E7%BB%9F%22%3E%C2%B6%3C/a%3E%E7%A4%BA%E4%BE%8B%EF%BC%9A%E5%9B%B4%E6%A3%8B%E6%A3%8B%E5%AD%90%E6%B8%B2%E6%9F%93%E7%B3%BB%E7%BB%9F%3C/h3%3E%3Cp%3E%E5%81%87%E8%AE%BE%E6%88%91%E4%BB%AC%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%9B%B4%E6%A3%8B%E6%B8%B8%E6%88%8F%EF%BC%8C%E6%A3%8B%E7%9B%98%E4%B8%8A%E6%9C%89%E5%87%A0%E7%99%BE%E4%B8%AA%E6%A3%8B%E5%AD%90%EF%BC%8C%E5%AE%83%E4%BB%AC%E6%9C%89%E7%9B%B8%E5%90%8C%E7%9A%84%E5%BD%A2%E7%8A%B6%E4%BD%86%E4%B8%8D%E5%90%8C%E7%9A%84%E9%A2%9C%E8%89%B2%E5%92%8C%E4%BD%8D%E7%BD%AE%E3%80%82%3C/p%3E%3Cimg%20src=%22/assert/puml/fc18fe8be046fe2f8e863d706da18448679378a9490a1933d5f89f41bd405231.svg%22/%3E%3Cp%3E%E4%BC%AA%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPiece%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Erender%3C/span%3E%3Cspan%20class=%22params%22%3E(%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20x,%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20y)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EWhitePiece%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPiece%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Erender%3C/span%3E%3Cspan%20class=%22params%22%3E(%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20x,%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20y)%3C/span%3E;%20%3Cspan%20class=%22comment%22%3E/%20%E7%BB%98%E5%88%B6%E7%99%BD%E8%89%B2%E6%A3%8B%E5%AD%90%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EBlackPiece%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPiece%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Erender%3C/span%3E%3Cspan%20class=%22params%22%3E(%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20x,%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20y)%3C/span%3E;%20%3Cspan%20class=%22comment%22%3E/%20%E7%BB%98%E5%88%B6%E9%BB%91%E8%89%B2%E6%A3%8B%E5%AD%90%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPieceFactory%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efinal%3C/span%3E%20Map&amp;lt;String,%20Piece&amp;gt;%20pieces%20=%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EHashMap%3C/span%3E&amp;lt;&amp;gt;();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Piece%20%3Cspan%20class=%22title%20function_%22%3EgetPiece%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20type)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(!pieces.containsKey(type))%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Eswitch%3C/span%3E%20(type)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ecase%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;white&amp;quot;%3C/span%3E:%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20pieces.put(type,%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EWhitePiece%3C/span%3E());%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ebreak%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ecase%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;black&amp;quot;%3C/span%3E:%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20pieces.put(type,%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EBlackPiece%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ebreak%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Edefault%3C/span%3E:%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ethrow%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EIllegalArgumentException%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Invalid%20piece%20type:%20&amp;quot;%3C/span%3E%20+%20type);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20pieces.get(type);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E8%BF%99%E7%A7%8D%E6%9A%82%E5%AD%98%E7%9A%84%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E5%AE%9E%E9%99%85%E4%B8%8A%E5%9C%A8%E5%BC%80%E5%8F%91%E4%B8%AD%E9%9D%9E%E5%B8%B8%E5%B8%B8%E8%A7%81%EF%BC%8C%E5%B9%B6%E4%B8%94%E4%BC%9A%E6%9C%89%E6%84%8F%E6%97%A0%E6%84%8F%E4%B8%AD%E7%94%A8%E5%88%B0%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20(%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ei%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%20i%20&amp;lt;%20%3Cspan%20class=%22number%22%3E100%3C/span%3E;%20i++)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3Evar%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eblack%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20PieceFactory.getPiece(%3Cspan%20class=%22string%22%3E&amp;quot;black&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20black.render(i%%3Cspan%20class=%22number%22%3E10%3C/span%3E,%20i/%3Cspan%20class=%22number%22%3E10%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3Evar%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ewhite%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20PieceFactory.getPiece(%3Cspan%20class=%22string%22%3E&amp;quot;white&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20white.render(i%%3Cspan%20class=%22number%22%3E10%3C/span%3E,%20i/%3Cspan%20class=%22number%22%3E10%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cul%3E%3Cli%3E%E5%A6%82%E6%9E%9C%E4%B8%8D%E4%BD%BF%E7%94%A8%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%EF%BC%8C100%E9%BB%91%E5%AD%90+100%E7%99%BD%E5%AD%90=%E5%88%9B%E5%BB%BA200%E4%B8%AA%E5%AF%B9%E8%B1%A1%E3%80%82%3C/li%3E%3Cli%3E%E4%BD%BF%E7%94%A8%E4%BA%AB%E5%85%83%E5%90%8E%EF%BC%9A%20%E5%8F%AA%E5%88%9B%E5%BB%BA2%E4%B8%AA%E5%AF%B9%E8%B1%A1(%E4%B8%80%E4%B8%AA%E9%BB%91%E5%AD%90%E3%80%81%E4%B8%80%E4%B8%AA%E7%99%BD%E5%AD%90)%EF%BC%8C%E9%87%8D%E5%A4%8D%E8%B0%83%E7%94%A8%3Ccode%3Erender(x,%20y)%3C/code%3E%E5%8D%B3%E5%8F%AF%E3%80%82%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%C2%B6%3C/a%3E%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%3C/h3%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%20style=%22text-align:left%22%3E%E5%BA%94%E7%94%A8%3C/th%3E%3Cth%20style=%22text-align:left%22%3E%E6%8F%8F%E8%BF%B0%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%AD%97%E7%AC%A6%E6%A0%B7%E5%BC%8F%E5%85%B1%E4%BA%AB(%E5%AD%97%E4%BD%93%E3%80%81%E5%A4%A7%E5%B0%8F%E3%80%81%E9%A2%9C%E8%89%B2)%EF%BC%8C%E4%BD%8D%E7%BD%AE%E4%BD%9C%E4%B8%BA%E5%A4%96%E9%83%A8%20%E7%8A%B6%E6%80%81%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%AD%90%E5%BC%B9%E3%80%81%E6%95%8C%E4%BA%BA%E3%80%81%E9%81%93%E5%85%B7%E7%AD%89%E5%A4%A7%E9%87%8F%E9%87%8D%E5%A4%8D%E5%AE%9E%E4%BD%93%E5%AF%B9%E8%B1%A1(%E6%97%A9%E6%9C%9F%E5%83%8F%E7%B4%A0%E6%B8%B8%E6%88%8F)%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E5%BA%93%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E6%8C%89%E9%92%AE%E3%80%81%E5%9B%BE%E6%A0%87%E3%80%81%E5%AD%97%E4%BD%93%E7%AD%89%E5%9B%BE%E5%BD%A2%E8%B5%84%E6%BA%90%E7%BC%93%E5%AD%98%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%20style=%22text-align:left%22%3E%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%3C/td%3E%3Ctd%20style=%22text-align:left%22%3E%E5%A4%8D%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E5%AF%B9%E8%B1%A1%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Ch2%20id=%22%E6%80%BB%E7%BB%93%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%80%BB%E7%BB%93%22%3E%C2%B6%3C/a%3E%E6%80%BB%E7%BB%93%3C/h2%3E%3Cblockquote%3E%3Cp%3E%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3%E6%98%AF%E2%80%9C%E5%85%B1%E4%BA%AB%E4%B8%8D%E5%8F%98%E3%80%81%E5%88%86%E7%A6%BB%E5%8F%98%E5%8C%96%E2%80%9D%EF%BC%8C%E9%80%82%E7%94%A8%E4%BA%8E%E5%A4%A7%E9%87%8F%E7%9B%B8%E4%BC%BC%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%A4%8D%E7%94%A8%E5%9C%BA%E6%99%AF%E3%80%82%3C/p%3E%3C/blockquote%3E" type="image"/>
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="flyweight" scheme="https://galudisu.info/tags/flyweight/"/>
    
  </entry>
  
  <entry>
    <title>外观模式(Facade Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Facade/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Facade/</id>
    <published>2025-05-10T10:25:04.000Z</published>
    <updated>2025-05-12T14:38:27.810Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>提供了一个统一的接口，用来访问子系统中的一群接口，外观定义了一个高层的接口，让子系统更容易使用。<strong>其实就是为了方便客户的使用，把一群操作，封装成一个方法</strong>。</p></blockquote><img src="/assert/puml/fcabf988403ace7972cf5031702aca934b86568740864ad48f49021f7aa7fcce.svg"/><span id="more"></span><p>外观模式，就是“method”层面上的组合模式，上个章节的<a href="/2025/05/10/pattern/basic/structural/Composite">组合模式</a>是多个类，而外观模式就是多个方法。</p><h3 id="场景描述"><a class="header-anchor" href="#场景描述">¶</a>场景描述</h3><p>你有一个家庭影院系统，包含以下设备：</p><ul><li>影碟机(DVD Player)</li><li>投影仪(Projector)</li><li>音响(Sound System)</li><li>灯光(Lights)</li></ul><p>每次想要看电影时，你需要手动做以下操作：</p><ol><li>关灯</li><li>打开投影仪</li><li>启动音响</li><li>播放DVD</li></ol><p>看完电影后又要一次关闭这些设备。</p><img src="/assert/puml/27983651be2688e8b78c367be911e4ce0f6a3a26a4d97369d9a809bca3607b3d.svg"/><p>这个过程非常繁琐，而<strong>外观模式</strong>可以封装这些复杂逻辑，对外提供一个简单接口，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HomeTheaterFacade</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">watchMovie</span><span class="params">(String movie)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Get ready to watch a movie...&quot;</span>);</span><br><span class="line">    lights.dim(<span class="number">10</span>);</span><br><span class="line">    projector.on();</span><br><span class="line">    projector.setInput(dvdPlayer);</span><br><span class="line">    amplifier.on();</span><br><span class="line">    amplifier.setVolume(<span class="number">75</span>);</span><br><span class="line">    amplifier.setInput(dvdPlayer);</span><br><span class="line">    dvdPlayer.on();</span><br><span class="line">    dvdPlayer.play(movie);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">endMovie</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Shutting movie theater down...&quot;</span>);</span><br><span class="line">    dvdPlayer.stop();</span><br><span class="line">    dvdPlayer.off();</span><br><span class="line">    amplifier.off();</span><br><span class="line">    projector.off();</span><br><span class="line">    lights.off();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我只需要“一键”观影即可。</p><h2 id="总结"><a class="header-anchor" href="#总结">¶</a>总结</h2><p><strong>优点</strong>：</p><ul><li>简化接口，不需要了解每个子系统的细节</li><li>解耦，客户端只依赖外观类，不与具体子系统耦合</li><li>提高维护性，子系统的变化，只需要修改外观类，不影响客户端</li></ul><p><strong>其它常见应用示例</strong></p><ol><li>编译器/解析器，将词法分析、语法分析、语义分析处理封装成一个<code>Compiler</code>外观</li><li>支付系统中对接多个支付渠道(微信、支付宝、银联),统一调用接口</li></ol>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;提供了一个统一的接口，用来访问子系统中的一群接口，外观定义了一个高层的接口，让子系统更容易使用。&lt;strong&gt;其实就是为了方便客户的使用，把一群操作，封装成一个方法&lt;/strong&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/fcabf988403ace7972cf5031702aca934b86568740864ad48f49021f7aa7fcce.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E6%8F%90%E4%BE%9B%E4%BA%86%E4%B8%80%E4%B8%AA%E7%BB%9F%E4%B8%80%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E7%94%A8%E6%9D%A5%E8%AE%BF%E9%97%AE%E5%AD%90%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E4%B8%80%E7%BE%A4%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%A4%96%E8%A7%82%E5%AE%9A%E4%B9%89%E4%BA%86%E4%B8%80%E4%B8%AA%E9%AB%98%E5%B1%82%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E8%AE%A9%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%9B%B4%E5%AE%B9%E6%98%93%E4%BD%BF%E7%94%A8%E3%80%82%3Cstrong%3E%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E4%B8%BA%E4%BA%86%E6%96%B9%E4%BE%BF%E5%AE%A2%E6%88%B7%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%8C%E6%8A%8A%E4%B8%80%E7%BE%A4%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%B0%81%E8%A3%85%E6%88%90%E4%B8%80%E4%B8%AA%E6%96%B9%E6%B3%95%3C/strong%3E%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/fcabf988403ace7972cf5031702aca934b86568740864ad48f49021f7aa7fcce.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Cp%3E%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%B0%B1%E6%98%AF%E2%80%9Cmethod%E2%80%9D%E5%B1%82%E9%9D%A2%E4%B8%8A%E7%9A%84%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%EF%BC%8C%E4%B8%8A%E4%B8%AA%E7%AB%A0%E8%8A%82%E7%9A%84%3Ca%20href=%22/2025/05/10/pattern/basic/structural/Composite%22%3E%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%3C/a%3E%E6%98%AF%E5%A4%9A%E4%B8%AA%E7%B1%BB%EF%BC%8C%E8%80%8C%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%B0%B1%E6%98%AF%E5%A4%9A%E4%B8%AA%E6%96%B9%E6%B3%95%E3%80%82%3C/p%3E%3Ch3%20id=%22%E5%9C%BA%E6%99%AF%E6%8F%8F%E8%BF%B0%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E5%9C%BA%E6%99%AF%E6%8F%8F%E8%BF%B0%22%3E%C2%B6%3C/a%3E%E5%9C%BA%E6%99%AF%E6%8F%8F%E8%BF%B0%3C/h3%3E%3Cp%3E%E4%BD%A0%E6%9C%89%E4%B8%80%E4%B8%AA%E5%AE%B6%E5%BA%AD%E5%BD%B1%E9%99%A2%E7%B3%BB%E7%BB%9F%EF%BC%8C%E5%8C%85%E5%90%AB%E4%BB%A5%E4%B8%8B%E8%AE%BE%E5%A4%87%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E5%BD%B1%E7%A2%9F%E6%9C%BA(DVD%20Player)%3C/li%3E%3Cli%3E%E6%8A%95%E5%BD%B1%E4%BB%AA(Projector)%3C/li%3E%3Cli%3E%E9%9F%B3%E5%93%8D(Sound%20System)%3C/li%3E%3Cli%3E%E7%81%AF%E5%85%89(Lights)%3C/li%3E%3C/ul%3E%3Cp%3E%E6%AF%8F%E6%AC%A1%E6%83%B3%E8%A6%81%E7%9C%8B%E7%94%B5%E5%BD%B1%E6%97%B6%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E6%89%8B%E5%8A%A8%E5%81%9A%E4%BB%A5%E4%B8%8B%E6%93%8D%E4%BD%9C%EF%BC%9A%3C/p%3E%3Col%3E%3Cli%3E%E5%85%B3%E7%81%AF%3C/li%3E%3Cli%3E%E6%89%93%E5%BC%80%E6%8A%95%E5%BD%B1%E4%BB%AA%3C/li%3E%3Cli%3E%E5%90%AF%E5%8A%A8%E9%9F%B3%E5%93%8D%3C/li%3E%3Cli%3E%E6%92%AD%E6%94%BEDVD%3C/li%3E%3C/ol%3E%3Cp%3E%E7%9C%8B%E5%AE%8C%E7%94%B5%E5%BD%B1%E5%90%8E%E5%8F%88%E8%A6%81%E4%B8%80%E6%AC%A1%E5%85%B3%E9%97%AD%E8%BF%99%E4%BA%9B%E8%AE%BE%E5%A4%87%E3%80%82%3C/p%3E%3Cimg%20src=%22/assert/puml/27983651be2688e8b78c367be911e4ce0f6a3a26a4d97369d9a809bca3607b3d.svg%22/%3E%3Cp%3E%E8%BF%99%E4%B8%AA%E8%BF%87%E7%A8%8B%E9%9D%9E%E5%B8%B8%E7%B9%81%E7%90%90%EF%BC%8C%E8%80%8C%3Cstrong%3E%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%3C/strong%3E%E5%8F%AF%E4%BB%A5%E5%B0%81%E8%A3%85%E8%BF%99%E4%BA%9B%E5%A4%8D%E6%9D%82%E9%80%BB%E8%BE%91%EF%BC%8C%E5%AF%B9%E5%A4%96%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E6%8E%A5%E5%8F%A3%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EHomeTheaterFacade%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20...%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EwatchMovie%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20movie)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Get%20ready%20to%20watch%20a%20movie...&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20lights.dim(%3Cspan%20class=%22number%22%3E10%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20projector.on();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20projector.setInput(dvdPlayer);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20amplifier.on();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20amplifier.setVolume(%3Cspan%20class=%22number%22%3E75%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20amplifier.setInput(dvdPlayer);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20dvdPlayer.on();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20dvdPlayer.play(movie);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EendMovie%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Shutting%20movie%20theater%20down...&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20dvdPlayer.stop();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20dvdPlayer.off();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20amplifier.off();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20projector.off();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20lights.off();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%88%91%E5%8F%AA%E9%9C%80%E8%A6%81%E2%80%9C%E4%B8%80%E9%94%AE%E2%80%9D%E8%A7%82%E5%BD%B1%E5%8D%B3%E5%8F%AF%E3%80%82%3C/p%3E%3Ch2%20id=%22%E6%80%BB%E7%BB%93%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%80%BB%E7%BB%93%22%3E%C2%B6%3C/a%3E%E6%80%BB%E7%BB%93%3C/h2%3E%3Cp%3E%3Cstrong%3E%E4%BC%98%E7%82%B9%3C/strong%3E%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E7%AE%80%E5%8C%96%E6%8E%A5%E5%8F%A3%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E6%AF%8F%E4%B8%AA%E5%AD%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%86%E8%8A%82%3C/li%3E%3Cli%3E%E8%A7%A3%E8%80%A6%EF%BC%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%AA%E4%BE%9D%E8%B5%96%E5%A4%96%E8%A7%82%E7%B1%BB%EF%BC%8C%E4%B8%8D%E4%B8%8E%E5%85%B7%E4%BD%93%E5%AD%90%E7%B3%BB%E7%BB%9F%E8%80%A6%E5%90%88%3C/li%3E%3Cli%3E%E6%8F%90%E9%AB%98%E7%BB%B4%E6%8A%A4%E6%80%A7%EF%BC%8C%E5%AD%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8F%98%E5%8C%96%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E4%BF%AE%E6%94%B9%E5%A4%96%E8%A7%82%E7%B1%BB%EF%BC%8C%E4%B8%8D%E5%BD%B1%E5%93%8D%E5%AE%A2%E6%88%B7%E7%AB%AF%3C/li%3E%3C/ul%3E%3Cp%3E%3Cstrong%3E%E5%85%B6%E5%AE%83%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8%E7%A4%BA%E4%BE%8B%3C/strong%3E%3C/p%3E%3Col%3E%3Cli%3E%E7%BC%96%E8%AF%91%E5%99%A8/%E8%A7%A3%E6%9E%90%E5%99%A8%EF%BC%8C%E5%B0%86%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90%E3%80%81%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90%E3%80%81%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90%E5%A4%84%E7%90%86%E5%B0%81%E8%A3%85%E6%88%90%E4%B8%80%E4%B8%AA%3Ccode%3ECompiler%3C/code%3E%E5%A4%96%E8%A7%82%3C/li%3E%3Cli%3E%E6%94%AF%E4%BB%98%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%AF%B9%E6%8E%A5%E5%A4%9A%E4%B8%AA%E6%94%AF%E4%BB%98%E6%B8%A0%E9%81%93(%E5%BE%AE%E4%BF%A1%E3%80%81%E6%94%AF%E4%BB%98%E5%AE%9D%E3%80%81%E9%93%B6%E8%81%94),%E7%BB%9F%E4%B8%80%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3%3C/li%3E%3C/ol%3E" type="image"/>
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="facade" scheme="https://galudisu.info/tags/facade/"/>
    
  </entry>
  
  <entry>
    <title>组合模式(Composite Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Composite/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Composite/</id>
    <published>2025-05-10T10:25:03.000Z</published>
    <updated>2025-05-12T12:10:42.877Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>又叫部分整体模式，是用于把一组相似的对象当作一个单一的对象。组合模式依据<strong>树形结构</strong>来组合对象，用来表示”整体-部分“层次。这种模式使得客户端可以统一处理单个对象和组合对象，而无需关心它们的具体实现。</p></blockquote><img src="/assert/puml/22f0c50b3b853734516cc232fff2b8220df083e4655e5faa0b28d330d9081478.svg"/><span id="more"></span><h3 id="核心角色"><a class="header-anchor" href="#核心角色">¶</a>核心角色</h3><table><thead><tr><th><strong>角色</strong></th><th><strong>职责</strong></th></tr></thead><tbody><tr><td>Component</td><td>定义所有叶子和组合的公共接口，通常是抽象类或接口</td></tr><tr><td>Leaf</td><td>表示没有子节点的对象，实现基本操作</td></tr><tr><td>Composite</td><td>包含子组件的对象，实现容器行为，如添加、删除子组件等</td></tr></tbody></table><h3 id="适用场景"><a class="header-anchor" href="#适用场景">¶</a>适用场景</h3><ul><li>需要表示“整体-部分”关系的结构(如文件系统目录与文件、学校组织、管理层级)</li><li>希望客户端 <em>以一致方式处理单个对象和组合对象</em>。</li><li>结构具有层级性，并且可能动态变化。</li></ul><h3 id="真实案例"><a class="header-anchor" href="#真实案例">¶</a>真实案例</h3><p>对于某OA系统，中秋节安排了统一假期，但某些部门中秋节必须轮班，但可以节后进行调休申请。另外针对个别人员，比如电工、安防等个别对象需要派一到两个人留守，在节前申报了坚守岗位的名单后，office boy在OA系统上通过拖拽的方式，统一调整的内部员工的假期。</p><img src="/assert/puml/b7c3e9305ac1a7fbd7630176145966f8add3faf0604b9d280b45f1184c618df0.svg"/><p>设计如下：</p><table><thead><tr><th><strong>角色</strong></th><th><strong>实例</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>Component</td><td>AttendanceComponent</td><td>考勤</td></tr><tr><td>Leaf</td><td>EmployeeLeaf</td><td>员工个人的考勤</td></tr><tr><td>Composite</td><td>DepartmentComposite</td><td>整个部门的考勤</td></tr></tbody></table><p>组合模式(Composite Pattern)和企业级设计模式的“对象-关系”映射相对应，但这里只讨论代码层面的映射关系，设计如下</p><img src="/assert/puml/d9edde97f8418133667e001cd4e9f485cdd0389d979df1b0ef8352bcba66507d.svg"/><p>其中要求<code>DepartmentComposite</code>将描述为一种树结构，下面是部分代码实现，</p><p>Component接口，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AttendanceComponent</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">punchIn</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">punchOut</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 当日工时</span></span><br><span class="line">  <span class="type">long</span> <span class="title function_">getAttendance</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Leaf叶子节点，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeLeaf</span> <span class="keyword">implements</span> <span class="title class_">AttendanceComponent</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="type">long</span> <span class="variable">attendance</span> <span class="operator">=</span> <span class="number">0L</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> OffsetDateTime punchInTime;</span><br><span class="line">  <span class="keyword">private</span> OffsetDateTime punchOutTime;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">punchIn</span><span class="params">()</span> &#123;</span><br><span class="line">    punchInTime = OffsetDateTime.now();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">punchOut</span><span class="params">()</span> &#123;</span><br><span class="line">    punchOutTime = OffsetDateTime.now();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getAttendance</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (attendance == <span class="number">0</span> &amp;&amp; (punchOutTime != <span class="literal">null</span> &amp;&amp; punchInTime != <span class="literal">null</span>)) &#123;</span><br><span class="line">      attendance = Duration.between(punchInTime, punchOutTime).toMinutes();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> attendance;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Composite组合类，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DepartmentComposite</span> <span class="keyword">implements</span> <span class="title class_">AttendanceComponent</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> Set&lt;AttendanceComponent&gt; components = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">punchIn</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (AttendanceComponent component : components) &#123;</span><br><span class="line">      component.punchIn();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">punchOut</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (AttendanceComponent component : components) &#123;</span><br><span class="line">      component.punchOut();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getAttendance</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> components.stream().mapToLong(AttendanceComponent::getAttendance).sum();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(AttendanceComponent component)</span> &#123;</span><br><span class="line">    components.add(component);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(AttendanceComponent component)</span> &#123;</span><br><span class="line">    components.remove(component);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="总结"><a class="header-anchor" href="#总结">¶</a>总结</h2><p><strong>组合模式(Composite Pattern)</strong> 通过继承保持了单一职责原则，通过集合操作实现了“整体-部分”的一致性操作。</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;又叫部分整体模式，是用于把一组相似的对象当作一个单一的对象。组合模式依据&lt;strong&gt;树形结构&lt;/strong&gt;来组合对象，用来表示”整体-部分“层次。这种模式使得客户端可以统一处理单个对象和组合对象，而无需关心它们的具体实现。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/22f0c50b3b853734516cc232fff2b8220df083e4655e5faa0b28d330d9081478.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E5%8F%88%E5%8F%AB%E9%83%A8%E5%88%86%E6%95%B4%E4%BD%93%E6%A8%A1%E5%BC%8F%EF%BC%8C%E6%98%AF%E7%94%A8%E4%BA%8E%E6%8A%8A%E4%B8%80%E7%BB%84%E7%9B%B8%E4%BC%BC%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%BD%93%E4%BD%9C%E4%B8%80%E4%B8%AA%E5%8D%95%E4%B8%80%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E4%BE%9D%E6%8D%AE%3Cstrong%3E%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84%3C/strong%3E%E6%9D%A5%E7%BB%84%E5%90%88%E5%AF%B9%E8%B1%A1%EF%BC%8C%E7%94%A8%E6%9D%A5%E8%A1%A8%E7%A4%BA%E2%80%9D%E6%95%B4%E4%BD%93-%E9%83%A8%E5%88%86%E2%80%9C%E5%B1%82%E6%AC%A1%E3%80%82%E8%BF%99%E7%A7%8D%E6%A8%A1%E5%BC%8F%E4%BD%BF%E5%BE%97%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%AF%E4%BB%A5%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%BB%84%E5%90%88%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%80%8C%E6%97%A0%E9%9C%80%E5%85%B3%E5%BF%83%E5%AE%83%E4%BB%AC%E7%9A%84%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/22f0c50b3b853734516cc232fff2b8220df083e4655e5faa0b28d330d9081478.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E6%A0%B8%E5%BF%83%E8%A7%92%E8%89%B2%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A0%B8%E5%BF%83%E8%A7%92%E8%89%B2%22%3E%C2%B6%3C/a%3E%E6%A0%B8%E5%BF%83%E8%A7%92%E8%89%B2%3C/h3%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%3Cstrong%3E%E8%A7%92%E8%89%B2%3C/strong%3E%3C/th%3E%3Cth%3E%3Cstrong%3E%E8%81%8C%E8%B4%A3%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3EComponent%3C/td%3E%3Ctd%3E%E5%AE%9A%E4%B9%89%E6%89%80%E6%9C%89%E5%8F%B6%E5%AD%90%E5%92%8C%E7%BB%84%E5%90%88%E7%9A%84%E5%85%AC%E5%85%B1%E6%8E%A5%E5%8F%A3%EF%BC%8C%E9%80%9A%E5%B8%B8%E6%98%AF%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%88%96%E6%8E%A5%E5%8F%A3%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3ELeaf%3C/td%3E%3Ctd%3E%E8%A1%A8%E7%A4%BA%E6%B2%A1%E6%9C%89%E5%AD%90%E8%8A%82%E7%82%B9%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%AE%9E%E7%8E%B0%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EComposite%3C/td%3E%3Ctd%3E%E5%8C%85%E5%90%AB%E5%AD%90%E7%BB%84%E4%BB%B6%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%AE%9E%E7%8E%B0%E5%AE%B9%E5%99%A8%E8%A1%8C%E4%B8%BA%EF%BC%8C%E5%A6%82%E6%B7%BB%E5%8A%A0%E3%80%81%E5%88%A0%E9%99%A4%E5%AD%90%E7%BB%84%E4%BB%B6%E7%AD%89%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Ch3%20id=%22%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%C2%B6%3C/a%3E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%3C/h3%3E%3Cul%3E%3Cli%3E%E9%9C%80%E8%A6%81%E8%A1%A8%E7%A4%BA%E2%80%9C%E6%95%B4%E4%BD%93-%E9%83%A8%E5%88%86%E2%80%9D%E5%85%B3%E7%B3%BB%E7%9A%84%E7%BB%93%E6%9E%84(%E5%A6%82%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6%E3%80%81%E5%AD%A6%E6%A0%A1%E7%BB%84%E7%BB%87%E3%80%81%E7%AE%A1%E7%90%86%E5%B1%82%E7%BA%A7)%3C/li%3E%3Cli%3E%E5%B8%8C%E6%9C%9B%E5%AE%A2%E6%88%B7%E7%AB%AF%20%3Cem%3E%E4%BB%A5%E4%B8%80%E8%87%B4%E6%96%B9%E5%BC%8F%E5%A4%84%E7%90%86%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%BB%84%E5%90%88%E5%AF%B9%E8%B1%A1%3C/em%3E%E3%80%82%3C/li%3E%3Cli%3E%E7%BB%93%E6%9E%84%E5%85%B7%E6%9C%89%E5%B1%82%E7%BA%A7%E6%80%A7%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%8F%AF%E8%83%BD%E5%8A%A8%E6%80%81%E5%8F%98%E5%8C%96%E3%80%82%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E7%9C%9F%E5%AE%9E%E6%A1%88%E4%BE%8B%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%9C%9F%E5%AE%9E%E6%A1%88%E4%BE%8B%22%3E%C2%B6%3C/a%3E%E7%9C%9F%E5%AE%9E%E6%A1%88%E4%BE%8B%3C/h3%3E%3Cp%3E%E5%AF%B9%E4%BA%8E%E6%9F%90OA%E7%B3%BB%E7%BB%9F%EF%BC%8C%E4%B8%AD%E7%A7%8B%E8%8A%82%E5%AE%89%E6%8E%92%E4%BA%86%E7%BB%9F%E4%B8%80%E5%81%87%E6%9C%9F%EF%BC%8C%E4%BD%86%E6%9F%90%E4%BA%9B%E9%83%A8%E9%97%A8%E4%B8%AD%E7%A7%8B%E8%8A%82%E5%BF%85%E9%A1%BB%E8%BD%AE%E7%8F%AD%EF%BC%8C%E4%BD%86%E5%8F%AF%E4%BB%A5%E8%8A%82%E5%90%8E%E8%BF%9B%E8%A1%8C%E8%B0%83%E4%BC%91%E7%94%B3%E8%AF%B7%E3%80%82%E5%8F%A6%E5%A4%96%E9%92%88%E5%AF%B9%E4%B8%AA%E5%88%AB%E4%BA%BA%E5%91%98%EF%BC%8C%E6%AF%94%E5%A6%82%E7%94%B5%E5%B7%A5%E3%80%81%E5%AE%89%E9%98%B2%E7%AD%89%E4%B8%AA%E5%88%AB%E5%AF%B9%E8%B1%A1%E9%9C%80%E8%A6%81%E6%B4%BE%E4%B8%80%E5%88%B0%E4%B8%A4%E4%B8%AA%E4%BA%BA%E7%95%99%E5%AE%88%EF%BC%8C%E5%9C%A8%E8%8A%82%E5%89%8D%E7%94%B3%E6%8A%A5%E4%BA%86%E5%9D%9A%E5%AE%88%E5%B2%97%E4%BD%8D%E7%9A%84%E5%90%8D%E5%8D%95%E5%90%8E%EF%BC%8Coffice%20boy%E5%9C%A8OA%E7%B3%BB%E7%BB%9F%E4%B8%8A%E9%80%9A%E8%BF%87%E6%8B%96%E6%8B%BD%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E7%BB%9F%E4%B8%80%E8%B0%83%E6%95%B4%E7%9A%84%E5%86%85%E9%83%A8%E5%91%98%E5%B7%A5%E7%9A%84%E5%81%87%E6%9C%9F%E3%80%82%3C/p%3E%3Cimg%20src=%22/assert/puml/b7c3e9305ac1a7fbd7630176145966f8add3faf0604b9d280b45f1184c618df0.svg%22/%3E%3Cp%3E%E8%AE%BE%E8%AE%A1%E5%A6%82%E4%B8%8B%EF%BC%9A%3C/p%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%3Cstrong%3E%E8%A7%92%E8%89%B2%3C/strong%3E%3C/th%3E%3Cth%3E%3Cstrong%3E%E5%AE%9E%E4%BE%8B%3C/strong%3E%3C/th%3E%3Cth%3E%3Cstrong%3E%E6%8F%8F%E8%BF%B0%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3EComponent%3C/td%3E%3Ctd%3EAttendanceComponent%3C/td%3E%3Ctd%3E%E8%80%83%E5%8B%A4%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3ELeaf%3C/td%3E%3Ctd%3EEmployeeLeaf%3C/td%3E%3Ctd%3E%E5%91%98%E5%B7%A5%E4%B8%AA%E4%BA%BA%E7%9A%84%E8%80%83%E5%8B%A4%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EComposite%3C/td%3E%3Ctd%3EDepartmentComposite%3C/td%3E%3Ctd%3E%E6%95%B4%E4%B8%AA%E9%83%A8%E9%97%A8%E7%9A%84%E8%80%83%E5%8B%A4%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Cp%3E%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F(Composite%20Pattern)%E5%92%8C%E4%BC%81%E4%B8%9A%E7%BA%A7%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E2%80%9C%E5%AF%B9%E8%B1%A1-%E5%85%B3%E7%B3%BB%E2%80%9D%E6%98%A0%E5%B0%84%E7%9B%B8%E5%AF%B9%E5%BA%94%EF%BC%8C%E4%BD%86%E8%BF%99%E9%87%8C%E5%8F%AA%E8%AE%A8%E8%AE%BA%E4%BB%A3%E7%A0%81%E5%B1%82%E9%9D%A2%E7%9A%84%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%EF%BC%8C%E8%AE%BE%E8%AE%A1%E5%A6%82%E4%B8%8B%3C/p%3E%3Cimg%20src=%22/assert/puml/d9edde97f8418133667e001cd4e9f485cdd0389d979df1b0ef8352bcba66507d.svg%22/%3E%3Cp%3E%E5%85%B6%E4%B8%AD%E8%A6%81%E6%B1%82%3Ccode%3EDepartmentComposite%3C/code%3E%E5%B0%86%E6%8F%8F%E8%BF%B0%E4%B8%BA%E4%B8%80%E7%A7%8D%E6%A0%91%E7%BB%93%E6%9E%84%EF%BC%8C%E4%B8%8B%E9%9D%A2%E6%98%AF%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%EF%BC%8C%3C/p%3E%3Cp%3EComponent%E6%8E%A5%E5%8F%A3%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAttendanceComponent%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpunchIn%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpunchOut%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22comment%22%3E/%20%E5%BD%93%E6%97%A5%E5%B7%A5%E6%97%B6%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22type%22%3Elong%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EgetAttendance%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3ELeaf%E5%8F%B6%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEmployeeLeaf%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAttendanceComponent%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22type%22%3Elong%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eattendance%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22number%22%3E0L%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20OffsetDateTime%20punchInTime;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20OffsetDateTime%20punchOutTime;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpunchIn%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20punchInTime%20=%20OffsetDateTime.now();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpunchOut%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20punchOutTime%20=%20OffsetDateTime.now();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Elong%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EgetAttendance%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(attendance%20==%20%3Cspan%20class=%22number%22%3E0%3C/span%3E%20&amp;amp;&amp;amp;%20(punchOutTime%20!=%20%3Cspan%20class=%22literal%22%3Enull%3C/span%3E%20&amp;amp;&amp;amp;%20punchInTime%20!=%20%3Cspan%20class=%22literal%22%3Enull%3C/span%3E))%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20attendance%20=%20Duration.between(punchInTime,%20punchOutTime).toMinutes();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20attendance;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3EComposite%E7%BB%84%E5%90%88%E7%B1%BB%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EDepartmentComposite%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAttendanceComponent%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efinal%3C/span%3E%20Set&amp;lt;AttendanceComponent&amp;gt;%20components%20=%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EHashSet%3C/span%3E&amp;lt;&amp;gt;();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpunchIn%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20(AttendanceComponent%20component%20:%20components)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20component.punchIn();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpunchOut%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Efor%3C/span%3E%20(AttendanceComponent%20component%20:%20components)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20component.punchOut();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Elong%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EgetAttendance%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20components.stream().mapToLong(AttendanceComponent::getAttendance).sum();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eadd%3C/span%3E%3Cspan%20class=%22params%22%3E(AttendanceComponent%20component)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20components.add(component);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eremove%3C/span%3E%3Cspan%20class=%22params%22%3E(AttendanceComponent%20component)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20components.remove(component);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Ch2%20id=%22%E6%80%BB%E7%BB%93%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%80%BB%E7%BB%93%22%3E%C2%B6%3C/a%3E%E6%80%BB%E7%BB%93%3C/h2%3E%3Cp%3E%3Cstrong%3E%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F(Composite%20Pattern)%3C/strong%3E%20%E9%80%9A%E8%BF%87%E7%BB%A7%E6%89%BF%E4%BF%9D%E6%8C%81%E4%BA%86%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%8E%9F%E5%88%99%EF%BC%8C%E9%80%9A%E8%BF%87%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%E5%AE%9E%E7%8E%B0%E4%BA%86%E2%80%9C%E6%95%B4%E4%BD%93-%E9%83%A8%E5%88%86%E2%80%9D%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7%E6%93%8D%E4%BD%9C%E3%80%82%3C/p%3E" type="image"/>
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="composite" scheme="https://galudisu.info/tags/composite/"/>
    
  </entry>
  
  <entry>
    <title>装饰器模式(Decorator Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Decorator/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Decorator/</id>
    <published>2025-05-10T10:25:02.000Z</published>
    <updated>2025-05-11T16:16:24.567Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>若要扩展功能，装饰者提供了比集成更有弹性的替代方案，动态地将责任附加到对象上。</p></blockquote><img src="/assert/puml/02307d672ba01e2fed96d1b7c332747bc72a41cded1a754f25826829437fce6f.svg"/><span id="more"></span><h3 id="核心结构"><a class="header-anchor" href="#核心结构">¶</a>核心结构</h3><p><strong>装饰器模式(Decorator Pattern)</strong> 的核心在于在不修改已有实现的前提下，对其进行增强。这里体现了一个原则：<strong>类应该对扩展开放，对修改关闭</strong>。</p><h3 id="应用场景"><a class="header-anchor" href="#应用场景">¶</a>应用场景</h3><ul><li>当需要在不修改原有对象的前提下为其添加新功能时。</li><li>当子类扩展不切实际时(比如需要多个可选功能组合的情况)。</li><li>在Java IO流中大量使用了装饰器模式，例如<code>BufferedInputStream(InputStream)</code>就是对输入流的一种装饰。</li></ul><h3 id="需求"><a class="header-anchor" href="#需求">¶</a>需求</h3><p>设计游戏的装备系统，要求可以计算出每种装备在镶嵌了各种宝石后的攻击力和描述：</p><ul><li>按照要求，构建如下UML类图，其中包含装备超类<code>Equip</code>、装饰超类<code>EquipDecorator</code>、游戏属性角色如下：</li></ul><table><thead><tr><th><strong>装备</strong></th><th>红宝石(hp+)</th><th>蓝宝石(mp+)</th><th>绿宝石(sp+)</th><th>黄宝石(ak+)</th><th>紫宝石(df+)</th></tr></thead><tbody><tr><td>帽子🧢</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>上衣👔</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>护甲🧥</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>裤子👖</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>鞋子👢</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>武器🗡</td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>根据属性栏，设计装备属性，有攻击、敏捷、防御、hp/mp值。其中红宝石+hp，蓝宝石+mp，绿宝石+敏捷，黄宝石+攻击力，紫宝石+防御力。</p><img src="/assert/puml/581374393200909de2218f08bbc1a1f3d60f03d252d409881b8a370d3dd77b5b.svg"/><p>装饰器可以多层嵌套，例如获取得到的宝石都用在武器的加点上，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Equip</span> <span class="variable">levelUpWeapon</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RedGem</span>(<span class="keyword">new</span> <span class="title class_">BlueGem</span>(<span class="keyword">new</span> <span class="title class_">YellowGem</span>(<span class="keyword">new</span> <span class="title class_">GreenGem</span>(<span class="keyword">new</span> <span class="title class_">WwaponEquip</span>()))));</span><br><span class="line"><span class="comment">// 创建剑士并穿戴该氪金武器</span></span><br><span class="line"><span class="type">Swordman</span> <span class="variable">swordman</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Swordman</span>();</span><br><span class="line">swordman.equip(levelUpWeapon);</span><br><span class="line"></span><br><span class="line">System.out.println(swordman);</span><br><span class="line"></span><br><span class="line">Swordman&#123;</span><br><span class="line">  attack=<span class="number">12</span>, </span><br><span class="line">  defense=<span class="number">0</span>, </span><br><span class="line">  speed=<span class="number">5</span>, </span><br><span class="line">  hp=<span class="number">5</span>, </span><br><span class="line">  mp=<span class="number">10</span>, </span><br><span class="line">  equipment=已装备有：🗡</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>下面是示例代码的部分实现：</p><p>被装饰的类以及其超类，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Equip</span> &#123;</span><br><span class="line">  EquipType <span class="title function_">getType</span><span class="params">()</span>;</span><br><span class="line">  <span class="type">int</span> <span class="title function_">attack</span><span class="params">()</span>;</span><br><span class="line">  <span class="type">int</span> <span class="title function_">speed</span><span class="params">()</span>;</span><br><span class="line">  <span class="type">int</span> <span class="title function_">defense</span><span class="params">()</span>;</span><br><span class="line">  <span class="type">int</span> <span class="title function_">hp</span><span class="params">()</span>;</span><br><span class="line">  <span class="type">int</span> <span class="title function_">mp</span><span class="params">()</span>;</span><br><span class="line">  String <span class="title function_">description</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeaponEquip</span> <span class="keyword">implements</span> <span class="title class_">Equip</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> EquipType <span class="title function_">getType</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> EquipType.WEAPON;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">attack</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">speed</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">defense</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hp</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mp</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">description</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;🗡&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实现其装饰器，可以为<code>interface</code>或<code>abstract</code>，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">EquipDecorator</span> <span class="keyword">implements</span> <span class="title class_">Equip</span> &#123;</span><br><span class="line">  <span class="keyword">protected</span> Equip equip;</span><br><span class="line">  <span class="keyword">protected</span> <span class="title function_">EquipDecorator</span><span class="params">(Equip equip)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.equip = equip;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">attack</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.attack();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">speed</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.speed();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">defense</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.defense();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hp</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.hp();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mp</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.mp();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">description</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.description();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>按照定义，<strong>装饰器模式(decorator pattern)</strong> 在不改变已有类的前提下，对其实现增强。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BlueGemEquipDecorator</span> <span class="keyword">extends</span> <span class="title class_">EquipDecorator</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">BlueGemEquipDecorator</span><span class="params">(Equip equip)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(equip);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mp</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> equip.mp() + <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>优点</strong>：</p><ul><li>开闭原则： 不修改已有的类。</li><li>组合优于继承：更灵活，可以无限叠加</li><li>运行时可变： 可以在运行时添加或删除功能</li><li>高内聚低耦合： 每个装饰器只关注自己的增强逻辑</li></ul><h3 id="装饰器模式与代理模式的区别"><a class="header-anchor" href="#装饰器模式与代理模式的区别">¶</a>装饰器模式与代理模式的区别</h3><ol><li>目的不同： 装饰器模式是作 <strong>增强功能</strong>；代理模式则是实现 <strong>控制访问</strong>。</li><li>实现方式相同： 都是通过组合+接口一致性方式，都继承了目标的接口。</li><li>关注点不同： 装饰器模式是“添加职责”；代理模式是“封装访问“。</li><li>是否透明： 前者透明并增强；后者控制访问减少透明度</li></ol>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;若要扩展功能，装饰者提供了比集成更有弹性的替代方案，动态地将责任附加到对象上。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/02307d672ba01e2fed96d1b7c332747bc72a41cded1a754f25826829437fce6f.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E8%8B%A5%E8%A6%81%E6%89%A9%E5%B1%95%E5%8A%9F%E8%83%BD%EF%BC%8C%E8%A3%85%E9%A5%B0%E8%80%85%E6%8F%90%E4%BE%9B%E4%BA%86%E6%AF%94%E9%9B%86%E6%88%90%E6%9B%B4%E6%9C%89%E5%BC%B9%E6%80%A7%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%EF%BC%8C%E5%8A%A8%E6%80%81%E5%9C%B0%E5%B0%86%E8%B4%A3%E4%BB%BB%E9%99%84%E5%8A%A0%E5%88%B0%E5%AF%B9%E8%B1%A1%E4%B8%8A%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/02307d672ba01e2fed96d1b7c332747bc72a41cded1a754f25826829437fce6f.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%22%3E%C2%B6%3C/a%3E%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%3C/h3%3E%3Cp%3E%3Cstrong%3E%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F(Decorator%20Pattern)%3C/strong%3E%20%E7%9A%84%E6%A0%B8%E5%BF%83%E5%9C%A8%E4%BA%8E%E5%9C%A8%E4%B8%8D%E4%BF%AE%E6%94%B9%E5%B7%B2%E6%9C%89%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%EF%BC%8C%E5%AF%B9%E5%85%B6%E8%BF%9B%E8%A1%8C%E5%A2%9E%E5%BC%BA%E3%80%82%E8%BF%99%E9%87%8C%E4%BD%93%E7%8E%B0%E4%BA%86%E4%B8%80%E4%B8%AA%E5%8E%9F%E5%88%99%EF%BC%9A%3Cstrong%3E%E7%B1%BB%E5%BA%94%E8%AF%A5%E5%AF%B9%E6%89%A9%E5%B1%95%E5%BC%80%E6%94%BE%EF%BC%8C%E5%AF%B9%E4%BF%AE%E6%94%B9%E5%85%B3%E9%97%AD%3C/strong%3E%E3%80%82%3C/p%3E%3Ch3%20id=%22%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%C2%B6%3C/a%3E%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%3C/h3%3E%3Cul%3E%3Cli%3E%E5%BD%93%E9%9C%80%E8%A6%81%E5%9C%A8%E4%B8%8D%E4%BF%AE%E6%94%B9%E5%8E%9F%E6%9C%89%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%E4%B8%BA%E5%85%B6%E6%B7%BB%E5%8A%A0%E6%96%B0%E5%8A%9F%E8%83%BD%E6%97%B6%E3%80%82%3C/li%3E%3Cli%3E%E5%BD%93%E5%AD%90%E7%B1%BB%E6%89%A9%E5%B1%95%E4%B8%8D%E5%88%87%E5%AE%9E%E9%99%85%E6%97%B6(%E6%AF%94%E5%A6%82%E9%9C%80%E8%A6%81%E5%A4%9A%E4%B8%AA%E5%8F%AF%E9%80%89%E5%8A%9F%E8%83%BD%E7%BB%84%E5%90%88%E7%9A%84%E6%83%85%E5%86%B5)%E3%80%82%3C/li%3E%3Cli%3E%E5%9C%A8Java%20IO%E6%B5%81%E4%B8%AD%E5%A4%A7%E9%87%8F%E4%BD%BF%E7%94%A8%E4%BA%86%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%EF%BC%8C%E4%BE%8B%E5%A6%82%3Ccode%3EBufferedInputStream(InputStream)%3C/code%3E%E5%B0%B1%E6%98%AF%E5%AF%B9%E8%BE%93%E5%85%A5%E6%B5%81%E7%9A%84%E4%B8%80%E7%A7%8D%E8%A3%85%E9%A5%B0%E3%80%82%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E9%9C%80%E6%B1%82%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%9C%80%E6%B1%82%22%3E%C2%B6%3C/a%3E%E9%9C%80%E6%B1%82%3C/h3%3E%3Cp%3E%E8%AE%BE%E8%AE%A1%E6%B8%B8%E6%88%8F%E7%9A%84%E8%A3%85%E5%A4%87%E7%B3%BB%E7%BB%9F%EF%BC%8C%E8%A6%81%E6%B1%82%E5%8F%AF%E4%BB%A5%E8%AE%A1%E7%AE%97%E5%87%BA%E6%AF%8F%E7%A7%8D%E8%A3%85%E5%A4%87%E5%9C%A8%E9%95%B6%E5%B5%8C%E4%BA%86%E5%90%84%E7%A7%8D%E5%AE%9D%E7%9F%B3%E5%90%8E%E7%9A%84%E6%94%BB%E5%87%BB%E5%8A%9B%E5%92%8C%E6%8F%8F%E8%BF%B0%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E6%8C%89%E7%85%A7%E8%A6%81%E6%B1%82%EF%BC%8C%E6%9E%84%E5%BB%BA%E5%A6%82%E4%B8%8BUML%E7%B1%BB%E5%9B%BE%EF%BC%8C%E5%85%B6%E4%B8%AD%E5%8C%85%E5%90%AB%E8%A3%85%E5%A4%87%E8%B6%85%E7%B1%BB%3Ccode%3EEquip%3C/code%3E%E3%80%81%E8%A3%85%E9%A5%B0%E8%B6%85%E7%B1%BB%3Ccode%3EEquipDecorator%3C/code%3E%E3%80%81%E6%B8%B8%E6%88%8F%E5%B1%9E%E6%80%A7%E8%A7%92%E8%89%B2%E5%A6%82%E4%B8%8B%EF%BC%9A%3C/li%3E%3C/ul%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%3Cstrong%3E%E8%A3%85%E5%A4%87%3C/strong%3E%3C/th%3E%3Cth%3E%E7%BA%A2%E5%AE%9D%E7%9F%B3(hp+)%3C/th%3E%3Cth%3E%E8%93%9D%E5%AE%9D%E7%9F%B3(mp+)%3C/th%3E%3Cth%3E%E7%BB%BF%E5%AE%9D%E7%9F%B3(sp+)%3C/th%3E%3Cth%3E%E9%BB%84%E5%AE%9D%E7%9F%B3(ak+)%3C/th%3E%3Cth%3E%E7%B4%AB%E5%AE%9D%E7%9F%B3(df+)%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3E%E5%B8%BD%E5%AD%90%F0%9F%A7%A2%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E4%B8%8A%E8%A1%A3%F0%9F%91%94%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E6%8A%A4%E7%94%B2%F0%9F%A7%A5%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E8%A3%A4%E5%AD%90%F0%9F%91%96%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E9%9E%8B%E5%AD%90%F0%9F%91%A2%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E6%AD%A6%E5%99%A8%F0%9F%97%A1%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3Ctd%3E%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Cp%3E%E6%A0%B9%E6%8D%AE%E5%B1%9E%E6%80%A7%E6%A0%8F%EF%BC%8C%E8%AE%BE%E8%AE%A1%E8%A3%85%E5%A4%87%E5%B1%9E%E6%80%A7%EF%BC%8C%E6%9C%89%E6%94%BB%E5%87%BB%E3%80%81%E6%95%8F%E6%8D%B7%E3%80%81%E9%98%B2%E5%BE%A1%E3%80%81hp/mp%E5%80%BC%E3%80%82%E5%85%B6%E4%B8%AD%E7%BA%A2%E5%AE%9D%E7%9F%B3+hp%EF%BC%8C%E8%93%9D%E5%AE%9D%E7%9F%B3+mp%EF%BC%8C%E7%BB%BF%E5%AE%9D%E7%9F%B3+%E6%95%8F%E6%8D%B7%EF%BC%8C%E9%BB%84%E5%AE%9D%E7%9F%B3+%E6%94%BB%E5%87%BB%E5%8A%9B%EF%BC%8C%E7%B4%AB%E5%AE%9D%E7%9F%B3+%E9%98%B2%E5%BE%A1%E5%8A%9B%E3%80%82%3C/p%3E%3Cimg%20src=%22/assert/puml/581374393200909de2218f08bbc1a1f3d60f03d252d409881b8a370d3dd77b5b.svg%22/%3E%3Cp%3E%E8%A3%85%E9%A5%B0%E5%99%A8%E5%8F%AF%E4%BB%A5%E5%A4%9A%E5%B1%82%E5%B5%8C%E5%A5%97%EF%BC%8C%E4%BE%8B%E5%A6%82%E8%8E%B7%E5%8F%96%E5%BE%97%E5%88%B0%E7%9A%84%E5%AE%9D%E7%9F%B3%E9%83%BD%E7%94%A8%E5%9C%A8%E6%AD%A6%E5%99%A8%E7%9A%84%E5%8A%A0%E7%82%B9%E4%B8%8A%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3EEquip%3C/span%3E%20%3Cspan%20class=%22variable%22%3ElevelUpWeapon%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERedGem%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EBlueGem%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EYellowGem%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EGreenGem%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EWwaponEquip%3C/span%3E()))));%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22comment%22%3E/%20%E5%88%9B%E5%BB%BA%E5%89%91%E5%A3%AB%E5%B9%B6%E7%A9%BF%E6%88%B4%E8%AF%A5%E6%B0%AA%E9%87%91%E6%AD%A6%E5%99%A8%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22type%22%3ESwordman%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eswordman%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESwordman%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3Eswordman.equip(levelUpWeapon);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ESystem.out.println(swordman);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3ESwordman&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20attack=%3Cspan%20class=%22number%22%3E12%3C/span%3E,%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20defense=%3Cspan%20class=%22number%22%3E0%3C/span%3E,%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20speed=%3Cspan%20class=%22number%22%3E5%3C/span%3E,%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20hp=%3Cspan%20class=%22number%22%3E5%3C/span%3E,%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20mp=%3Cspan%20class=%22number%22%3E10%3C/span%3E,%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20equipment=%E5%B7%B2%E8%A3%85%E5%A4%87%E6%9C%89%EF%BC%9A%F0%9F%97%A1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AF%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E7%9A%84%E9%83%A8%E5%88%86%E5%AE%9E%E7%8E%B0%EF%BC%9A%3C/p%3E%3Cp%3E%E8%A2%AB%E8%A3%85%E9%A5%B0%E7%9A%84%E7%B1%BB%E4%BB%A5%E5%8F%8A%E5%85%B6%E8%B6%85%E7%B1%BB%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEquip%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20EquipType%20%3Cspan%20class=%22title%20function_%22%3EgetType%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eattack%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Espeed%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edefense%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ehp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20String%20%3Cspan%20class=%22title%20function_%22%3Edescription%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EWeaponEquip%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEquip%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20EquipType%20%3Cspan%20class=%22title%20function_%22%3EgetType%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20EquipType.WEAPON;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eattack%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Espeed%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edefense%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ehp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22number%22%3E0%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20String%20%3Cspan%20class=%22title%20function_%22%3Edescription%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;%F0%9F%97%A1&amp;quot;%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%AE%9E%E7%8E%B0%E5%85%B6%E8%A3%85%E9%A5%B0%E5%99%A8%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%B8%BA%3Ccode%3Einterface%3C/code%3E%E6%88%96%3Ccode%3Eabstract%3C/code%3E%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEquipDecorator%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEquip%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20Equip%20equip;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EEquipDecorator%3C/span%3E%3Cspan%20class=%22params%22%3E(Equip%20equip)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.equip%20=%20equip;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Eattack%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.attack();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Espeed%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.speed();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edefense%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.defense();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ehp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.hp();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.mp();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20String%20%3Cspan%20class=%22title%20function_%22%3Edescription%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.description();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%8C%89%E7%85%A7%E5%AE%9A%E4%B9%89%EF%BC%8C%3Cstrong%3E%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F(decorator%20pattern)%3C/strong%3E%20%E5%9C%A8%E4%B8%8D%E6%94%B9%E5%8F%98%E5%B7%B2%E6%9C%89%E7%B1%BB%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%EF%BC%8C%E5%AF%B9%E5%85%B6%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%BC%BA%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EBlueGemEquipDecorator%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEquipDecorator%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EBlueGemEquipDecorator%3C/span%3E%3Cspan%20class=%22params%22%3E(Equip%20equip)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(equip);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22type%22%3Eint%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emp%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20equip.mp()%20+%20%3Cspan%20class=%22number%22%3E10%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Cstrong%3E%E4%BC%98%E7%82%B9%3C/strong%3E%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%EF%BC%9A%20%E4%B8%8D%E4%BF%AE%E6%94%B9%E5%B7%B2%E6%9C%89%E7%9A%84%E7%B1%BB%E3%80%82%3C/li%3E%3Cli%3E%E7%BB%84%E5%90%88%E4%BC%98%E4%BA%8E%E7%BB%A7%E6%89%BF%EF%BC%9A%E6%9B%B4%E7%81%B5%E6%B4%BB%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%97%A0%E9%99%90%E5%8F%A0%E5%8A%A0%3C/li%3E%3Cli%3E%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8F%AF%E5%8F%98%EF%BC%9A%20%E5%8F%AF%E4%BB%A5%E5%9C%A8%E8%BF%90%E8%A1%8C%E6%97%B6%E6%B7%BB%E5%8A%A0%E6%88%96%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD%3C/li%3E%3Cli%3E%E9%AB%98%E5%86%85%E8%81%9A%E4%BD%8E%E8%80%A6%E5%90%88%EF%BC%9A%20%E6%AF%8F%E4%B8%AA%E8%A3%85%E9%A5%B0%E5%99%A8%E5%8F%AA%E5%85%B3%E6%B3%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A2%9E%E5%BC%BA%E9%80%BB%E8%BE%91%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E4%B8%8E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E4%B8%8E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%C2%B6%3C/a%3E%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E4%B8%8E%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%3C/h3%3E%3Col%3E%3Cli%3E%E7%9B%AE%E7%9A%84%E4%B8%8D%E5%90%8C%EF%BC%9A%20%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E6%98%AF%E4%BD%9C%20%3Cstrong%3E%E5%A2%9E%E5%BC%BA%E5%8A%9F%E8%83%BD%3C/strong%3E%EF%BC%9B%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%88%99%E6%98%AF%E5%AE%9E%E7%8E%B0%20%3Cstrong%3E%E6%8E%A7%E5%88%B6%E8%AE%BF%E9%97%AE%3C/strong%3E%E3%80%82%3C/li%3E%3Cli%3E%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E7%9B%B8%E5%90%8C%EF%BC%9A%20%E9%83%BD%E6%98%AF%E9%80%9A%E8%BF%87%E7%BB%84%E5%90%88+%E6%8E%A5%E5%8F%A3%E4%B8%80%E8%87%B4%E6%80%A7%E6%96%B9%E5%BC%8F%EF%BC%8C%E9%83%BD%E7%BB%A7%E6%89%BF%E4%BA%86%E7%9B%AE%E6%A0%87%E7%9A%84%E6%8E%A5%E5%8F%A3%E3%80%82%3C/li%3E%3Cli%3E%E5%85%B3%E6%B3%A8%E7%82%B9%E4%B8%8D%E5%90%8C%EF%BC%9A%20%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E6%98%AF%E2%80%9C%E6%B7%BB%E5%8A%A0%E8%81%8C%E8%B4%A3%E2%80%9D%EF%BC%9B%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E6%98%AF%E2%80%9C%E5%B0%81%E8%A3%85%E8%AE%BF%E9%97%AE%E2%80%9C%E3%80%82%3C/li%3E%3Cli%3E%E6%98%AF%E5%90%A6%E9%80%8F%E6%98%8E%EF%BC%9A%20%E5%89%8D%E8%80%85%E9%80%8F%E6%98%8E%E5%B9%B6%E5%A2%9E%E5%BC%BA%EF%BC%9B%E5%90%8E%E8%80%85%E6%8E%A7%E5%88%B6%E8%AE%BF%E9%97%AE%E5%87%8F%E5%B0%91%E9%80%8F%E6%98%8E%E5%BA%A6%3C/li%3E%3C/ol%3E" type="image"/>
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="decorator" scheme="https://galudisu.info/tags/decorator/"/>
    
  </entry>
  
  <entry>
    <title>桥接模式(Bridge Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Bridge/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Bridge/</id>
    <published>2025-05-10T10:25:01.000Z</published>
    <updated>2025-05-11T16:16:24.580Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>桥接(Bridge)是<strong>用于把抽象化与实现化解耦</strong>，使得二者可以独立变化。</p></blockquote><img src="/assert/puml/1c7fc28bdf3d3ce828d3a8e69309891daa6330aac3660ea3088ed78c46f2b8c6.svg"/><span id="more"></span><h3 id="适用场景"><a class="header-anchor" href="#适用场景">¶</a>适用场景</h3><p>有多种可能变化的情况下，用继承会造成类爆炸问题，扩展起来不灵活。例如一个类存在两个维度，一个维度可以扩展为2个维度，一个维度可以扩展为3个维度，排列组合后就是2x3个实例。</p><p>以画图为例，要实现一个画图工具，假设可以画圆和矩形，也可以给其进行颜色填充。按照定义，抽象和实现必须分开，</p><ul><li><strong>抽象维度</strong>： 图形(圆、矩形、正方形)</li><li><strong>实现维度</strong>： 颜色(红、绿、蓝)</li></ul><img src="/assert/puml/9b2f07da92406fbd677399c71c6721fd7eb526cf336b4cf135bf322b116c6e4b.svg"/><p>定义不同的颜色，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Red</span> <span class="keyword">implements</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;fillin red&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Blue</span> <span class="keyword">implements</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;fillin blue&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Green</span> <span class="keyword">implements</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;fillin green&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>定义桥接类，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">  <span class="keyword">protected</span> Color color;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">protected</span> <span class="title function_">Shape</span><span class="params">(Color color)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.color = color;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> 分离实现</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">(Color color)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(color);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Circle -&gt;&quot;</span>);</span><br><span class="line">    color.fill();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Rectangle</span><span class="params">(Color color)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(color);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Rectangle -&gt;&quot;</span>);</span><br><span class="line">    color.fill();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Square</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Square</span><span class="params">(Color color)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(color);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Square -&gt;&quot;</span>);</span><br><span class="line">    color.fill();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>按需所取，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Shape</span> <span class="variable">redCircle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="keyword">new</span> <span class="title class_">Red</span>());</span><br><span class="line">    <span class="type">Shape</span> <span class="variable">blueRectangle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rectangle</span>(<span class="keyword">new</span> <span class="title class_">Blue</span>());</span><br><span class="line">    <span class="type">Shape</span> <span class="variable">greenSquare</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Square</span>(<span class="keyword">new</span> <span class="title class_">Green</span>());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="总结"><a class="header-anchor" href="#总结">¶</a>总结</h2><p>桥接模式的核心特征是<strong>两个独立变化的维度</strong></p><blockquote><p>🔵<strong>抽象部分(Abstraction)</strong> 和 🔵<strong>实现部分(Implementor)</strong> 可以各自独立扩展，互不干扰。</p></blockquote><table><thead><tr><th>维度</th><th>描述</th></tr></thead><tbody><tr><td>抽象部分</td><td>定义高层操作，通常是一个类或接口，它包含对实现部分的引用</td></tr><tr><td>实现部分</td><td>定义地层行为，通常是接口或抽象类，用于被多个抽象类组合使用</td></tr></tbody></table><p>口诀：</p><blockquote><p>“一个类里由一个接口变量，并且这个接口决定了它的底层实现”</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;桥接(Bridge)是&lt;strong&gt;用于把抽象化与实现化解耦&lt;/strong&gt;，使得二者可以独立变化。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/1c7fc28bdf3d3ce828d3a8e69309891daa6330aac3660ea3088ed78c46f2b8c6.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E6%A1%A5%E6%8E%A5(Bridge)%E6%98%AF%3Cstrong%3E%E7%94%A8%E4%BA%8E%E6%8A%8A%E6%8A%BD%E8%B1%A1%E5%8C%96%E4%B8%8E%E5%AE%9E%E7%8E%B0%E5%8C%96%E8%A7%A3%E8%80%A6%3C/strong%3E%EF%BC%8C%E4%BD%BF%E5%BE%97%E4%BA%8C%E8%80%85%E5%8F%AF%E4%BB%A5%E7%8B%AC%E7%AB%8B%E5%8F%98%E5%8C%96%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/1c7fc28bdf3d3ce828d3a8e69309891daa6330aac3660ea3088ed78c46f2b8c6.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%C2%B6%3C/a%3E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%3C/h3%3E%3Cp%3E%E6%9C%89%E5%A4%9A%E7%A7%8D%E5%8F%AF%E8%83%BD%E5%8F%98%E5%8C%96%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E7%94%A8%E7%BB%A7%E6%89%BF%E4%BC%9A%E9%80%A0%E6%88%90%E7%B1%BB%E7%88%86%E7%82%B8%E9%97%AE%E9%A2%98%EF%BC%8C%E6%89%A9%E5%B1%95%E8%B5%B7%E6%9D%A5%E4%B8%8D%E7%81%B5%E6%B4%BB%E3%80%82%E4%BE%8B%E5%A6%82%E4%B8%80%E4%B8%AA%E7%B1%BB%E5%AD%98%E5%9C%A8%E4%B8%A4%E4%B8%AA%E7%BB%B4%E5%BA%A6%EF%BC%8C%E4%B8%80%E4%B8%AA%E7%BB%B4%E5%BA%A6%E5%8F%AF%E4%BB%A5%E6%89%A9%E5%B1%95%E4%B8%BA2%E4%B8%AA%E7%BB%B4%E5%BA%A6%EF%BC%8C%E4%B8%80%E4%B8%AA%E7%BB%B4%E5%BA%A6%E5%8F%AF%E4%BB%A5%E6%89%A9%E5%B1%95%E4%B8%BA3%E4%B8%AA%E7%BB%B4%E5%BA%A6%EF%BC%8C%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88%E5%90%8E%E5%B0%B1%E6%98%AF2x3%E4%B8%AA%E5%AE%9E%E4%BE%8B%E3%80%82%3C/p%3E%3Cp%3E%E4%BB%A5%E7%94%BB%E5%9B%BE%E4%B8%BA%E4%BE%8B%EF%BC%8C%E8%A6%81%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%94%BB%E5%9B%BE%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%81%87%E8%AE%BE%E5%8F%AF%E4%BB%A5%E7%94%BB%E5%9C%86%E5%92%8C%E7%9F%A9%E5%BD%A2%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%BB%99%E5%85%B6%E8%BF%9B%E8%A1%8C%E9%A2%9C%E8%89%B2%E5%A1%AB%E5%85%85%E3%80%82%E6%8C%89%E7%85%A7%E5%AE%9A%E4%B9%89%EF%BC%8C%E6%8A%BD%E8%B1%A1%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%BF%85%E9%A1%BB%E5%88%86%E5%BC%80%EF%BC%8C%3C/p%3E%3Cul%3E%3Cli%3E%3Cstrong%3E%E6%8A%BD%E8%B1%A1%E7%BB%B4%E5%BA%A6%3C/strong%3E%EF%BC%9A%20%E5%9B%BE%E5%BD%A2(%E5%9C%86%E3%80%81%E7%9F%A9%E5%BD%A2%E3%80%81%E6%AD%A3%E6%96%B9%E5%BD%A2)%3C/li%3E%3Cli%3E%3Cstrong%3E%E5%AE%9E%E7%8E%B0%E7%BB%B4%E5%BA%A6%3C/strong%3E%EF%BC%9A%20%E9%A2%9C%E8%89%B2(%E7%BA%A2%E3%80%81%E7%BB%BF%E3%80%81%E8%93%9D)%3C/li%3E%3C/ul%3E%3Cimg%20src=%22/assert/puml/9b2f07da92406fbd677399c71c6721fd7eb526cf336b4cf135bf322b116c6e4b.svg%22/%3E%3Cp%3E%E5%AE%9A%E4%B9%89%E4%B8%8D%E5%90%8C%E7%9A%84%E9%A2%9C%E8%89%B2%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EColor%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efill%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERed%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EColor%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efill%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;fillin%20red&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EBlue%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EColor%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efill%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;fillin%20blue&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EGreen%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EColor%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Efill%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;fillin%20green&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%AE%9A%E4%B9%89%E6%A1%A5%E6%8E%A5%E7%B1%BB%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EShape%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20Color%20color;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EShape%3C/span%3E%3Cspan%20class=%22params%22%3E(Color%20color)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.color%20=%20color;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edraw%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%88%86%E7%A6%BB%E5%AE%9E%E7%8E%B0%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECircle%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EShape%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ECircle%3C/span%3E%3Cspan%20class=%22params%22%3E(Color%20color)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(color);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edraw%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Circle%20-&amp;gt;&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20color.fill();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERectangle%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EShape%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ERectangle%3C/span%3E%3Cspan%20class=%22params%22%3E(Color%20color)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(color);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edraw%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Rectangle%20-&amp;gt;&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20color.fill();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESquare%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EShape%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3ESquare%3C/span%3E%3Cspan%20class=%22params%22%3E(Color%20color)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(color);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Edraw%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Square%20-&amp;gt;&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20color.fill();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E6%8C%89%E9%9C%80%E6%89%80%E5%8F%96%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EClient%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Emain%3C/span%3E%3Cspan%20class=%22params%22%3E(String[]%20args)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3EShape%3C/span%3E%20%3Cspan%20class=%22variable%22%3EredCircle%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECircle%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERed%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3EShape%3C/span%3E%20%3Cspan%20class=%22variable%22%3EblueRectangle%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERectangle%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EBlue%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3EShape%3C/span%3E%20%3Cspan%20class=%22variable%22%3EgreenSquare%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESquare%3C/span%3E(%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EGreen%3C/span%3E());%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Ch2%20id=%22%E6%80%BB%E7%BB%93%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%80%BB%E7%BB%93%22%3E%C2%B6%3C/a%3E%E6%80%BB%E7%BB%93%3C/h2%3E%3Cp%3E%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%A0%B8%E5%BF%83%E7%89%B9%E5%BE%81%E6%98%AF%3Cstrong%3E%E4%B8%A4%E4%B8%AA%E7%8B%AC%E7%AB%8B%E5%8F%98%E5%8C%96%E7%9A%84%E7%BB%B4%E5%BA%A6%3C/strong%3E%3C/p%3E%3Cblockquote%3E%3Cp%3E%F0%9F%94%B5%3Cstrong%3E%E6%8A%BD%E8%B1%A1%E9%83%A8%E5%88%86(Abstraction)%3C/strong%3E%20%E5%92%8C%20%F0%9F%94%B5%3Cstrong%3E%E5%AE%9E%E7%8E%B0%E9%83%A8%E5%88%86(Implementor)%3C/strong%3E%20%E5%8F%AF%E4%BB%A5%E5%90%84%E8%87%AA%E7%8B%AC%E7%AB%8B%E6%89%A9%E5%B1%95%EF%BC%8C%E4%BA%92%E4%B8%8D%E5%B9%B2%E6%89%B0%E3%80%82%3C/p%3E%3C/blockquote%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%E7%BB%B4%E5%BA%A6%3C/th%3E%3Cth%3E%E6%8F%8F%E8%BF%B0%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3E%E6%8A%BD%E8%B1%A1%E9%83%A8%E5%88%86%3C/td%3E%3Ctd%3E%E5%AE%9A%E4%B9%89%E9%AB%98%E5%B1%82%E6%93%8D%E4%BD%9C%EF%BC%8C%E9%80%9A%E5%B8%B8%E6%98%AF%E4%B8%80%E4%B8%AA%E7%B1%BB%E6%88%96%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%AE%83%E5%8C%85%E5%90%AB%E5%AF%B9%E5%AE%9E%E7%8E%B0%E9%83%A8%E5%88%86%E7%9A%84%E5%BC%95%E7%94%A8%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E5%AE%9E%E7%8E%B0%E9%83%A8%E5%88%86%3C/td%3E%3Ctd%3E%E5%AE%9A%E4%B9%89%E5%9C%B0%E5%B1%82%E8%A1%8C%E4%B8%BA%EF%BC%8C%E9%80%9A%E5%B8%B8%E6%98%AF%E6%8E%A5%E5%8F%A3%E6%88%96%E6%8A%BD%E8%B1%A1%E7%B1%BB%EF%BC%8C%E7%94%A8%E4%BA%8E%E8%A2%AB%E5%A4%9A%E4%B8%AA%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%BB%84%E5%90%88%E4%BD%BF%E7%94%A8%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Cp%3E%E5%8F%A3%E8%AF%80%EF%BC%9A%3C/p%3E%3Cblockquote%3E%3Cp%3E%E2%80%9C%E4%B8%80%E4%B8%AA%E7%B1%BB%E9%87%8C%E7%94%B1%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%8F%98%E9%87%8F%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%BF%99%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%86%B3%E5%AE%9A%E4%BA%86%E5%AE%83%E7%9A%84%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0%E2%80%9D%3C/p%3E%3C/blockquote%3E" type="image"/>
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="bridge" scheme="https://galudisu.info/tags/bridge/"/>
    
  </entry>
  
  <entry>
    <title>适配器模式(Adapter Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/structural/Adapter/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/structural/Adapter/</id>
    <published>2025-05-10T10:25:00.000Z</published>
    <updated>2025-05-11T16:16:24.567Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>将一个类的接口转换成客户期望的另一个接口，适配器<strong>让原本接口不兼容的类可以相互合作</strong>。</p></blockquote><img src="/assert/puml/2a6bbd20a8b38a99f1740f1e7b862f2c4b63171866066a1456c7427c71f071cb.svg"/><span id="more"></span><h3 id="核心作用"><a class="header-anchor" href="#核心作用">¶</a>核心作用</h3><ul><li><strong>兼容性</strong>： 使得原本由于接口部匹配而无法一起工作的类能够协同工作。</li><li><strong>复用性</strong>： 允许复用已有的类，即使它们不符合当前系统的统一结构标准。</li><li><strong>解耦性</strong>： 避免修改已有代码的前提下实现新功能对接。</li></ul><h3 id="适用场景"><a class="header-anchor" href="#适用场景">¶</a>适用场景</h3><ol><li>系统需要使用一些已有类，但这些类的接口不符合系统要求</li><li>希望复用一些旧的组件或第三方库，但它们的接口与当前系统不一致</li><li>在不修改原有代码的基础上进行接口适配</li></ol><h3 id="模式结构"><a class="header-anchor" href="#模式结构">¶</a>模式结构</h3><table><thead><tr><th><strong>角色</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>Target</td><td>客户端使用的接口，是期望的目标接口</td></tr><tr><td>Adaptee</td><td>已有的类，其接口与目标接口不兼容</td></tr><tr><td>Adapter</td><td>实现目标接口，并持有<code>Adaptee</code>对象，通过组合/继承的方式完成适配</td></tr></tbody></table><h3 id="示例"><a class="header-anchor" href="#示例">¶</a>示例</h3><p>最容易理解该模式的莫过于我们常用的电源适配器(adapter)，手机充电器一般都是5v左右，中国家用交流电压220v，日本100v，手机充电器代工方富士康需要生产一个适配器(降压器)来对手机进行充电，不然会过热起火。</p><table><thead><tr><th><strong>角色</strong></th><th><strong>实例</strong></th><th><strong>作用</strong></th></tr></thead><tbody><tr><td>Target</td><td>一部手机Mobile</td><td>给手机充电</td></tr><tr><td>Adaptee</td><td>220v的交流电</td><td>用交流电给手机充电，但电压不兼容</td></tr><tr><td>Adapter</td><td>手机充电器</td><td>富士康需要制作可提供5电压的充电器</td></tr><tr><td>ConcreteAdapter1</td><td>220v -&gt; 5v充电器</td><td>大陆用充电器</td></tr><tr><td>ConcreteAdapter2</td><td>100v -&gt; 5v充电器</td><td>日本美国标准用充电器</td></tr><tr><td>ConcreteAdapter3</td><td>230v -&gt; 5v充电器</td><td>欧洲标准用充电器</td></tr></tbody></table><p>示例代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PowerTarget</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaAdaptee</span> &#123; <span class="comment">// <i class="conum" data-value="2"></i></span></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">v220Charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">v230Charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">v100Charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span>; <span class="comment">// <i class="conum" data-value="3"></i></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaMobileAdapter</span> <span class="keyword">implements</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> ChinaAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">ChinaMobileAdapter</span><span class="params">(ChinaAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v220Charget(target);  <span class="comment">// <i class="conum" data-value="4"></i></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeMobileAdapter</span> <span class="keyword">implements</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> EuropeAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">EuropeMobileAdapter</span><span class="params">(EuropeAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v230Charget(target);  <span class="comment">// <i class="conum" data-value="5"></i></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanMobileAdapter</span> <span class="keyword">implements</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> JapanAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">JapanMobileAdapter</span><span class="params">(JapanAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v100Charget(target);  <span class="comment">// <i class="conum" data-value="5"></i></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> 目标接口，这里为给手机充电<br><i class="conum" data-value="2"></i> 被适配器<br><i class="conum" data-value="3"></i> 适配器<br><i class="conum" data-value="4"></i> 用220v的交流电，给目标手机充电<br><i class="conum" data-value="5"></i> 用230v的交流电，给目标手机充电<br><i class="conum" data-value="6"></i> 用100v的交流电，给目标手机充电</p><h3 id="适配器模式-工厂模式"><a class="header-anchor" href="#适配器模式-工厂模式">¶</a>适配器模式+工厂模式</h3><p>上面的例子中明显不符合“开闭原则”的，往往需要配合<a href="/2025/05/10/pattern/basic/creational/Factory/">工厂模式(Factory Pattern)</a>一起使用，即可以用<a href="/2025/05/10/pattern/basic/creational/Factory/#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Factory-Method-Pattern">工厂方法</a>，也可以用<a href="/2025/05/10/pattern/basic/creational/Factory/#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern">抽象工厂</a>。依具体情况而定：</p><p>下面是一种改进办法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PowerTarget</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaAdaptee</span> <span class="keyword">implements</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeAdaptee</span> <span class="keyword">implements</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanAdaptee</span> <span class="keyword">implements</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> MobileAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">MobileAdapter</span><span class="params">(MobileAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span>;    <span class="comment">// <i class="conum" data-value="1"></i> </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaMobileAdapter</span> <span class="keyword">extends</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">ChinaMobileAdapter</span><span class="params">(ChinaAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(adaptee);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v220Charge(target);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeMobileAdapter</span> <span class="keyword">extends</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">EuropeMobileAdapter</span><span class="params">(EuropeAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(adaptee);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v230Charge(target);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanMobileAdapter</span> <span class="keyword">extends</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">JapanMobileAdapter</span><span class="params">(JapanAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(adaptee);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v100Charge(target);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> 如果不希望扩展，可以直接使用<code>switch</code>进行模式匹配变更为<a href="/2025/05/10/pattern/basic/creational/Factory/#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Simple-Factory-Pattern">简单工厂</a>.</p><h3 id="适配器模式-策略模式"><a class="header-anchor" href="#适配器模式-策略模式">¶</a>适配器模式+策略模式</h3><p><a href="/2025/05/10/pattern/basic/behavioral/Strategy/">策略模式</a>中通常会结合适配器进行动态的上下文逻辑切换。例如：</p><ul><li>不同支付渠道(微信、支付宝、Paypal)通过统一接口调用，但内部使用各自适配器。</li><li>文件导入导出： CSV、Excel、JSON使用统一格式，但地层使用不同解析库。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PaymentStrategy</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeChatPayAdapter</span> <span class="keyword">implements</span> <span class="title class_">PamentStrategy</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> WeChatPay weChatPay;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span> &#123;</span><br><span class="line">    weChatPay.charge(amount);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="适配器-外观模式"><a class="header-anchor" href="#适配器-外观模式">¶</a>适配器+外观模式</h3><p>外观模式就是为一组实现提供了“一键”处理，结合适配器模式可以隐藏<code>adapter</code>自身的复杂性。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NotificationFacade</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> SmsAdapter smsAdapter;</span><br><span class="line">  <span class="keyword">private</span> EmailAdapter emailAdapter;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendNotification</span><span class="params">(String type, String message)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;sms&quot;</span>.equals(type)) &#123;</span><br><span class="line">      smsAdapter.send(message);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;email&quot;</span>.equals(type)) &#123;</span><br><span class="line">      emailAdapter.send(message);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>和上面的简单工厂不同，外观模式的实现是确定的，所以不会违反“开闭原则”。</p><h3 id="适配器-模板方法"><a class="header-anchor" href="#适配器-模板方法">¶</a>适配器+模板方法</h3><p>场景：</p><p>在固定流程中嵌入适配器逻辑，完成特定步骤的适配工作。适用于独立开发流程，避免相互干扰，提高开发效率。</p><p>示例：</p><ul><li>数据处理流程中的数据源适配(数据库、文件、API)，每种数据源都需适配成统一格式。</li><li>报表生成框架中适配不同数据来源。</li></ul><h3 id="与装饰模式的区别"><a class="header-anchor" href="#与装饰模式的区别">¶</a>与装饰模式的区别</h3><p>适配器模式和装饰器模式的结构非常相似，都是通过持有已有对象的一种实现：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Owner</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> Internal internal;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Owner</span><span class="params">(Internal in)</span> &#123;</span><br><span class="line">     ....</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但其核心目标不同：</p><table><thead><tr><th>模式</th><th>目的</th></tr></thead><tbody><tr><td><code>Adapter</code></td><td>将一个类的接口转换成客户端期望的另一个兼容接口，解决<strong>接口不兼容问题</strong>。</td></tr><tr><td><code>Decorator</code></td><td>动态地给对象添加职责或功能，提供比继承更灵活的扩展方式。</td></tr></tbody></table><ul><li>区别口诀</li></ul><ul><li><code>Adapter</code>是“改头换面”，为了兼容；</li><li><code>Decorator</code>是“锦上添花”，实现增强。</li></ul>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;将一个类的接口转换成客户期望的另一个接口，适配器&lt;strong&gt;让原本接口不兼容的类可以相互合作&lt;/strong&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/2a6bbd20a8b38a99f1740f1e7b862f2c4b63171866066a1456c7427c71f071cb.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E5%B0%86%E4%B8%80%E4%B8%AA%E7%B1%BB%E7%9A%84%E6%8E%A5%E5%8F%A3%E8%BD%AC%E6%8D%A2%E6%88%90%E5%AE%A2%E6%88%B7%E6%9C%9F%E6%9C%9B%E7%9A%84%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%EF%BC%8C%E9%80%82%E9%85%8D%E5%99%A8%3Cstrong%3E%E8%AE%A9%E5%8E%9F%E6%9C%AC%E6%8E%A5%E5%8F%A3%E4%B8%8D%E5%85%BC%E5%AE%B9%E7%9A%84%E7%B1%BB%E5%8F%AF%E4%BB%A5%E7%9B%B8%E4%BA%92%E5%90%88%E4%BD%9C%3C/strong%3E%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/2a6bbd20a8b38a99f1740f1e7b862f2c4b63171866066a1456c7427c71f071cb.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E6%A0%B8%E5%BF%83%E4%BD%9C%E7%94%A8%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A0%B8%E5%BF%83%E4%BD%9C%E7%94%A8%22%3E%C2%B6%3C/a%3E%E6%A0%B8%E5%BF%83%E4%BD%9C%E7%94%A8%3C/h3%3E%3Cul%3E%3Cli%3E%3Cstrong%3E%E5%85%BC%E5%AE%B9%E6%80%A7%3C/strong%3E%EF%BC%9A%20%E4%BD%BF%E5%BE%97%E5%8E%9F%E6%9C%AC%E7%94%B1%E4%BA%8E%E6%8E%A5%E5%8F%A3%E9%83%A8%E5%8C%B9%E9%85%8D%E8%80%8C%E6%97%A0%E6%B3%95%E4%B8%80%E8%B5%B7%E5%B7%A5%E4%BD%9C%E7%9A%84%E7%B1%BB%E8%83%BD%E5%A4%9F%E5%8D%8F%E5%90%8C%E5%B7%A5%E4%BD%9C%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E5%A4%8D%E7%94%A8%E6%80%A7%3C/strong%3E%EF%BC%9A%20%E5%85%81%E8%AE%B8%E5%A4%8D%E7%94%A8%E5%B7%B2%E6%9C%89%E7%9A%84%E7%B1%BB%EF%BC%8C%E5%8D%B3%E4%BD%BF%E5%AE%83%E4%BB%AC%E4%B8%8D%E7%AC%A6%E5%90%88%E5%BD%93%E5%89%8D%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%9F%E4%B8%80%E7%BB%93%E6%9E%84%E6%A0%87%E5%87%86%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E8%A7%A3%E8%80%A6%E6%80%A7%3C/strong%3E%EF%BC%9A%20%E9%81%BF%E5%85%8D%E4%BF%AE%E6%94%B9%E5%B7%B2%E6%9C%89%E4%BB%A3%E7%A0%81%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%E5%AE%9E%E7%8E%B0%E6%96%B0%E5%8A%9F%E8%83%BD%E5%AF%B9%E6%8E%A5%E3%80%82%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%22%3E%C2%B6%3C/a%3E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%3C/h3%3E%3Col%3E%3Cli%3E%E7%B3%BB%E7%BB%9F%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E4%B8%80%E4%BA%9B%E5%B7%B2%E6%9C%89%E7%B1%BB%EF%BC%8C%E4%BD%86%E8%BF%99%E4%BA%9B%E7%B1%BB%E7%9A%84%E6%8E%A5%E5%8F%A3%E4%B8%8D%E7%AC%A6%E5%90%88%E7%B3%BB%E7%BB%9F%E8%A6%81%E6%B1%82%3C/li%3E%3Cli%3E%E5%B8%8C%E6%9C%9B%E5%A4%8D%E7%94%A8%E4%B8%80%E4%BA%9B%E6%97%A7%E7%9A%84%E7%BB%84%E4%BB%B6%E6%88%96%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%EF%BC%8C%E4%BD%86%E5%AE%83%E4%BB%AC%E7%9A%84%E6%8E%A5%E5%8F%A3%E4%B8%8E%E5%BD%93%E5%89%8D%E7%B3%BB%E7%BB%9F%E4%B8%8D%E4%B8%80%E8%87%B4%3C/li%3E%3Cli%3E%E5%9C%A8%E4%B8%8D%E4%BF%AE%E6%94%B9%E5%8E%9F%E6%9C%89%E4%BB%A3%E7%A0%81%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%E8%BF%9B%E8%A1%8C%E6%8E%A5%E5%8F%A3%E9%80%82%E9%85%8D%3C/li%3E%3C/ol%3E%3Ch3%20id=%22%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%22%3E%C2%B6%3C/a%3E%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%3C/h3%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%3Cstrong%3E%E8%A7%92%E8%89%B2%3C/strong%3E%3C/th%3E%3Cth%3E%3Cstrong%3E%E6%8F%8F%E8%BF%B0%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3ETarget%3C/td%3E%3Ctd%3E%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BD%BF%E7%94%A8%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%98%AF%E6%9C%9F%E6%9C%9B%E7%9A%84%E7%9B%AE%E6%A0%87%E6%8E%A5%E5%8F%A3%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EAdaptee%3C/td%3E%3Ctd%3E%E5%B7%B2%E6%9C%89%E7%9A%84%E7%B1%BB%EF%BC%8C%E5%85%B6%E6%8E%A5%E5%8F%A3%E4%B8%8E%E7%9B%AE%E6%A0%87%E6%8E%A5%E5%8F%A3%E4%B8%8D%E5%85%BC%E5%AE%B9%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EAdapter%3C/td%3E%3Ctd%3E%E5%AE%9E%E7%8E%B0%E7%9B%AE%E6%A0%87%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%B9%B6%E6%8C%81%E6%9C%89%3Ccode%3EAdaptee%3C/code%3E%E5%AF%B9%E8%B1%A1%EF%BC%8C%E9%80%9A%E8%BF%87%E7%BB%84%E5%90%88/%E7%BB%A7%E6%89%BF%E7%9A%84%E6%96%B9%E5%BC%8F%E5%AE%8C%E6%88%90%E9%80%82%E9%85%8D%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Ch3%20id=%22%E7%A4%BA%E4%BE%8B%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%A4%BA%E4%BE%8B%22%3E%C2%B6%3C/a%3E%E7%A4%BA%E4%BE%8B%3C/h3%3E%3Cp%3E%E6%9C%80%E5%AE%B9%E6%98%93%E7%90%86%E8%A7%A3%E8%AF%A5%E6%A8%A1%E5%BC%8F%E7%9A%84%E8%8E%AB%E8%BF%87%E4%BA%8E%E6%88%91%E4%BB%AC%E5%B8%B8%E7%94%A8%E7%9A%84%E7%94%B5%E6%BA%90%E9%80%82%E9%85%8D%E5%99%A8(adapter)%EF%BC%8C%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%E5%99%A8%E4%B8%80%E8%88%AC%E9%83%BD%E6%98%AF5v%E5%B7%A6%E5%8F%B3%EF%BC%8C%E4%B8%AD%E5%9B%BD%E5%AE%B6%E7%94%A8%E4%BA%A4%E6%B5%81%E7%94%B5%E5%8E%8B220v%EF%BC%8C%E6%97%A5%E6%9C%AC100v%EF%BC%8C%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%E5%99%A8%E4%BB%A3%E5%B7%A5%E6%96%B9%E5%AF%8C%E5%A3%AB%E5%BA%B7%E9%9C%80%E8%A6%81%E7%94%9F%E4%BA%A7%E4%B8%80%E4%B8%AA%E9%80%82%E9%85%8D%E5%99%A8(%E9%99%8D%E5%8E%8B%E5%99%A8)%E6%9D%A5%E5%AF%B9%E6%89%8B%E6%9C%BA%E8%BF%9B%E8%A1%8C%E5%85%85%E7%94%B5%EF%BC%8C%E4%B8%8D%E7%84%B6%E4%BC%9A%E8%BF%87%E7%83%AD%E8%B5%B7%E7%81%AB%E3%80%82%3C/p%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%3Cstrong%3E%E8%A7%92%E8%89%B2%3C/strong%3E%3C/th%3E%3Cth%3E%3Cstrong%3E%E5%AE%9E%E4%BE%8B%3C/strong%3E%3C/th%3E%3Cth%3E%3Cstrong%3E%E4%BD%9C%E7%94%A8%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3ETarget%3C/td%3E%3Ctd%3E%E4%B8%80%E9%83%A8%E6%89%8B%E6%9C%BAMobile%3C/td%3E%3Ctd%3E%E7%BB%99%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EAdaptee%3C/td%3E%3Ctd%3E220v%E7%9A%84%E4%BA%A4%E6%B5%81%E7%94%B5%3C/td%3E%3Ctd%3E%E7%94%A8%E4%BA%A4%E6%B5%81%E7%94%B5%E7%BB%99%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%EF%BC%8C%E4%BD%86%E7%94%B5%E5%8E%8B%E4%B8%8D%E5%85%BC%E5%AE%B9%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EAdapter%3C/td%3E%3Ctd%3E%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3Ctd%3E%E5%AF%8C%E5%A3%AB%E5%BA%B7%E9%9C%80%E8%A6%81%E5%88%B6%E4%BD%9C%E5%8F%AF%E6%8F%90%E4%BE%9B5%E7%94%B5%E5%8E%8B%E7%9A%84%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EConcreteAdapter1%3C/td%3E%3Ctd%3E220v%20-&amp;gt;%205v%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3Ctd%3E%E5%A4%A7%E9%99%86%E7%94%A8%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EConcreteAdapter2%3C/td%3E%3Ctd%3E100v%20-&amp;gt;%205v%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3Ctd%3E%E6%97%A5%E6%9C%AC%E7%BE%8E%E5%9B%BD%E6%A0%87%E5%87%86%E7%94%A8%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3EConcreteAdapter3%3C/td%3E%3Ctd%3E230v%20-&amp;gt;%205v%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3Ctd%3E%E6%AC%A7%E6%B4%B2%E6%A0%87%E5%87%86%E7%94%A8%E5%85%85%E7%94%B5%E5%99%A8%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Cp%3E%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E41%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E42%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E43%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E44%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E45%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E46%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E47%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E48%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E49%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E50%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E51%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E52%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E53%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E54%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E55%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E56%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E57%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E58%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPowerTarget%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EChinaAdaptee%3C/span%3E%20&amp;#123;%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ev220Charge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEuropeAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ev230Charge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EJapanAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Ev100Charge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%223%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EChinaMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20ChinaAdaptee%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EChinaMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(ChinaAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.adaptee%20=%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v220Charget(target);%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%224%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEuropeMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20EuropeAdaptee%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EEuropeMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(EuropeAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.adaptee%20=%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v230Charget(target);%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%225%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EJapanMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20JapanAdaptee%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EJapanMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(JapanAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.adaptee%20=%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v100Charget(target);%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%225%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E7%9B%AE%E6%A0%87%E6%8E%A5%E5%8F%A3%EF%BC%8C%E8%BF%99%E9%87%8C%E4%B8%BA%E7%BB%99%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%20%E8%A2%AB%E9%80%82%E9%85%8D%E5%99%A8%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%223%22%3E%3C/i%3E%20%E9%80%82%E9%85%8D%E5%99%A8%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%224%22%3E%3C/i%3E%20%E7%94%A8220v%E7%9A%84%E4%BA%A4%E6%B5%81%E7%94%B5%EF%BC%8C%E7%BB%99%E7%9B%AE%E6%A0%87%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%225%22%3E%3C/i%3E%20%E7%94%A8230v%E7%9A%84%E4%BA%A4%E6%B5%81%E7%94%B5%EF%BC%8C%E7%BB%99%E7%9B%AE%E6%A0%87%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%226%22%3E%3C/i%3E%20%E7%94%A8100v%E7%9A%84%E4%BA%A4%E6%B5%81%E7%94%B5%EF%BC%8C%E7%BB%99%E7%9B%AE%E6%A0%87%E6%89%8B%E6%9C%BA%E5%85%85%E7%94%B5%3C/p%3E%3Ch3%20id=%22%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%22%3E%C2%B6%3C/a%3E%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F+%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%3C/h3%3E%3Cp%3E%E4%B8%8A%E9%9D%A2%E7%9A%84%E4%BE%8B%E5%AD%90%E4%B8%AD%E6%98%8E%E6%98%BE%E4%B8%8D%E7%AC%A6%E5%90%88%E2%80%9C%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E2%80%9D%E7%9A%84%EF%BC%8C%E5%BE%80%E5%BE%80%E9%9C%80%E8%A6%81%E9%85%8D%E5%90%88%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Factory/%22%3E%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F(Factory%20Pattern)%3C/a%3E%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%8D%B3%E5%8F%AF%E4%BB%A5%E7%94%A8%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Factory/#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Factory-Method-Pattern%22%3E%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%3C/a%3E%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%94%A8%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Factory/#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern%22%3E%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%3C/a%3E%E3%80%82%E4%BE%9D%E5%85%B7%E4%BD%93%E6%83%85%E5%86%B5%E8%80%8C%E5%AE%9A%EF%BC%9A%3C/p%3E%3Cp%3E%E4%B8%8B%E9%9D%A2%E6%98%AF%E4%B8%80%E7%A7%8D%E6%94%B9%E8%BF%9B%E5%8A%9E%E6%B3%95%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E41%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E42%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E43%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E44%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E45%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E46%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E47%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E48%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E49%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E50%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E51%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E52%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E53%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E54%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E55%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E56%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E57%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E58%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E59%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E60%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E61%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E62%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E63%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPowerTarget%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EChinaAdaptee%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEuropeAdaptee%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EJapanAdaptee%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdaptee%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Echarge%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20MobileAdaptee%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(MobileAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.adaptee%20=%20adaptee;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eabstract%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E;%20%20%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EChinaMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EChinaMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(ChinaAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(adaptee);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v220Charge(target);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EEuropeMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EEuropeMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(EuropeAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(adaptee);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v230Charge(target);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EJapanMobileAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EMobileAdapter%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EJapanMobileAdapter%3C/span%3E%3Cspan%20class=%22params%22%3E(JapanAdaptee%20adaptee)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E(adaptee);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EpowerOn%3C/span%3E%3Cspan%20class=%22params%22%3E(PowerTarget%20target)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20adaptee.v100Charge(target);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%A6%82%E6%9E%9C%E4%B8%8D%E5%B8%8C%E6%9C%9B%E6%89%A9%E5%B1%95%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%3Ccode%3Eswitch%3C/code%3E%E8%BF%9B%E8%A1%8C%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%E5%8F%98%E6%9B%B4%E4%B8%BA%3Ca%20href=%22/2025/05/10/pattern/basic/creational/Factory/#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Simple-Factory-Pattern%22%3E%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%3C/a%3E.%3C/p%3E%3Ch3%20id=%22%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%22%3E%C2%B6%3C/a%3E%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F+%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%3C/h3%3E%3Cp%3E%3Ca%20href=%22/2025/05/10/pattern/basic/behavioral/Strategy/%22%3E%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%3C/a%3E%E4%B8%AD%E9%80%9A%E5%B8%B8%E4%BC%9A%E7%BB%93%E5%90%88%E9%80%82%E9%85%8D%E5%99%A8%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E9%80%BB%E8%BE%91%E5%88%87%E6%8D%A2%E3%80%82%E4%BE%8B%E5%A6%82%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E4%B8%8D%E5%90%8C%E6%94%AF%E4%BB%98%E6%B8%A0%E9%81%93(%E5%BE%AE%E4%BF%A1%E3%80%81%E6%94%AF%E4%BB%98%E5%AE%9D%E3%80%81Paypal)%E9%80%9A%E8%BF%87%E7%BB%9F%E4%B8%80%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8%EF%BC%8C%E4%BD%86%E5%86%85%E9%83%A8%E4%BD%BF%E7%94%A8%E5%90%84%E8%87%AA%E9%80%82%E9%85%8D%E5%99%A8%E3%80%82%3C/li%3E%3Cli%3E%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA%EF%BC%9A%20CSV%E3%80%81Excel%E3%80%81JSON%E4%BD%BF%E7%94%A8%E7%BB%9F%E4%B8%80%E6%A0%BC%E5%BC%8F%EF%BC%8C%E4%BD%86%E5%9C%B0%E5%B1%82%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E8%A7%A3%E6%9E%90%E5%BA%93%E3%80%82%3C/li%3E%3C/ul%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPaymentStrategy%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Epay%3C/span%3E%3Cspan%20class=%22params%22%3E(%3Cspan%20class=%22type%22%3Edouble%3C/span%3E%20amount)%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EWeChatPayAdapter%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPamentStrategy%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20WeChatPay%20weChatPay;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Epay%3C/span%3E%3Cspan%20class=%22params%22%3E(%3Cspan%20class=%22type%22%3Edouble%3C/span%3E%20amount)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20weChatPay.charge(amount);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Ch3%20id=%22%E9%80%82%E9%85%8D%E5%99%A8-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E9%85%8D%E5%99%A8-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%22%3E%C2%B6%3C/a%3E%E9%80%82%E9%85%8D%E5%99%A8+%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%3C/h3%3E%3Cp%3E%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E5%B0%B1%E6%98%AF%E4%B8%BA%E4%B8%80%E7%BB%84%E5%AE%9E%E7%8E%B0%E6%8F%90%E4%BE%9B%E4%BA%86%E2%80%9C%E4%B8%80%E9%94%AE%E2%80%9D%E5%A4%84%E7%90%86%EF%BC%8C%E7%BB%93%E5%90%88%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%8F%AF%E4%BB%A5%E9%9A%90%E8%97%8F%3Ccode%3Eadapter%3C/code%3E%E8%87%AA%E8%BA%AB%E7%9A%84%E5%A4%8D%E6%9D%82%E6%80%A7%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ENotificationFacade%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20SmsAdapter%20smsAdapter;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20EmailAdapter%20emailAdapter;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EsendNotification%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20type,%20String%20message)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(%3Cspan%20class=%22string%22%3E&amp;quot;sms&amp;quot;%3C/span%3E.equals(type))%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20smsAdapter.send(message);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%20%3Cspan%20class=%22keyword%22%3Eelse%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eif%3C/span%3E%20(%3Cspan%20class=%22string%22%3E&amp;quot;email&amp;quot;%3C/span%3E.equals(type))%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20emailAdapter.send(message);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%92%8C%E4%B8%8A%E9%9D%A2%E7%9A%84%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E4%B8%8D%E5%90%8C%EF%BC%8C%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%98%AF%E7%A1%AE%E5%AE%9A%E7%9A%84%EF%BC%8C%E6%89%80%E4%BB%A5%E4%B8%8D%E4%BC%9A%E8%BF%9D%E5%8F%8D%E2%80%9C%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E2%80%9D%E3%80%82%3C/p%3E%3Ch3%20id=%22%E9%80%82%E9%85%8D%E5%99%A8-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%80%82%E9%85%8D%E5%99%A8-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%22%3E%C2%B6%3C/a%3E%E9%80%82%E9%85%8D%E5%99%A8+%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%3C/h3%3E%3Cp%3E%E5%9C%BA%E6%99%AF%EF%BC%9A%3C/p%3E%3Cp%3E%E5%9C%A8%E5%9B%BA%E5%AE%9A%E6%B5%81%E7%A8%8B%E4%B8%AD%E5%B5%8C%E5%85%A5%E9%80%82%E9%85%8D%E5%99%A8%E9%80%BB%E8%BE%91%EF%BC%8C%E5%AE%8C%E6%88%90%E7%89%B9%E5%AE%9A%E6%AD%A5%E9%AA%A4%E7%9A%84%E9%80%82%E9%85%8D%E5%B7%A5%E4%BD%9C%E3%80%82%E9%80%82%E7%94%A8%E4%BA%8E%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B%EF%BC%8C%E9%81%BF%E5%85%8D%E7%9B%B8%E4%BA%92%E5%B9%B2%E6%89%B0%EF%BC%8C%E6%8F%90%E9%AB%98%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E3%80%82%3C/p%3E%3Cp%3E%E7%A4%BA%E4%BE%8B%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E6%BA%90%E9%80%82%E9%85%8D(%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%81%E6%96%87%E4%BB%B6%E3%80%81API)%EF%BC%8C%E6%AF%8F%E7%A7%8D%E6%95%B0%E6%8D%AE%E6%BA%90%E9%83%BD%E9%9C%80%E9%80%82%E9%85%8D%E6%88%90%E7%BB%9F%E4%B8%80%E6%A0%BC%E5%BC%8F%E3%80%82%3C/li%3E%3Cli%3E%E6%8A%A5%E8%A1%A8%E7%94%9F%E6%88%90%E6%A1%86%E6%9E%B6%E4%B8%AD%E9%80%82%E9%85%8D%E4%B8%8D%E5%90%8C%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90%E3%80%82%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E4%B8%8E%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E4%B8%8E%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%22%3E%C2%B6%3C/a%3E%E4%B8%8E%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%3C/h3%3E%3Cp%3E%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%92%8C%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%BB%93%E6%9E%84%E9%9D%9E%E5%B8%B8%E7%9B%B8%E4%BC%BC%EF%BC%8C%E9%83%BD%E6%98%AF%E9%80%9A%E8%BF%87%E6%8C%81%E6%9C%89%E5%B7%B2%E6%9C%89%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%80%E7%A7%8D%E5%AE%9E%E7%8E%B0%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EOwner%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Efinal%3C/span%3E%20Internal%20internal;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EOwner%3C/span%3E%3Cspan%20class=%22params%22%3E(Internal%20in)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20....%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20...%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E4%BD%86%E5%85%B6%E6%A0%B8%E5%BF%83%E7%9B%AE%E6%A0%87%E4%B8%8D%E5%90%8C%EF%BC%9A%3C/p%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%E6%A8%A1%E5%BC%8F%3C/th%3E%3Cth%3E%E7%9B%AE%E7%9A%84%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3E%3Ccode%3EAdapter%3C/code%3E%3C/td%3E%3Ctd%3E%E5%B0%86%E4%B8%80%E4%B8%AA%E7%B1%BB%E7%9A%84%E6%8E%A5%E5%8F%A3%E8%BD%AC%E6%8D%A2%E6%88%90%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%9C%9F%E6%9C%9B%E7%9A%84%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%85%BC%E5%AE%B9%E6%8E%A5%E5%8F%A3%EF%BC%8C%E8%A7%A3%E5%86%B3%3Cstrong%3E%E6%8E%A5%E5%8F%A3%E4%B8%8D%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98%3C/strong%3E%E3%80%82%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%3Ccode%3EDecorator%3C/code%3E%3C/td%3E%3Ctd%3E%E5%8A%A8%E6%80%81%E5%9C%B0%E7%BB%99%E5%AF%B9%E8%B1%A1%E6%B7%BB%E5%8A%A0%E8%81%8C%E8%B4%A3%E6%88%96%E5%8A%9F%E8%83%BD%EF%BC%8C%E6%8F%90%E4%BE%9B%E6%AF%94%E7%BB%A7%E6%89%BF%E6%9B%B4%E7%81%B5%E6%B4%BB%E7%9A%84%E6%89%A9%E5%B1%95%E6%96%B9%E5%BC%8F%E3%80%82%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E%3Cul%3E%3Cli%3E%E5%8C%BA%E5%88%AB%E5%8F%A3%E8%AF%80%3C/li%3E%3C/ul%3E%3Cul%3E%3Cli%3E%3Ccode%3EAdapter%3C/code%3E%E6%98%AF%E2%80%9C%E6%94%B9%E5%A4%B4%E6%8D%A2%E9%9D%A2%E2%80%9D%EF%BC%8C%E4%B8%BA%E4%BA%86%E5%85%BC%E5%AE%B9%EF%BC%9B%3C/li%3E%3Cli%3E%3Ccode%3EDecorator%3C/code%3E%E6%98%AF%E2%80%9C%E9%94%A6%E4%B8%8A%E6%B7%BB%E8%8A%B1%E2%80%9D%EF%BC%8C%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%BC%BA%E3%80%82%3C/li%3E%3C/ul%3E" type="image"/>
    
    
    
    <category term="structural" scheme="https://galudisu.info/tags/structural/"/>
    
    <category term="adapter" scheme="https://galudisu.info/tags/adapter/"/>
    
  </entry>
  
  <entry>
    <title>原型模式(Prototype Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/creational/Prototype/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/creational/Prototype/</id>
    <published>2025-05-10T09:25:04.000Z</published>
    <updated>2025-05-11T16:16:24.584Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>原型模式是用于创建重复的对象，同时又能保证性能。这种类型的设计模式属于创建模式，它通过复制现在对象来创建新对象，而不是通过实例化类的方式。</p></blockquote><img src="/assert/puml/56e0fda471b4c19d729f8e314c854ce221edf16b30c3f2e801c18a72a04e4175.svg"/><span id="more"></span><h3 id="核心思想"><a class="header-anchor" href="#核心思想">¶</a>核心思想</h3><ul><li><strong>克隆一个已有对象</strong>，而不是从头创建。</li><li>被克隆的对象称为“原型(Prototype)”。</li></ul><h3 id="示例"><a class="header-anchor" href="#示例">¶</a>示例</h3><p>在Java中，可以通过实现<code>Cloneable</code>接口并重写<code>Object</code>类中的<code>clone()</code>方法来实现原型模式。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Prototype</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> String field;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Prototype</span><span class="params">(String field)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.field = field;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">protected</span> Prototype <span class="title function_">clone</span><span class="params">()</span> &#123;  <span class="comment">// <i class="conum" data-value="2"></i></span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> (Prototype) <span class="built_in">super</span>.close();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e):</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> 将被拷贝的属性。<br><i class="conum" data-value="2"></i> “饼印”。</p><p>优点：</p><ol><li><strong>提升性能</strong>： 避免了构造函数的开销，直接拷贝内存中的二进制流。</li><li><strong>简化对象创建</strong>： 无需关心对象的具体类型，只需要调用克隆方法即可。</li><li><strong>动态配置</strong>： 运行时可以动态加载和复制对象。</li></ol><p>适用场景：</p><ol><li>对象的创建过程复杂或耗时。</li><li>需要多个相似对象，并且它们之间差异较小。</li><li>系统需要独立于对象的创建与组合方式。</li></ol><h3 id="浅拷贝与深拷贝"><a class="header-anchor" href="#浅拷贝与深拷贝">¶</a>浅拷贝与深拷贝</h3><ul><li><strong>浅拷贝</strong>： 只复制基本数据类型，引用类型仅复制引用地址。</li><li><strong>深拷贝</strong>： 递归复制所有层级的对象。</li></ul><p>实现深拷贝的方法有两种</p><ol><li><p>手动复制每个字段</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> Prototype <span class="title function_">clone</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Prototype</span>(<span class="built_in">this</span>.field); <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> 创建对象，而非调用<code>super.clone();</code></p></li><li><p>序列化反序列化(适用于可序列化的对象)</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T <span class="keyword">extends</span> <span class="title class_">Serializable</span>&gt; T <span class="title function_">deepCopy</span><span class="params">(T object)</span> &#123;</span><br><span class="line"> <span class="keyword">try</span> (<span class="type">ByteArrayOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>(); <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(bos)) &#123;</span><br><span class="line">   oos.writeObject(object);</span><br><span class="line">   <span class="keyword">try</span> (<span class="type">ByteArrayInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayInputStream</span>(bos.toByteArray()); <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(bis)) &#123;</span><br><span class="line">     <span class="keyword">return</span> (T) ois.readObjet();</span><br><span class="line">   &#125;</span><br><span class="line"> &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">   <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><h2 id="总结"><a class="header-anchor" href="#总结">¶</a>总结</h2><table><thead><tr><th><strong>特性</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>模式类型</td><td>创建模式</td></tr><tr><td>核心机制</td><td>克隆已存在对象</td></tr><tr><td>主要优点</td><td>提高性能、简化创建流程</td></tr><tr><td>关键接口/类</td><td><code>Cloneable,Object.clone()</code></td></tr><tr><td>适用场景</td><td>对象创建复杂、需要多个相似对象</td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;原型模式是用于创建重复的对象，同时又能保证性能。这种类型的设计模式属于创建模式，它通过复制现在对象来创建新对象，而不是通过实例化类的方式。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img src=&quot;/assert/puml/56e0fda471b4c19d729f8e314c854ce221edf16b30c3f2e801c18a72a04e4175.svg&quot;/&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E6%98%AF%E7%94%A8%E4%BA%8E%E5%88%9B%E5%BB%BA%E9%87%8D%E5%A4%8D%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%90%8C%E6%97%B6%E5%8F%88%E8%83%BD%E4%BF%9D%E8%AF%81%E6%80%A7%E8%83%BD%E3%80%82%E8%BF%99%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%B1%9E%E4%BA%8E%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%AE%83%E9%80%9A%E8%BF%87%E5%A4%8D%E5%88%B6%E7%8E%B0%E5%9C%A8%E5%AF%B9%E8%B1%A1%E6%9D%A5%E5%88%9B%E5%BB%BA%E6%96%B0%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E9%80%9A%E8%BF%87%E5%AE%9E%E4%BE%8B%E5%8C%96%E7%B1%BB%E7%9A%84%E6%96%B9%E5%BC%8F%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/56e0fda471b4c19d729f8e314c854ce221edf16b30c3f2e801c18a72a04e4175.svg%22/%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Ch3%20id=%22%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3%22%3E%C2%B6%3C/a%3E%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3%3C/h3%3E%3Cul%3E%3Cli%3E%3Cstrong%3E%E5%85%8B%E9%9A%86%E4%B8%80%E4%B8%AA%E5%B7%B2%E6%9C%89%E5%AF%B9%E8%B1%A1%3C/strong%3E%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E4%BB%8E%E5%A4%B4%E5%88%9B%E5%BB%BA%E3%80%82%3C/li%3E%3Cli%3E%E8%A2%AB%E5%85%8B%E9%9A%86%E7%9A%84%E5%AF%B9%E8%B1%A1%E7%A7%B0%E4%B8%BA%E2%80%9C%E5%8E%9F%E5%9E%8B(Prototype)%E2%80%9D%E3%80%82%3C/li%3E%3C/ul%3E%3Ch3%20id=%22%E7%A4%BA%E4%BE%8B%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%A4%BA%E4%BE%8B%22%3E%C2%B6%3C/a%3E%E7%A4%BA%E4%BE%8B%3C/h3%3E%3Cp%3E%E5%9C%A8Java%E4%B8%AD%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%AE%9E%E7%8E%B0%3Ccode%3ECloneable%3C/code%3E%E6%8E%A5%E5%8F%A3%E5%B9%B6%E9%87%8D%E5%86%99%3Ccode%3EObject%3C/code%3E%E7%B1%BB%E4%B8%AD%E7%9A%84%3Ccode%3Eclone()%3C/code%3E%E6%96%B9%E6%B3%95%E6%9D%A5%E5%AE%9E%E7%8E%B0%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPrototype%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ECloneable%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprivate%3C/span%3E%20String%20field;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EPrototype%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20field)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.field%20=%20field;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20Prototype%20%3Cspan%20class=%22title%20function_%22%3Eclone%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Etry%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20(Prototype)%20%3Cspan%20class=%22built_in%22%3Esuper%3C/span%3E.close();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%20%3Cspan%20class=%22keyword%22%3Ecatch%3C/span%3E%20(CloneNotSupportedException%20e)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ethrow%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERuntimeException%3C/span%3E(e):%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%B0%86%E8%A2%AB%E6%8B%B7%E8%B4%9D%E7%9A%84%E5%B1%9E%E6%80%A7%E3%80%82%3Cbr%3E%3Ci%20class=%22conum%22%20data-value=%222%22%3E%3C/i%3E%20%E2%80%9C%E9%A5%BC%E5%8D%B0%E2%80%9D%E3%80%82%3C/p%3E%3Cp%3E%E4%BC%98%E7%82%B9%EF%BC%9A%3C/p%3E%3Col%3E%3Cli%3E%3Cstrong%3E%E6%8F%90%E5%8D%87%E6%80%A7%E8%83%BD%3C/strong%3E%EF%BC%9A%20%E9%81%BF%E5%85%8D%E4%BA%86%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E5%BC%80%E9%94%80%EF%BC%8C%E7%9B%B4%E6%8E%A5%E6%8B%B7%E8%B4%9D%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%B5%81%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E7%AE%80%E5%8C%96%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%3C/strong%3E%EF%BC%9A%20%E6%97%A0%E9%9C%80%E5%85%B3%E5%BF%83%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%B7%E4%BD%93%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E8%B0%83%E7%94%A8%E5%85%8B%E9%9A%86%E6%96%B9%E6%B3%95%E5%8D%B3%E5%8F%AF%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE%3C/strong%3E%EF%BC%9A%20%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8F%AF%E4%BB%A5%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E5%92%8C%E5%A4%8D%E5%88%B6%E5%AF%B9%E8%B1%A1%E3%80%82%3C/li%3E%3C/ol%3E%3Cp%3E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A%3C/p%3E%3Col%3E%3Cli%3E%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B%E5%A4%8D%E6%9D%82%E6%88%96%E8%80%97%E6%97%B6%E3%80%82%3C/li%3E%3Cli%3E%E9%9C%80%E8%A6%81%E5%A4%9A%E4%B8%AA%E7%9B%B8%E4%BC%BC%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%AE%83%E4%BB%AC%E4%B9%8B%E9%97%B4%E5%B7%AE%E5%BC%82%E8%BE%83%E5%B0%8F%E3%80%82%3C/li%3E%3Cli%3E%E7%B3%BB%E7%BB%9F%E9%9C%80%E8%A6%81%E7%8B%AC%E7%AB%8B%E4%BA%8E%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E7%BB%84%E5%90%88%E6%96%B9%E5%BC%8F%E3%80%82%3C/li%3E%3C/ol%3E%3Ch3%20id=%22%E6%B5%85%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%B5%85%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D%22%3E%C2%B6%3C/a%3E%E6%B5%85%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B7%B1%E6%8B%B7%E8%B4%9D%3C/h3%3E%3Cul%3E%3Cli%3E%3Cstrong%3E%E6%B5%85%E6%8B%B7%E8%B4%9D%3C/strong%3E%EF%BC%9A%20%E5%8F%AA%E5%A4%8D%E5%88%B6%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E4%BB%85%E5%A4%8D%E5%88%B6%E5%BC%95%E7%94%A8%E5%9C%B0%E5%9D%80%E3%80%82%3C/li%3E%3Cli%3E%3Cstrong%3E%E6%B7%B1%E6%8B%B7%E8%B4%9D%3C/strong%3E%EF%BC%9A%20%E9%80%92%E5%BD%92%E5%A4%8D%E5%88%B6%E6%89%80%E6%9C%89%E5%B1%82%E7%BA%A7%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%3C/li%3E%3C/ul%3E%3Cp%3E%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D%E7%9A%84%E6%96%B9%E6%B3%95%E6%9C%89%E4%B8%A4%E7%A7%8D%3C/p%3E%3Col%3E%3Cli%3E%3Cp%3E%E6%89%8B%E5%8A%A8%E5%A4%8D%E5%88%B6%E6%AF%8F%E4%B8%AA%E5%AD%97%E6%AE%B5%3C/p%3E%20%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22meta%22%3E@Override%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eprotected%3C/span%3E%20Prototype%20%3Cspan%20class=%22title%20function_%22%3Eclone%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EPrototype%3C/span%3E(%3Cspan%20class=%22built_in%22%3Ethis%3C/span%3E.field);%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%80%8C%E9%9D%9E%E8%B0%83%E7%94%A8%3Ccode%3Esuper.clone();%3C/code%3E%3C/p%3E%3C/li%3E%3Cli%3E%3Cp%3E%E5%BA%8F%E5%88%97%E5%8C%96%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(%E9%80%82%E7%94%A8%E4%BA%8E%E5%8F%AF%E5%BA%8F%E5%88%97%E5%8C%96%E7%9A%84%E5%AF%B9%E8%B1%A1)%3C/p%3E%20%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20&amp;lt;T%20%3Cspan%20class=%22keyword%22%3Eextends%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESerializable%3C/span%3E&amp;gt;%20T%20%3Cspan%20class=%22title%20function_%22%3EdeepCopy%3C/span%3E%3Cspan%20class=%22params%22%3E(T%20object)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%3Cspan%20class=%22keyword%22%3Etry%3C/span%3E%20(%3Cspan%20class=%22type%22%3EByteArrayOutputStream%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ebos%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EByteArrayOutputStream%3C/span%3E();%20%3Cspan%20class=%22type%22%3EObjectOutputStream%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eoos%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EObjectOutputStream%3C/span%3E(bos))%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20oos.writeObject(object);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%3Cspan%20class=%22keyword%22%3Etry%3C/span%3E%20(%3Cspan%20class=%22type%22%3EByteArrayInputStream%3C/span%3E%20%3Cspan%20class=%22variable%22%3Ebis%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EByteArrayInputStream%3C/span%3E(bos.toByteArray());%20%3Cspan%20class=%22type%22%3EObjectInputStream%3C/span%3E%20%3Cspan%20class=%22variable%22%3Eois%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EObjectInputStream%3C/span%3E(bis))%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20(T)%20ois.readObjet();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20&amp;#125;%20%3Cspan%20class=%22keyword%22%3Ecatch%3C/span%3E%20(Exception%20e)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%3Cspan%20class=%22keyword%22%3Ethrow%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ERuntimeException%3C/span%3E(e);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3C/li%3E%3C/ol%3E%3Ch2%20id=%22%E6%80%BB%E7%BB%93%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%80%BB%E7%BB%93%22%3E%C2%B6%3C/a%3E%E6%80%BB%E7%BB%93%3C/h2%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%3Cstrong%3E%E7%89%B9%E6%80%A7%3C/strong%3E%3C/th%3E%3Cth%3E%3Cstrong%3E%E6%8F%8F%E8%BF%B0%3C/strong%3E%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3E%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9E%8B%3C/td%3E%3Ctd%3E%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%BC%8F%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E6%A0%B8%E5%BF%83%E6%9C%BA%E5%88%B6%3C/td%3E%3Ctd%3E%E5%85%8B%E9%9A%86%E5%B7%B2%E5%AD%98%E5%9C%A8%E5%AF%B9%E8%B1%A1%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E4%B8%BB%E8%A6%81%E4%BC%98%E7%82%B9%3C/td%3E%3Ctd%3E%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD%E3%80%81%E7%AE%80%E5%8C%96%E5%88%9B%E5%BB%BA%E6%B5%81%E7%A8%8B%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E5%85%B3%E9%94%AE%E6%8E%A5%E5%8F%A3/%E7%B1%BB%3C/td%3E%3Ctd%3E%3Ccode%3ECloneable,Object.clone()%3C/code%3E%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%3C/td%3E%3Ctd%3E%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E5%A4%8D%E6%9D%82%E3%80%81%E9%9C%80%E8%A6%81%E5%A4%9A%E4%B8%AA%E7%9B%B8%E4%BC%BC%E5%AF%B9%E8%B1%A1%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E" type="image"/>
    
    
    
    <category term="creational" scheme="https://galudisu.info/tags/creational/"/>
    
    <category term="prototype" scheme="https://galudisu.info/tags/prototype/"/>
    
  </entry>
  
  <entry>
    <title>工厂模式(Factory Pattern)</title>
    <link href="https://galudisu.info/2025/05/10/pattern/basic/creational/Factory/"/>
    <id>https://galudisu.info/2025/05/10/pattern/basic/creational/Factory/</id>
    <published>2025-05-10T09:25:03.000Z</published>
    <updated>2025-05-11T16:16:24.574Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>顾名思义，一个可以生产很多“类”的类（工厂）。</p></blockquote><span id="more"></span><p>工厂模式几乎是所有面向对象开发中都会用到的一种设计模式，譬如Spring框架基于IoC(控制反转)容器的框架，大量依赖于工厂模式来管理对象的创建和生命周期。</p><p>工厂模式家族包含以下一些模式。</p><h3 id="静态工厂模式-Static-Factory-Pattern"><a class="header-anchor" href="#静态工厂模式-Static-Factory-Pattern">¶</a>静态工厂模式(Static Factory Pattern)</h3><p>一种简化版的工厂模式，通过<strong>包含静态方法的类</strong>来创建对象，客户端通过调用该静态方法并传入参数来获取所需的实例。</p><p>[] 静态工厂模式不是GoF的23中设计模式之一，但属于一种常见的编成实践。其核心是：</p><ul><li>提供一个静态工厂方法(static factory method)</li><li>方法根据参数或逻辑返回不同的实现类实例</li><li>客户端不需要使用<code>new</code>关键字直接创建对象</li></ul><p>由于静态工厂模式不符合开闭原则，因此不能被继承，无法实现多态。往往只能用于<code>创建单一固定类型的类</code>，或者说是<code>final</code>的类，下面是一个例子：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SocketFactory</span> &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> ServerSocket <span class="title function_">createServerSocket</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Socket <span class="title function_">createSocket</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Socket</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Socket <span class="title function_">createSocket</span><span class="params">(<span class="type">boolean</span> keepAlive)</span> &#123;</span><br><span class="line">    <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>();</span><br><span class="line">    socket.setKeepAlive(keepAlive);</span><br><span class="line">    <span class="keyword">return</span> socket;</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>基于它的定义，静态工厂更多的用作辅助类来使用，Java标准库中广泛使用了静态工厂方法，有：</p><ol><li><code>java.util.Collections#unmodifiableList(List&lt;T&gt; list)</code></li><li><code>java.util.Arrays#asList(T... a)</code></li><li><code>java.util.Optional#of(T value)</code></li><li><code>java.time.LocalDate#now()</code></li><li><code>java.nio.file.Paths.get(...)</code></li></ol><p>静态工厂适用于框架内部本身希望统一对象的构建过程，同时不希望在外部进行扩展的类。</p><h3 id="简单工厂模式-Simple-Factory-Pattern"><a class="header-anchor" href="#简单工厂模式-Simple-Factory-Pattern">¶</a>简单工厂模式(Simple Factory Pattern)</h3><blockquote><p>通过一个工厂类统一创建不同类型的对象，客户端无需指导具体类名，只需传入参数即可。</p></blockquote><img src="/assert/puml/e9a1a676420c7acc78e8e778d2e8239e40e9607cc3499cdb9f3db72348bec6e7.svg"/><p>简单工厂也是违反了“开闭原则”，新增的产品类需要修改工厂类。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductA</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Using Product A&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductB</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Using Product B&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleFactory</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> Product <span class="title function_">createProduct</span><span class="params">(String type)</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">switch</span>(type) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;A&quot;</span> -&gt; <span class="keyword">new</span> <span class="title class_">ProductA</span>();</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;B&quot;</span> -&gt; <span class="keyword">new</span> <span class="title class_">ProductB</span>();</span><br><span class="line">      <span class="keyword">default</span> -&gt; <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">UnsupportedOperation</span>(<span class="string">&quot;Unsupported Product Type&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> 违反“开闭原则”，每次新增产品时，都需要修改工厂类。</p><h3 id="工厂方法模式-Factory-Method-Pattern"><a class="header-anchor" href="#工厂方法模式-Factory-Method-Pattern">¶</a>工厂方法模式(Factory Method Pattern)</h3><blockquote><p>每个工厂只生产一种产品，新增产品只需扩展不需要修改，符合开闭原则。</p></blockquote><p>定义一个创建对象的接口，但由子类决定要实例化哪个类。工厂方法模式把类的实例化过程推迟到子类。</p><p>对比UML可以发现，工厂方法就是在原来的简单工厂模式的前提下，将原来的<code>SimpleFactory</code>提升为<code>interface</code>或<code>abstract</code><br>，延迟到具体的工厂类进行构建。这种实现满足了“开闭原则”。</p><img src="/assert/puml/0f9ce3ebea350ac0f85301868582ae20b6d4776c0abee6f046652a3aaf1855f7.svg"/><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductA</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Using Product A&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductB</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">use</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Using Product B&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Factory</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  Product <span class="title function_">createProduct</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FactoryA</span> implement Factory &#123;</span><br><span class="line">  <span class="keyword">public</span> Product <span class="title function_">createProduct</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductA</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FactoryB</span> implement Factory &#123;</span><br><span class="line">  <span class="keyword">public</span> Product <span class="title function_">createProduct</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductB</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> 工厂方法，由子类来决定类的实例化。</p><h3 id="抽象工厂-Abstract-Factory-Pattern"><a class="header-anchor" href="#抽象工厂-Abstract-Factory-Pattern">¶</a>抽象工厂(Abstract Factory Pattern)</h3><blockquote><p>提供一个接口，用于创建一组相关的或依赖对象的家族，适用于多平台、多配置系统(如跨平台UI控件库)。</p></blockquote><p>抽象工厂模式在基于原来的工厂方法模式的前提下，由单一类型，扩展为可以创建多种产品类型。</p><img src="/assert/puml/9ce8d50719d1b6bf842c934e097d1efafd7cefbf38af24e0076826bb3205ed77.svg"/><p>具体实现类，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductA</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">featureA</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductA1</span> implement ProductA &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">featureA</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Feature of Product A1&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductA2</span> implement ProductA &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">featureA</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Feature of Product A2&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductB</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">featureB</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductB1</span> implement ProductB &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">featureB</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Feature of Product B1&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductB2</span> implement ProductB &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">featureB</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Feature of Product B2&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AbstractFactory</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  ProductA <span class="title function_">createProductA</span><span class="params">()</span>;</span><br><span class="line">  ProductB <span class="title function_">createProductB</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Factory1</span> <span class="keyword">implements</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> ProductA <span class="title function_">createProductA</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductA1</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> ProductB <span class="title function_">createProductB</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductB1</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Factory2</span> <span class="keyword">implements</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> ProductA <span class="title function_">createProductA</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductA2</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> ProductB <span class="title function_">createProductB</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductB2</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><i class="conum" data-value="1"></i> 抽象工厂，由单一类型，扩展为支持多种类型。</p><h2 id="总结"><a class="header-anchor" href="#总结">¶</a>总结</h2><table><thead><tr><th>模式名称</th><th>创建对象数量</th><th>是否符合开闭原则</th><th>使用场景</th></tr></thead><tbody><tr><td>简单工厂模式</td><td>单一类型</td><td>否</td><td>简单对象创建，不频繁变更</td></tr><tr><td>工厂方法模式</td><td>单一类型</td><td>是</td><td>需要灵活扩展产品类型</td></tr><tr><td>抽象工厂模式</td><td>多种类型</td><td>是</td><td>创建多个相关或依赖对象的家族</td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;顾名思义，一个可以生产很多“类”的类（工厂）。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    <content src="https://galudisu.info/%3Cblockquote%3E%3Cp%3E%E9%A1%BE%E5%90%8D%E6%80%9D%E4%B9%89%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%8F%AF%E4%BB%A5%E7%94%9F%E4%BA%A7%E5%BE%88%E5%A4%9A%E2%80%9C%E7%B1%BB%E2%80%9D%E7%9A%84%E7%B1%BB%EF%BC%88%E5%B7%A5%E5%8E%82%EF%BC%89%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cspan%20id=%22more%22%3E%3C/span%3E%3Cp%3E%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%87%A0%E4%B9%8E%E6%98%AF%E6%89%80%E6%9C%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91%E4%B8%AD%E9%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E4%B8%80%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%8C%E8%AD%AC%E5%A6%82Spring%E6%A1%86%E6%9E%B6%E5%9F%BA%E4%BA%8EIoC(%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC)%E5%AE%B9%E5%99%A8%E7%9A%84%E6%A1%86%E6%9E%B6%EF%BC%8C%E5%A4%A7%E9%87%8F%E4%BE%9D%E8%B5%96%E4%BA%8E%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E6%9D%A5%E7%AE%A1%E7%90%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E3%80%82%3C/p%3E%3Cp%3E%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%AE%B6%E6%97%8F%E5%8C%85%E5%90%AB%E4%BB%A5%E4%B8%8B%E4%B8%80%E4%BA%9B%E6%A8%A1%E5%BC%8F%E3%80%82%3C/p%3E%3Ch3%20id=%22%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Static-Factory-Pattern%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Static-Factory-Pattern%22%3E%C2%B6%3C/a%3E%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F(Static%20Factory%20Pattern)%3C/h3%3E%3Cp%3E%E4%B8%80%E7%A7%8D%E7%AE%80%E5%8C%96%E7%89%88%E7%9A%84%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%EF%BC%8C%E9%80%9A%E8%BF%87%3Cstrong%3E%E5%8C%85%E5%90%AB%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E7%9A%84%E7%B1%BB%3C/strong%3E%E6%9D%A5%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%80%9A%E8%BF%87%E8%B0%83%E7%94%A8%E8%AF%A5%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E5%B9%B6%E4%BC%A0%E5%85%A5%E5%8F%82%E6%95%B0%E6%9D%A5%E8%8E%B7%E5%8F%96%E6%89%80%E9%9C%80%E7%9A%84%E5%AE%9E%E4%BE%8B%E3%80%82%3C/p%3E%3Cp%3E[]%20%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%B8%8D%E6%98%AFGoF%E7%9A%8423%E4%B8%AD%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E4%B8%80%EF%BC%8C%E4%BD%86%E5%B1%9E%E4%BA%8E%E4%B8%80%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84%E7%BC%96%E6%88%90%E5%AE%9E%E8%B7%B5%E3%80%82%E5%85%B6%E6%A0%B8%E5%BF%83%E6%98%AF%EF%BC%9A%3C/p%3E%3Cul%3E%3Cli%3E%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95(static%20factory%20method)%3C/li%3E%3Cli%3E%E6%96%B9%E6%B3%95%E6%A0%B9%E6%8D%AE%E5%8F%82%E6%95%B0%E6%88%96%E9%80%BB%E8%BE%91%E8%BF%94%E5%9B%9E%E4%B8%8D%E5%90%8C%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB%E5%AE%9E%E4%BE%8B%3C/li%3E%3Cli%3E%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8D%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%3Ccode%3Enew%3C/code%3E%E5%85%B3%E9%94%AE%E5%AD%97%E7%9B%B4%E6%8E%A5%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%3C/li%3E%3C/ul%3E%3Cp%3E%E7%94%B1%E4%BA%8E%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%B8%8D%E7%AC%A6%E5%90%88%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%EF%BC%8C%E5%9B%A0%E6%AD%A4%E4%B8%8D%E8%83%BD%E8%A2%AB%E7%BB%A7%E6%89%BF%EF%BC%8C%E6%97%A0%E6%B3%95%E5%AE%9E%E7%8E%B0%E5%A4%9A%E6%80%81%E3%80%82%E5%BE%80%E5%BE%80%E5%8F%AA%E8%83%BD%E7%94%A8%E4%BA%8E%3Ccode%3E%E5%88%9B%E5%BB%BA%E5%8D%95%E4%B8%80%E5%9B%BA%E5%AE%9A%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%B1%BB%3C/code%3E%EF%BC%8C%E6%88%96%E8%80%85%E8%AF%B4%E6%98%AF%3Ccode%3Efinal%3C/code%3E%E7%9A%84%E7%B1%BB%EF%BC%8C%E4%B8%8B%E9%9D%A2%E6%98%AF%E4%B8%80%E4%B8%AA%E4%BE%8B%E5%AD%90%EF%BC%9A%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESocketFactory%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20ServerSocket%20%3Cspan%20class=%22title%20function_%22%3EcreateServerSocket%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EServerSocket%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Socket%20%3Cspan%20class=%22title%20function_%22%3EcreateSocket%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESocket%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Estatic%3C/span%3E%20Socket%20%3Cspan%20class=%22title%20function_%22%3EcreateSocket%3C/span%3E%3Cspan%20class=%22params%22%3E(%3Cspan%20class=%22type%22%3Eboolean%3C/span%3E%20keepAlive)%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22type%22%3ESocket%3C/span%3E%20%3Cspan%20class=%22variable%22%3Esocket%3C/span%3E%20%3Cspan%20class=%22operator%22%3E=%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESocket%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20socket.setKeepAlive(keepAlive);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20socket;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20...%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%E5%9F%BA%E4%BA%8E%E5%AE%83%E7%9A%84%E5%AE%9A%E4%B9%89%EF%BC%8C%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%9B%B4%E5%A4%9A%E7%9A%84%E7%94%A8%E4%BD%9C%E8%BE%85%E5%8A%A9%E7%B1%BB%E6%9D%A5%E4%BD%BF%E7%94%A8%EF%BC%8CJava%E6%A0%87%E5%87%86%E5%BA%93%E4%B8%AD%E5%B9%BF%E6%B3%9B%E4%BD%BF%E7%94%A8%E4%BA%86%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%EF%BC%8C%E6%9C%89%EF%BC%9A%3C/p%3E%3Col%3E%3Cli%3E%3Ccode%3Ejava.util.Collections#unmodifiableList(List&amp;lt;T&amp;gt;%20list)%3C/code%3E%3C/li%3E%3Cli%3E%3Ccode%3Ejava.util.Arrays#asList(T...%20a)%3C/code%3E%3C/li%3E%3Cli%3E%3Ccode%3Ejava.util.Optional#of(T%20value)%3C/code%3E%3C/li%3E%3Cli%3E%3Ccode%3Ejava.time.LocalDate#now()%3C/code%3E%3C/li%3E%3Cli%3E%3Ccode%3Ejava.nio.file.Paths.get(...)%3C/code%3E%3C/li%3E%3C/ol%3E%3Cp%3E%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E9%80%82%E7%94%A8%E4%BA%8E%E6%A1%86%E6%9E%B6%E5%86%85%E9%83%A8%E6%9C%AC%E8%BA%AB%E5%B8%8C%E6%9C%9B%E7%BB%9F%E4%B8%80%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B%EF%BC%8C%E5%90%8C%E6%97%B6%E4%B8%8D%E5%B8%8C%E6%9C%9B%E5%9C%A8%E5%A4%96%E9%83%A8%E8%BF%9B%E8%A1%8C%E6%89%A9%E5%B1%95%E7%9A%84%E7%B1%BB%E3%80%82%3C/p%3E%3Ch3%20id=%22%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Simple-Factory-Pattern%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Simple-Factory-Pattern%22%3E%C2%B6%3C/a%3E%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F(Simple%20Factory%20Pattern)%3C/h3%3E%3Cblockquote%3E%3Cp%3E%E9%80%9A%E8%BF%87%E4%B8%80%E4%B8%AA%E5%B7%A5%E5%8E%82%E7%B1%BB%E7%BB%9F%E4%B8%80%E5%88%9B%E5%BB%BA%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%97%A0%E9%9C%80%E6%8C%87%E5%AF%BC%E5%85%B7%E4%BD%93%E7%B1%BB%E5%90%8D%EF%BC%8C%E5%8F%AA%E9%9C%80%E4%BC%A0%E5%85%A5%E5%8F%82%E6%95%B0%E5%8D%B3%E5%8F%AF%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cimg%20src=%22/assert/puml/e9a1a676420c7acc78e8e778d2e8239e40e9607cc3499cdb9f3db72348bec6e7.svg%22/%3E%3Cp%3E%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E4%B9%9F%E6%98%AF%E8%BF%9D%E5%8F%8D%E4%BA%86%E2%80%9C%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E2%80%9D%EF%BC%8C%E6%96%B0%E5%A2%9E%E7%9A%84%E4%BA%A7%E5%93%81%E7%B1%BB%E9%9C%80%E8%A6%81%E4%BF%AE%E6%94%B9%E5%B7%A5%E5%8E%82%E7%B1%BB%E3%80%82%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Using%20Product%20A&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Using%20Product%20B&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3ESimpleFactory%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20Product%20%3Cspan%20class=%22title%20function_%22%3EcreateProduct%3C/span%3E%3Cspan%20class=%22params%22%3E(String%20type)%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eswitch%3C/span%3E(type)%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ecase%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;A&amp;quot;%3C/span%3E%20-&amp;gt;%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Ecase%3C/span%3E%20%3Cspan%20class=%22string%22%3E&amp;quot;B&amp;quot;%3C/span%3E%20-&amp;gt;%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%20%20%3Cspan%20class=%22keyword%22%3Edefault%3C/span%3E%20-&amp;gt;%20%3Cspan%20class=%22keyword%22%3Ethrow%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EUnsupportedOperation%3C/span%3E(%3Cspan%20class=%22string%22%3E&amp;quot;Unsupported%20Product%20Type&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E8%BF%9D%E5%8F%8D%E2%80%9C%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E2%80%9D%EF%BC%8C%E6%AF%8F%E6%AC%A1%E6%96%B0%E5%A2%9E%E4%BA%A7%E5%93%81%E6%97%B6%EF%BC%8C%E9%83%BD%E9%9C%80%E8%A6%81%E4%BF%AE%E6%94%B9%E5%B7%A5%E5%8E%82%E7%B1%BB%E3%80%82%3C/p%3E%3Ch3%20id=%22%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Factory-Method-Pattern%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Factory-Method-Pattern%22%3E%C2%B6%3C/a%3E%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F(Factory%20Method%20Pattern)%3C/h3%3E%3Cblockquote%3E%3Cp%3E%E6%AF%8F%E4%B8%AA%E5%B7%A5%E5%8E%82%E5%8F%AA%E7%94%9F%E4%BA%A7%E4%B8%80%E7%A7%8D%E4%BA%A7%E5%93%81%EF%BC%8C%E6%96%B0%E5%A2%9E%E4%BA%A7%E5%93%81%E5%8F%AA%E9%9C%80%E6%89%A9%E5%B1%95%E4%B8%8D%E9%9C%80%E8%A6%81%E4%BF%AE%E6%94%B9%EF%BC%8C%E7%AC%A6%E5%90%88%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cp%3E%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E4%BD%86%E7%94%B1%E5%AD%90%E7%B1%BB%E5%86%B3%E5%AE%9A%E8%A6%81%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%93%AA%E4%B8%AA%E7%B1%BB%E3%80%82%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%E6%8A%8A%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%8C%96%E8%BF%87%E7%A8%8B%E6%8E%A8%E8%BF%9F%E5%88%B0%E5%AD%90%E7%B1%BB%E3%80%82%3C/p%3E%3Cp%3E%E5%AF%B9%E6%AF%94UML%E5%8F%AF%E4%BB%A5%E5%8F%91%E7%8E%B0%EF%BC%8C%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E5%B0%B1%E6%98%AF%E5%9C%A8%E5%8E%9F%E6%9D%A5%E7%9A%84%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%EF%BC%8C%E5%B0%86%E5%8E%9F%E6%9D%A5%E7%9A%84%3Ccode%3ESimpleFactory%3C/code%3E%E6%8F%90%E5%8D%87%E4%B8%BA%3Ccode%3Einterface%3C/code%3E%E6%88%96%3Ccode%3Eabstract%3C/code%3E%3Cbr%3E%EF%BC%8C%E5%BB%B6%E8%BF%9F%E5%88%B0%E5%85%B7%E4%BD%93%E7%9A%84%E5%B7%A5%E5%8E%82%E7%B1%BB%E8%BF%9B%E8%A1%8C%E6%9E%84%E5%BB%BA%E3%80%82%E8%BF%99%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%BB%A1%E8%B6%B3%E4%BA%86%E2%80%9C%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E2%80%9D%E3%80%82%3C/p%3E%3Cimg%20src=%22/assert/puml/0f9ce3ebea350ac0f85301868582ae20b6d4776c0abee6f046652a3aaf1855f7.svg%22/%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Using%20Product%20A&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProduct%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3Euse%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Using%20Product%20B&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EFactory%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20Product%20%3Cspan%20class=%22title%20function_%22%3EcreateProduct%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EFactoryA%3C/span%3E%20implement%20Factory%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20Product%20%3Cspan%20class=%22title%20function_%22%3EcreateProduct%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EFactoryB%3C/span%3E%20implement%20Factory%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20Product%20%3Cspan%20class=%22title%20function_%22%3EcreateProduct%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%EF%BC%8C%E7%94%B1%E5%AD%90%E7%B1%BB%E6%9D%A5%E5%86%B3%E5%AE%9A%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%8C%96%E3%80%82%3C/p%3E%3Ch3%20id=%22%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern%22%3E%C2%B6%3C/a%3E%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82(Abstract%20Factory%20Pattern)%3C/h3%3E%3Cblockquote%3E%3Cp%3E%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%EF%BC%8C%E7%94%A8%E4%BA%8E%E5%88%9B%E5%BB%BA%E4%B8%80%E7%BB%84%E7%9B%B8%E5%85%B3%E7%9A%84%E6%88%96%E4%BE%9D%E8%B5%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B6%E6%97%8F%EF%BC%8C%E9%80%82%E7%94%A8%E4%BA%8E%E5%A4%9A%E5%B9%B3%E5%8F%B0%E3%80%81%E5%A4%9A%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F(%E5%A6%82%E8%B7%A8%E5%B9%B3%E5%8F%B0UI%E6%8E%A7%E4%BB%B6%E5%BA%93)%E3%80%82%3C/p%3E%3C/blockquote%3E%3Cp%3E%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%9C%A8%E5%9F%BA%E4%BA%8E%E5%8E%9F%E6%9D%A5%E7%9A%84%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%89%8D%E6%8F%90%E4%B8%8B%EF%BC%8C%E7%94%B1%E5%8D%95%E4%B8%80%E7%B1%BB%E5%9E%8B%EF%BC%8C%E6%89%A9%E5%B1%95%E4%B8%BA%E5%8F%AF%E4%BB%A5%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%A7%8D%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B%E3%80%82%3C/p%3E%3Cimg%20src=%22/assert/puml/9ce8d50719d1b6bf842c934e097d1efafd7cefbf38af24e0076826bb3205ed77.svg%22/%3E%3Cp%3E%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%8C%3C/p%3E%3Cfigure%20class=%22highlight%20java%22%3E%3Ctable%3E%3Ctr%3E%3Ctd%20class=%22gutter%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E1%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E2%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E3%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E4%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E5%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E6%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E7%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E8%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E9%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E10%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E11%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E12%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E13%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E14%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E15%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E16%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E17%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E18%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E19%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E20%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E21%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E22%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E23%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E24%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E25%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E26%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E27%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E28%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E29%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E30%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E31%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E32%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E33%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E34%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E35%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E36%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E37%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E38%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E39%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E40%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E41%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E42%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E43%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E44%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E45%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E46%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E47%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E48%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E49%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E50%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3Ctd%20class=%22code%22%3E%3Cpre%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA1%3C/span%3E%20implement%20ProductA%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Feature%20of%20Product%20A1&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA2%3C/span%3E%20implement%20ProductA%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Feature%20of%20Product%20A2&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB1%3C/span%3E%20implement%20ProductB%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Feature%20of%20Product%20B1&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB2%3C/span%3E%20implement%20ProductB%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Evoid%3C/span%3E%20%3Cspan%20class=%22title%20function_%22%3EfeatureB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20System.out.println(%3Cspan%20class=%22string%22%3E&amp;quot;Feature%20of%20Product%20B2&amp;quot;%3C/span%3E);%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Einterface%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAbstractFactory%3C/span%3E%20&amp;#123;%20%20%3Cspan%20class=%22comment%22%3E/%20%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%3C/span%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20ProductA%20%3Cspan%20class=%22title%20function_%22%3EcreateProductA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20ProductB%20%3Cspan%20class=%22title%20function_%22%3EcreateProductB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EFactory1%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAbstractFactory%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20ProductA%20%3Cspan%20class=%22title%20function_%22%3EcreateProductA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA1%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20ProductB%20%3Cspan%20class=%22title%20function_%22%3EcreateProductB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB1%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eclass%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EFactory2%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Eimplements%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EAbstractFactory%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20ProductA%20%3Cspan%20class=%22title%20function_%22%3EcreateProductA%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductA2%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%3Cspan%20class=%22keyword%22%3Epublic%3C/span%3E%20ProductB%20%3Cspan%20class=%22title%20function_%22%3EcreateProductB%3C/span%3E%3Cspan%20class=%22params%22%3E()%3C/span%3E%20&amp;#123;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20%20%20%3Cspan%20class=%22keyword%22%3Ereturn%3C/span%3E%20%3Cspan%20class=%22keyword%22%3Enew%3C/span%3E%20%3Cspan%20class=%22title%20class_%22%3EProductB2%3C/span%3E();%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%20%20&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E&amp;#125;%3C/span%3E%3Cbr%3E%3Cspan%20class=%22line%22%3E%3C/span%3E%3Cbr%3E%3C/pre%3E%3C/td%3E%3C/tr%3E%3C/table%3E%3C/figure%3E%3Cp%3E%3Ci%20class=%22conum%22%20data-value=%221%22%3E%3C/i%3E%20%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%EF%BC%8C%E7%94%B1%E5%8D%95%E4%B8%80%E7%B1%BB%E5%9E%8B%EF%BC%8C%E6%89%A9%E5%B1%95%E4%B8%BA%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E7%B1%BB%E5%9E%8B%E3%80%82%3C/p%3E%3Ch2%20id=%22%E6%80%BB%E7%BB%93%22%3E%3Ca%20class=%22header-anchor%22%20href=%22#%E6%80%BB%E7%BB%93%22%3E%C2%B6%3C/a%3E%E6%80%BB%E7%BB%93%3C/h2%3E%3Ctable%3E%3Cthead%3E%3Ctr%3E%3Cth%3E%E6%A8%A1%E5%BC%8F%E5%90%8D%E7%A7%B0%3C/th%3E%3Cth%3E%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E6%95%B0%E9%87%8F%3C/th%3E%3Cth%3E%E6%98%AF%E5%90%A6%E7%AC%A6%E5%90%88%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%3C/th%3E%3Cth%3E%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%3C/th%3E%3C/tr%3E%3C/thead%3E%3Ctbody%3E%3Ctr%3E%3Ctd%3E%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%3C/td%3E%3Ctd%3E%E5%8D%95%E4%B8%80%E7%B1%BB%E5%9E%8B%3C/td%3E%3Ctd%3E%E5%90%A6%3C/td%3E%3Ctd%3E%E7%AE%80%E5%8D%95%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%EF%BC%8C%E4%B8%8D%E9%A2%91%E7%B9%81%E5%8F%98%E6%9B%B4%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%3C/td%3E%3Ctd%3E%E5%8D%95%E4%B8%80%E7%B1%BB%E5%9E%8B%3C/td%3E%3Ctd%3E%E6%98%AF%3C/td%3E%3Ctd%3E%E9%9C%80%E8%A6%81%E7%81%B5%E6%B4%BB%E6%89%A9%E5%B1%95%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B%3C/td%3E%3C/tr%3E%3Ctr%3E%3Ctd%3E%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%3C/td%3E%3Ctd%3E%E5%A4%9A%E7%A7%8D%E7%B1%BB%E5%9E%8B%3C/td%3E%3Ctd%3E%E6%98%AF%3C/td%3E%3Ctd%3E%E5%88%9B%E5%BB%BA%E5%A4%9A%E4%B8%AA%E7%9B%B8%E5%85%B3%E6%88%96%E4%BE%9D%E8%B5%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%B6%E6%97%8F%3C/td%3E%3C/tr%3E%3C/tbody%3E%3C/table%3E" type="image"/>
    
    
    
    <category term="creational" scheme="https://galudisu.info/tags/creational/"/>
    
    <category term="factory" scheme="https://galudisu.info/tags/factory/"/>
    
  </entry>
  
</feed>
