<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><title>ruståŸºç¡€å…¥é—¨[07] - Enumerating Cases</title>
<link rel="stylesheet" href="/css/layout.css">
<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="/css/vendors/rabbit-lyrics.css">
<link rel="shortcut icon" href="/img/favicon.ico"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ç®€å•æ˜“æ‡‚ã®ç°ä»£é­”æ³•" type="application/atom+xml">
</head><body><header class="base-menu"><div class="menu-wrapper"><div class="menu-layout-bg"></div><nav class="menu-content"><ul class="menu-list"><li class="menu-item"><a class="menu-link" href="/">ç®€å•æ˜“æ‡‚ã®ç°ä»£é­”æ³•</a></li><li class="menu-item"><a class="menu-link" href="/archives/">Archives</a></li><li class="menu-item"><a class="menu-link" target="_blank" rel="noopener" href="http://weibo.com/u/2360401155">Weibo</a></li><li class="menu-item"><a class="menu-link" href="/about">About</a></li><li class="menu-item"><a class="menu-link" href="/atom.xml">Rss</a></li></ul></nav></div></header><header class="base-mobile-menu"><div class="mobile-menu-wrapper"><div class="menu-layout-bg"></div><nav class="menu-content"><ul class="menu-list"><li class="menu-item"><a class="menu-link" href="/">ç®€å•æ˜“æ‡‚ã®ç°ä»£é­”æ³•</a></li><li class="menu-item"><a class="menu-link" href="/archives/">Archives</a></li><li class="menu-item"><a class="menu-link" target="_blank" rel="noopener" href="http://weibo.com/u/2360401155">Weibo</a></li><li class="menu-item"><a class="menu-link" href="/about">About</a></li><li class="menu-item"><a class="menu-link" href="/atom.xml">Rss</a></li></ul></nav><div class="toggle-menu" id="mobile-menu-toggle"><span class="menu-bar"></span><span class="menu-bar"> </span><span class="menu-bar"></span></div></div></header><div class="base-content"><div class="base-content-main"><article class="article-main"><h1 class="article-title">ruståŸºç¡€å…¥é—¨[07] - Enumerating Cases</h1><div class="article-meta"><p class="meta-item meta-time"><span class="meta-item-title"></span><i class="icon-calendar"> </i>2023-01-07</p><p class="meta-item meta-tag"><span class="meta-item-title"></span><i class="icon-tag"> </i><a class="tag-link" href="/tags/rust/">rust</a></p><p class="meta-item meta-category"><span class="meta-item-title"></span><i class="icon-bookmark"> </i><a class="category-link" href="/categories/learning/">learning</a></p></div><div class="article-content"><p>æœ¬ç« è¦†ç›–æœ‰ï¼š</p>
<ul>
<li>å¦‚ä½•ä»æœ‰é™é›†å®šä¹‰æšä¸¾å˜é‡</li>
<li>å¦‚ä½•ç”¨æšä¸¾å®ç°ç»„åˆç±»å‹</li>
<li>å¦‚ä½•ç”¨<code>match</code>æ¨¡å¼åŒ¹é…å¤„ç†æšä¸¾</li>
<li>å¦‚ä½•ç”¨<code>match</code>å¤„ç†å…¶ä»–æ•°æ®ç±»å‹ï¼Œè¯¸å¦‚æ•´æ•°ã€å­—ç¬¦ã€å­—ç¬¦ä¸²</li>
<li>å¦‚ä½•ç”¨å¸ƒå°”å€¼æ³›åŒ–<code>match</code>ç»“æ„</li>
</ul>
<span id="more"></span>
<h2 id="Enumerations"><a class="header-anchor" href="#Enumerations">Â¶</a>Enumerations</h2>
<p>ä¸å…¶ä¸‹é¢çš„å†™æ³•ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> EUROPE: <span class="type">u8</span> = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> ASIA: <span class="type">u8</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> AFRICA: <span class="type">u8</span> = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> AMERICA: <span class="type">u8</span> = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> OCEANIA: <span class="type">u8</span> = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">continent</span> = ASIA;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> continent == EUROPE &#123; <span class="built_in">print!</span>(<span class="string">&quot;E&quot;</span>); &#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> continent == ASIA &#123; <span class="built_in">print!</span>(<span class="string">&quot;As&quot;</span>); &#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> continent == AFRICA &#123; <span class="built_in">print!</span>(Af<span class="string">&quot;); &#125;</span></span><br><span class="line"><span class="string">else if continent == AMERICA &#123; print!(&quot;</span>Am<span class="string">&quot;); &#125;</span></span><br><span class="line"><span class="string">else if continent == OCEANIA &#123; print!(&quot;</span>O<span class="string">&quot;); &#125;</span></span><br></pre></td></tr></table></figure>
<p>ä¸å¦‚ç”¨ä¸‹é¢ç­‰ä»·å†™æ³•ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Continent</span> &#123;</span><br><span class="line">	Europe,</span><br><span class="line">	Asia,</span><br><span class="line">	Africa,</span><br><span class="line">	America,</span><br><span class="line">	Oceania,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">contin</span> = Contient::Asia;</span><br><span class="line"></span><br><span class="line"><span class="keyword">match</span> contin &#123;</span><br><span class="line">	Continent:: Europe =&gt; <span class="built_in">print!</span>(<span class="string">&quot;E&quot;</span>),</span><br><span class="line">	Continent:: Asia =&gt; <span class="built_in">print!</span>(<span class="string">&quot;As&quot;</span>),</span><br><span class="line">	Continent:: Africa =&gt; <span class="built_in">print!</span>(<span class="string">&quot;Af&quot;</span>),</span><br><span class="line">	Continent:: America =&gt; <span class="built_in">print!</span>(<span class="string">&quot;Am&quot;</span>),</span><br><span class="line">	Continent:: Oceania =&gt; <span class="built_in">print!</span>(<span class="string">&quot;O&quot;</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>enum</code>å…³é”®å­—åé¢æŒ‡å®šäº†ä¸€ä¸ªæ–°çš„ç±»å‹Continentã€‚è¿™ç§ç±»å‹ç§°ä¸ºæšä¸¾(enumerative)ï¼Œå› ä¸ºå®ƒåŒ…å«ä¸€ç³»åˆ—æ¡ç›®ï¼Œæ¯ä¸ªæ¡ç›®æœ‰å”¯ä¸€å…³è”æ•°å­—ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç±»å‹Continentå…è®¸çš„å€¼æ˜¯Europeï¼ŒAsiaï¼ŒAfricaï¼ŒAmericaå’ŒOceaniaï¼Œå†…éƒ¨ç”±å€¼0u8ï¼Œ1u8ï¼Œ2u8ï¼Œ3u8ï¼Œ4u8è¡¨ç¤ºã€‚</p>
<p>åˆ›å»ºäº†æšä¸¾ç±»å‹åï¼Œå°±å¯ä»¥åˆ›å»ºè¯¥ç±»å‹çš„å¯¹è±¡ã€‚ä¾‹å¦‚è¿™é‡Œçš„ contin å˜é‡ï¼Œç±»å‹æ˜¯ Continentã€‚</p>
<p>æšä¸¾å¯¹è±¡ä»…æœ‰ä¸€ä¸ªå€¼ï¼Œè¿™ä¸ªå€¼ç§°ä¸ºâ€œå˜é‡(variants)â€ã€‚</p>
<p>æ³¨æ„ï¼Œå˜é‡çš„å€¼å¿…é¡»ç”±å®ƒçš„ç±»å‹åŒºåˆ†ï¼Œä¾‹å¦‚ Continent::Asiaã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">T</span> &#123;A, B, C, D&#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">n</span>: <span class="type">i32</span> = T::D;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">e</span>: T = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒè¡Œä¼šå‘ç”Ÿç¼–è¯‘é”™è¯¯ï¼Œç¬¬äºŒä¸‰è¡Œéƒ½æç¤ºmismatched typesé”™è¯¯ã€‚å°½ç®¡æœŸæœ›æ˜¯<code>i32</code>çš„æšä¸¾å€¼<code>main::T</code>ï¼Œä½†æšä¸¾ç±»å‹å¹¶ä¸èƒ½éšå¼è½¬æ¢ä¸ºæ•°å€¼ç±»å‹ï¼Œæ•°å€¼ç±»å‹ä¹Ÿä¸èƒ½éšå¼è½¬æ¢ä¸ºæšä¸¾ç±»å‹ã€‚</p>
<h2 id="The-match-Construct"><a class="header-anchor" href="#The-match-Construct">Â¶</a>The match Construct</h2>
<p>Rustä¸­ï¼Œmatchè¯­å¥æ˜¯åŸºæœ¬å·¥å…·ã€‚ç±»ä¼¼äºCè¯­è¨€çš„switchï¼Œä½†åœ¨å¾ˆå¤šå±‚é¢ä¸åŒã€‚</p>
<p>é¦–å…ˆï¼Œmatchå…³é”®å­—ä¸éœ€è¦é—­åˆæ‹¬å·ã€‚</p>
<p>å…¶æ¬¡ï¼Œå¤šä¸ªcaseï¼Œç§°ä¸ºâ€œæ‰‹è‡‚(arms)â€ï¼Œç”¨ä½œæ¨¡å¼ï¼Œè·Ÿéšç¬¦å·â€œ=&gt;â€ï¼Œæ¥ç€è·Ÿç€ä¸€ä¸ªè¡¨è¾¾å¼ã€‚è¿™äº›æ‰‹è‡‚ç”¨é€—å·åˆ†éš”ã€‚</p>
<p>ä¸ç®¡æ˜¯å£°æ˜æšä¸¾ç±»å‹ï¼Œè¿˜æ˜¯åœ¨â€œ<code>match</code>â€è¯­å¥ï¼Œæœ€åä¸€ä¸ªæ¡ç›®çš„é€—å·å¯å†™å¯ä¸å†™ã€‚é€šå¸¸çš„åšæ³•æ˜¯ï¼Œå¦‚æœæ˜¯æ¯è¡Œä¸€ä¸ªitemï¼Œå°±å¸¦ä¸Šé€—å·ï¼›å¦‚æœæ˜¯æ•´è¡Œç½—åˆ—ï¼Œæœ€åä¸€ä¸ªé€—å·ä¼šçœç•¥ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">CardinalPoint</span> &#123; North, South, West, East &#125;;</span><br></pre></td></tr></table></figure>
<p>matchè¯­å¥çš„è¡Œä¸ºæ˜¯ã€‚</p>
<p>é¦–å…ˆï¼Œ<code>match</code>åçš„è¯­å¥å…ˆè¢«æ‰§è¡Œï¼Œå› æ­¤è·å–ä¸€ä¸ªå€¼ï¼Œä¾‹å¦‚è¿™é‡Œæ˜¯Continent::Asiaã€‚</p>
<p>ç„¶åï¼Œè¿™ä¸ªå€¼ä¼šè¢«ç”¨äºæ¯”è¾ƒäº”ä¸ªpatternçš„æ¯ä¸ªæ‰‹è‡‚(arm)ï¼ŒæŒ‰ç…§è¡Œé¡ºåºè¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœåŒ¹é…ï¼Œå³è¾¹çš„è¯­å¥è¢«æ‰§è¡Œï¼Œè¯­å¥ç»“æŸã€‚</p>
<p>æ³¨æ„æ¯ä¸ªæ‰‹è‡‚å³è¾¹çš„å¿…é¡»æ˜¯ä¸€ä¸ªå•ä¸€è¡¨è¾¾å¼ã€‚</p>
<p>äº‹å®ä¸Šï¼Œåªè¦å¸¦ä¸Šåˆ†å·ï¼Œä»»ä½•è¡¨è¾¾å¼éƒ½èƒ½æˆä¸ºæœ‰æ•ˆçš„è¯­å¥ã€‚ä¾‹å¦‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = <span class="number">7.2</span>;</span><br><span class="line"><span class="number">12</span>;</span><br><span class="line"><span class="literal">true</span>;</span><br><span class="line"><span class="number">4</span> &gt; <span class="number">7</span>;</span><br><span class="line"><span class="number">5.7</span> + <span class="number">5</span>. *a;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°è¿™äº›ä»£ç æ˜¯æœ‰æ•ˆçš„ï¼Œåªæ˜¯ä»€ä¹ˆä¹Ÿæ²¡åšã€‚</p>
<p>ä½†æ˜¯ï¼Œæœ‰äº›è¯­å¥å¹¶ä¸æ˜¯æœ‰æ•ˆçš„è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œâ€œlet a = 3; â€ã€â€œfn empty() {}â€ï¼Œ</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">match</span> contin &#123;</span><br><span class="line">	Continent::Europe =&gt; <span class="keyword">let</span> <span class="variable">a</span> = <span class="number">7</span>;,</span><br><span class="line">	Continent::Asia =&gt; <span class="keyword">let</span> <span class="variable">a</span> = <span class="number">7</span>,</span><br><span class="line">	Continent::Africa =&gt; f <span class="title function_ invoke__">aaa</span>() &#123;&#125;,</span><br><span class="line">	Continent::America =&gt; <span class="built_in">print!</span>(<span class="string">&quot;Am&quot;</span>),</span><br><span class="line">	Continent::Oceania =&gt; <span class="built_in">print!</span>(<span class="string">&quot;O&quot;</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‰é¢ä¸‰ä¸ªcaseä¼šæŠ¥é”™ï¼Œå› ä¸º â€œ=&gt;â€åé¢è·Ÿçš„ä¸æ˜¯æœ‰æ•ˆçš„è¡¨è¾¾å¼ã€‚</p>
<p>è‹¥æœæˆ‘ä»¬è¦æ‰§è¡Œå¤šä¸ªè¡¨è¾¾å¼ï¼Œå¯ä»¥ä½¿ç”¨è¯­å¥å—æ–¹å¼å®ç°ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Continent</span> &#123;</span><br><span class="line">	Europe,</span><br><span class="line">	Asia,</span><br><span class="line">	Africa,</span><br><span class="line">	America,</span><br><span class="line">	Oceania,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">contin</span> = Continent::Asia;</span><br><span class="line"><span class="keyword">match</span> contin &#123;</span><br><span class="line">	Continent::Europe =&gt; &#123;</span><br><span class="line">		contin = Continent::Asia;</span><br><span class="line">		<span class="built_in">print!</span>(<span class="string">&quot;E&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	Continent::Asia =&gt; &#123;</span><br><span class="line">		<span class="keyword">let</span> <span class="variable">a</span> = <span class="number">7</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	Continent::Africa =&gt; <span class="built_in">print!</span>(<span class="string">&quot;Af&quot;</span>),</span><br><span class="line">	Continent::America =&gt; <span class="built_in">print!</span>(<span class="string">&quot;Am&quot;</span>),</span><br><span class="line">	Continent::Oceania =&gt; <span class="built_in">print!</span>(<span class="string">&quot;O&quot;</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Relational-Operators-and-Enums"><a class="header-anchor" href="#Relational-Operators-and-Enums">Â¶</a>Relational Operators and Enums</h2>
<p>æšä¸¾ä¸èƒ½ç”¨â€œ==â€æ“ä½œç¬¦ä½œæ¯”è¾ƒã€‚å®é™…ä¸Šï¼Œä¸‹é¢ç¨‹åºæ˜¯ä¸åˆæ³•çš„ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">CardinalPoint</span> &#123; North, South, West, East &#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">direction</span> = CardinalPoint::South;</span><br><span class="line"><span class="keyword">if</span> direction == CardinalPoint::North &#123; &#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘å™¨æŠ¥â€œbinary operation <code>==</code> cannot be applied to type <code>main::CardinalPoint</code>â€ã€‚å› æ­¤ï¼Œä½ åº”è¯¥ç”¨ match è¯­å¥ã€‚</p>
<p>ä¸ä»…æ˜¯â€œ==â€æ“ä½œç¬¦ï¼Œå…¶å®ƒäºŒè¿›åˆ¶æ“ä½œç¬¦éƒ½æ˜¯é”™è¯¯çš„ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">CardinalPoint</span> &#123; North, South, West, East &#125;;</span><br><span class="line"><span class="keyword">if</span> CardinalPoint::South &lt; CardinalPoint::North &#123; &#125;</span><br></pre></td></tr></table></figure>
<h2 id="Handling-All-the-Cases"><a class="header-anchor" href="#Handling-All-the-Cases">Â¶</a>Handling All the Cases</h2>
<p>ä¸‹é¢ä»£ç ç¼–è¯‘å‡ºé”™ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">CardinalPoint</span> &#123; North, South, West, East &#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">direction</span> = CardinalPoint::South;</span><br><span class="line"><span class="keyword">match</span> direction &#123;</span><br><span class="line">	CardinalPoint::North =&gt; <span class="built_in">print!</span>(<span class="string">&quot;NORTH&quot;</span>),</span><br><span class="line">	CardinalPoint::South =&gt; <span class="built_in">print!</span>(<span class="string">&quot;SOUTH&quot;</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¼šè·å¾—ä¸€ä¸ªé”™è¯¯â€œnon-exhaustive patterns: <code>West</code> and <code>East</code> not coveredâ€ã€‚ç¼–è¯‘å™¨ä¼šæŠ±æ€¨è¯´ï¼Œå››ä¸ªæšä¸¾å€¼ï¼Œä»…ä¸¤ä¸ªè¢«è€ƒè™‘äº†ï¼Œå¦å¤–ä¸¤ä¸ªWestå’ŒEastæ²¡æœ‰è€ƒè™‘è¿›å»ã€‚è¿™æ˜¯ç”±äºRustè¦æ±‚æ˜¾å¼å¤„ç†æ‰€æœ‰çš„æƒ…å†µã€‚</p>
<p>è¦è§£å†³è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§åšæ³•ï¼Œä¸€æ˜¯åŒ¹é…æ‰€æœ‰çš„æƒ…å†µï¼›</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">CardinalPoint</span> &#123; North, South, West, East &#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">direction</span> = CardinalPoint::South;</span><br><span class="line"><span class="keyword">match</span> direction &#123;</span><br><span class="line">	CardinalPoint::North =&gt; <span class="built_in">print!</span>(<span class="string">&quot;NORTH&quot;</span>),</span><br><span class="line">	CardinalPoint::South =&gt; <span class="built_in">print!</span>(<span class="string">&quot;SOUTH&quot;</span>),</span><br><span class="line">	CardinalPoint::East =&gt; &#123;&#125;,</span><br><span class="line">	CardinalPoint::West =&gt; &#123;&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>äºŒæ˜¯ä½¿ç”¨ä¸‹åˆ’çº¿ï¼Œåšé»˜è®¤æƒ…å†µå¤„ç†ï¼›</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">CardinalPoint</span> &#123; North, South, West, East &#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">direction</span> = CardinalPoint::South;</span><br><span class="line"><span class="keyword">match</span> direction &#123;</span><br><span class="line">	CardinalPoint::North =&gt; <span class="built_in">print!</span>(<span class="string">&quot;NORTH&quot;</span>),</span><br><span class="line">	CardinalPoint::South =&gt; <span class="built_in">print!</span>(<span class="string">&quot;SOUTH&quot;</span>),</span><br><span class="line">	_ =&gt; &#123;&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œä¸‹åˆ’çº¿è¯­å¥ä¼šåŒ¹é…ä»»ä½•å€¼ï¼Œæ‰€ä»¥è¦å°†å®ƒæ”¾åœ¨æœ€åã€‚</p>
<h2 id="Using-match-with-Numbers"><a class="header-anchor" href="#Using-match-with-Numbers">Â¶</a>Using match with Numbers</h2>
<p>matchç»“æ„ï¼Œé™¤äº†å¯ä»¥ç”¨äºæšä¸¾ï¼Œä¹Ÿå¯ä»¥ç”¨äºå…¶ä»–æ•°æ®ç±»å‹ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">match</span> <span class="string">&quot;value&quot;</span> &#123;</span><br><span class="line">	<span class="string">&quot;val&quot;</span> =&gt; <span class="built_in">print!</span>(<span class="string">&quot;value &quot;</span>),</span><br><span class="line">	_ =&gt; <span class="built_in">print!</span>(<span class="string">&quot;other &quot;</span>),</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">match</span> <span class="number">3</span> &#123;</span><br><span class="line">	<span class="number">3</span> =&gt; <span class="built_in">print!</span>(<span class="string">&quot;three &quot;</span>),</span><br><span class="line">	<span class="number">4</span> =&gt; <span class="built_in">print!</span>(<span class="string">&quot;four &quot;</span>),</span><br><span class="line">	<span class="number">5</span> =&gt; <span class="built_in">print!</span>(<span class="string">&quot;five &quot;</span>),</span><br><span class="line">	_ =&gt; <span class="built_in">print!</span>(<span class="string">&quot;other &quot;</span>),</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">match</span> <span class="string">&#x27;.&#x27;</span> &#123;</span><br><span class="line">	<span class="string">&#x27;:&#x27;</span> =&gt; <span class="built_in">print!</span>(<span class="string">&quot;colon &quot;</span>),</span><br><span class="line">	<span class="string">&#x27;.&#x27;</span> =&gt; <span class="built_in">print!</span>(<span class="string">&quot;point &quot;</span>),</span><br><span class="line">	_ =&gt; <span class="built_in">print!</span>(<span class="string">&quot;other &quot;</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»“æœå°†è¾“å‡ºï¼šâ€œother three pointâ€ã€‚</p>
<h2 id="Enumerations-with-Data"><a class="header-anchor" href="#Enumerations-with-Data">Â¶</a>Enumerations with Data</h2>
<p>Rustçš„æšä¸¾ç±»å‹ï¼Œå¹¶æ²¡æœ‰å‰é¢çœ‹åˆ°çš„è¿™ä¹ˆç®€å•ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Result</span> &#123;</span><br><span class="line">	<span class="title function_ invoke__">Success</span>(<span class="type">f64</span>),</span><br><span class="line">	<span class="title function_ invoke__">Failure</span>(<span class="type">u16</span>, <span class="type">char</span>),</span><br><span class="line">	Uncertainty,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let outcome = Result::Success(23.67);</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">outcome</span> = <span class="type">Result</span>::<span class="title function_ invoke__">Failure</span>(<span class="number">1200</span>, <span class="string">&#x27;X&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">match</span> outcome &#123;</span><br><span class="line">	<span class="type">Result</span>::<span class="title function_ invoke__">Success</span>(value) =&gt; <span class="built_in">print!</span>(<span class="string">&quot;Result: &#123;&#125;&quot;</span>, value),</span><br><span class="line">	<span class="type">Result</span>::<span class="title function_ invoke__">Failure</span>(error_code, module) =&gt; <span class="built_in">print!</span>(<span class="string">&quot;Error n. &#123;&#125; in module &#123;&#125;&quot;</span>, error_code, module),</span><br><span class="line">	<span class="type">Result</span>::Uncertainty =&gt; &#123;&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»“æœå°†è¾“å‡ºï¼šâ€œError n. 1200 in module Xâ€ã€‚</p>
<p>è‹¥æ›¿æ¢ä¸ºæ³¨è§£è¡Œï¼Œç»“æœå°†è¾“å‡ºä¸ºâ€œResult: 23.67â€ã€‚</p>
<p>å¯¹æ¯”äºCè¯­è¨€ï¼ŒRustçš„æšä¸¾ç±»å‹åŒ…å«æšä¸¾å’Œç»„åˆçš„ç‰¹æ€§ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">eResult</span> &#123;</span></span><br><span class="line">        Success,</span><br><span class="line">        Failure,</span><br><span class="line">        Uncertainty</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sResult</span> &#123;</span></span><br><span class="line">        <span class="class"><span class="keyword">enum</span> <span class="title">eResult</span> <span class="title">r</span>;</span></span><br><span class="line">        <span class="class"><span class="keyword">union</span> &#123;</span></span><br><span class="line">            <span class="type">double</span> value;</span><br><span class="line">            <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">                <span class="type">unsigned</span> <span class="type">short</span> error_code;</span><br><span class="line">                <span class="type">char</span> module;</span><br><span class="line">            &#125; s;</span><br><span class="line">        &#125; u;</span><br><span class="line">    &#125; outcome;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">outcome.r = Success;</span></span><br><span class="line"><span class="comment">outcome.u.value = 23.67;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">outcome.r = Failure;</span><br><span class="line">outcome.u.s.error_code = <span class="number">1200</span>;</span><br><span class="line">outcome.u.s.module = <span class="string">&#x27;X&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (outcome.r) &#123;</span><br><span class="line">	<span class="keyword">case</span> Success:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Result: %g&quot;</span>, outcome.u.value);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> Failure:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Error n. %d in module %c&quot;</span>,</span><br><span class="line">			   outcome.u.s.error_code,</span><br><span class="line">			   outcome.u.s.module);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> Uncertainty:</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨â€œmatchâ€è¯­å¥ä¸­ï¼Œæ¨¡å¼åŒ¹é…çš„å‚æ•°ï¼Œä¾‹å¦‚Result::Success(value)ä¸­çš„valueï¼Œä¼šè¢«çœ‹åšæ˜¯è¯¥scopeä¸‹çš„å˜é‡ï¼Œä»¥åŠè¯¥å˜é‡çš„ç±»å‹ï¼Œç”±è¿™ä¸ªæ‰‹è‡‚(arm)å£°æ˜ã€‚</p>
<p>å½“æ‰‹è‡‚(arm)æ»¡è¶³caseï¼Œè¿™ä¸ªå˜é‡çš„å€¼å°±è¢«åˆå§‹åŒ–ã€‚ä¾‹å¦‚valueçš„å€¼æ˜¯23.67ã€‚å¹¶ä¸”ç”¨äºæ‰‹è‡‚å³è¾¹çš„ä½œç”¨èŒƒå›´ã€‚</p>
<p>å¦‚æœä¸éœ€è¦è¿™ä¸ªå˜é‡ï¼Œä¸ºé¿å…ç¼–è¯‘å‘Šè­¦ï¼Œå¯ä»¥ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Result</span> &#123;</span><br><span class="line">	<span class="title function_ invoke__">Success</span>(<span class="type">f64</span>),</span><br><span class="line">	<span class="title function_ invoke__">Failure</span>(<span class="type">u16</span>, <span class="type">char</span>),</span><br><span class="line">	Uncertainty,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">outcome</span> = <span class="type">Result</span>::<span class="title function_ invoke__">Success</span>(<span class="number">23.67</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">match</span> outcome &#123;</span><br><span class="line">	<span class="type">Result</span>::<span class="title function_ invoke__">Success</span>(_) =&gt; <span class="built_in">print!</span>(<span class="string">&quot;OK&quot;</span>),</span><br><span class="line">	<span class="type">Result</span>::<span class="title function_ invoke__">Failure</span>(error_code, module) =&gt;</span><br><span class="line">		<span class="built_in">print!</span>(<span class="string">&quot;Error n. &#123;&#125; in module &#123;&#125;&quot;</span>, error_code, module),</span><br><span class="line">	<span class="type">Result</span>::Uncertainty =&gt; &#123;&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="â€œmatchâ€-Expressions"><a class="header-anchor" href="#â€œmatchâ€-Expressions">Â¶</a>â€œmatchâ€ Expressions</h2>
<p>ç±»ä¼¼äºâ€œifâ€è¡¨è¾¾å¼ï¼Œâ€œmatchâ€ä¹Ÿæœ‰è¡¨è¾¾å¼ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">CardinalPoint</span> &#123; North, South, West, East &#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">direction</span> = CardinalPoint::South;</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, <span class="keyword">match</span> direction &#123;</span><br><span class="line">	CardinalPoint::North =&gt; <span class="string">&#x27;N&#x27;</span>,</span><br><span class="line">	CardinalPoint::South =&gt; <span class="string">&#x27;S&#x27;</span>,</span><br><span class="line">	_ =&gt; <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ç»“æœä¼šè¾“å‡ºï¼šâ€œS.â€ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸ªè¦æ±‚ï¼Œå°±æ˜¯æ‰‹è‡‚å³è¾¹çš„å€¼ï¼Œå¿…é¡»ç±»å‹æ˜¯ä¸€æ ·çš„ã€‚å¦‚æœå°†ç¬¬ä¸‰ä¸ªcaseæ”¹ä¸ºâ€œ_ =&gt; {}â€ã€‚ä¼šå‘ç”Ÿâ€œmatch arms have incompatible typesâ€ã€‚å› ä¸ºæ˜¯ä¸€ä¸ªmatchè¡¨è¾¾å¼ï¼Œæ‰€ä»¥å®ƒåªèƒ½æœ‰æŒ‡å®šçš„ä¸€ç§ç±»å‹ã€‚</p>
<h2 id="Use-of-Guards-in-match-Constructs"><a class="header-anchor" href="#Use-of-Guards-in-match-Constructs">Â¶</a>Use of Guards in match Constructs</h2>
<p>å‡è®¾æˆ‘ä»¬è¦åŒºåˆ†æ•´æ•°çš„ç±»åˆ«ï¼šè´Ÿæ•°ã€0ã€1ã€æ­£æ•°ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">n</span> <span class="keyword">in</span> -<span class="number">2</span>..<span class="number">5</span> &#123;</span><br><span class="line">	<span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125; is &#123;&#125;.&quot;</span>, n, <span class="keyword">match</span> n &#123;</span><br><span class="line">		<span class="number">0</span> =&gt; <span class="string">&quot;zero&quot;</span>,</span><br><span class="line">		<span class="number">1</span> =&gt; <span class="string">&quot;one&quot;</span>,</span><br><span class="line">		_ <span class="keyword">if</span> n &lt; <span class="number">0</span> =&gt; <span class="string">&quot;negative&quot;</span>,</span><br><span class="line">		_ =&gt; <span class="string">&quot;plural&quot;</span>,</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article><nav class="article-nav"><div class="article-nav-prev">ğŸ”™<a href="/2023/01/08/rust/beginning/chapter08_Using%20Heterogeneous%20Data%20Structures/">ruståŸºç¡€å…¥é—¨[08] - Using Heterogeneous Data Structures</a></div><div class="article-nav-next">ğŸ”œ<a href="/2023/01/06/rust/beginning/chapter06_Using%20Primitive%20Types/">ruståŸºç¡€å…¥é—¨[06] - Using Primitive Types</a></div></nav><div id="base-discus"><div id="disqus_thread"></div><script>var disqus_shortname = 'barudisshu-github-io';
var disqus_identifier = '2023/01/07/rust/beginning/chapter07_Enumerating  Cases/';
var disqus_title = 'ruståŸºç¡€å…¥é—¨[07] - Enumerating Cases';
var disqus_url = 'https://galudisu.info/2023/01/07/rust/beginning/chapter07_Enumerating  Cases/';
(function () {
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//#{theme.disqus}.disqus.com/count.js" async>  </script></div></div></div><footer class="base-footer"><div class="footer-wrapper"><span>Â©2016 - 2025 <a href="https://galudisu.info">barudisshu</a>, unless otherwise noted.</span></div></footer><div class="dom-ready">
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>

<link rel="stylesheet" href="//cdn.bootcss.com/pace/1.0.2/themes/green/pace-theme-flash.min.css">

<script src="/js/base.js"></script>

<script src="/js/rabbit-lyrics.js"></script>
</div></body></html>