<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><title>åŸå‹æ¨¡å¼(Prototype Pattern)</title>
<link rel="stylesheet" href="/css/layout.css">
<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="/css/vendors/rabbit-lyrics.css">
<link rel="shortcut icon" href="/img/favicon.ico"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ç®€å•æ˜“æ‡‚ã®ç°ä»£é­”æ³•" type="application/atom+xml">
</head><body><header class="base-menu"><div class="menu-wrapper"><div class="menu-layout-bg"></div><nav class="menu-content"><ul class="menu-list"><li class="menu-item"><a class="menu-link" href="/">ç®€å•æ˜“æ‡‚ã®ç°ä»£é­”æ³•</a></li><li class="menu-item"><a class="menu-link" href="/archives/">Archives</a></li><li class="menu-item"><a class="menu-link" target="_blank" rel="noopener" href="http://weibo.com/u/2360401155">Weibo</a></li><li class="menu-item"><a class="menu-link" href="/about">About</a></li><li class="menu-item"><a class="menu-link" href="/atom.xml">Rss</a></li></ul></nav></div></header><header class="base-mobile-menu"><div class="mobile-menu-wrapper"><div class="menu-layout-bg"></div><nav class="menu-content"><ul class="menu-list"><li class="menu-item"><a class="menu-link" href="/">ç®€å•æ˜“æ‡‚ã®ç°ä»£é­”æ³•</a></li><li class="menu-item"><a class="menu-link" href="/archives/">Archives</a></li><li class="menu-item"><a class="menu-link" target="_blank" rel="noopener" href="http://weibo.com/u/2360401155">Weibo</a></li><li class="menu-item"><a class="menu-link" href="/about">About</a></li><li class="menu-item"><a class="menu-link" href="/atom.xml">Rss</a></li></ul></nav><div class="toggle-menu" id="mobile-menu-toggle"><span class="menu-bar"></span><span class="menu-bar"> </span><span class="menu-bar"></span></div></div></header><div class="base-content"><div class="base-content-main"><article class="article-main"><h1 class="article-title">åŸå‹æ¨¡å¼(Prototype Pattern)</h1><div class="article-meta"><p class="meta-item meta-time"><span class="meta-item-title"></span><i class="icon-calendar"> </i>2025-05-10</p><p class="meta-item meta-tag"><span class="meta-item-title"></span><i class="icon-tags"> </i><a class="tag-link" href="/tags/creational/">creational<span class="tag">, </span></a><a class="tag-link" href="/tags/prototype/">prototype</a></p></div><div class="article-content"><blockquote>
<p>åŸå‹æ¨¡å¼æ˜¯ç”¨äºåˆ›å»ºé‡å¤çš„å¯¹è±¡ï¼ŒåŒæ—¶åˆèƒ½ä¿è¯æ€§èƒ½ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºæ¨¡å¼ï¼Œå®ƒé€šè¿‡å¤åˆ¶ç°åœ¨å¯¹è±¡æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯é€šè¿‡å®ä¾‹åŒ–ç±»çš„æ–¹å¼ã€‚</p>
</blockquote>
<img src="/assert/puml/56e0fda471b4c19d729f8e314c854ce221edf16b30c3f2e801c18a72a04e4175.svg"/>
<span id="more"></span>
<h3 id="æ ¸å¿ƒæ€æƒ³"><a class="header-anchor" href="#æ ¸å¿ƒæ€æƒ³">Â¶</a>æ ¸å¿ƒæ€æƒ³</h3>
<ul>
<li><strong>å…‹éš†ä¸€ä¸ªå·²æœ‰å¯¹è±¡</strong>ï¼Œè€Œä¸æ˜¯ä»å¤´åˆ›å»ºã€‚</li>
<li>è¢«å…‹éš†çš„å¯¹è±¡ç§°ä¸ºâ€œåŸå‹(Prototype)â€ã€‚</li>
</ul>
<h3 id="ç¤ºä¾‹"><a class="header-anchor" href="#ç¤ºä¾‹">Â¶</a>ç¤ºä¾‹</h3>
<p>åœ¨Javaä¸­ï¼Œå¯ä»¥é€šè¿‡å®ç°<code>Cloneable</code>æ¥å£å¹¶é‡å†™<code>Object</code>ç±»ä¸­çš„<code>clone()</code>æ–¹æ³•æ¥å®ç°åŸå‹æ¨¡å¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Prototype</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> String field;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Prototype</span><span class="params">(String field)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.field = field;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">protected</span> Prototype <span class="title function_">clone</span><span class="params">()</span> &#123;  <span class="comment">// <i class="conum" data-value="2"></i></span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> (Prototype) <span class="built_in">super</span>.close();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e):</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><i class="conum" data-value="1"></i> å°†è¢«æ‹·è´çš„å±æ€§ã€‚<br>
<i class="conum" data-value="2"></i> â€œé¥¼å°â€ã€‚</p>
<p>ä¼˜ç‚¹ï¼š</p>
<ol>
<li><strong>æå‡æ€§èƒ½</strong>ï¼š é¿å…äº†æ„é€ å‡½æ•°çš„å¼€é”€ï¼Œç›´æ¥æ‹·è´å†…å­˜ä¸­çš„äºŒè¿›åˆ¶æµã€‚</li>
<li><strong>ç®€åŒ–å¯¹è±¡åˆ›å»º</strong>ï¼š æ— éœ€å…³å¿ƒå¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œåªéœ€è¦è°ƒç”¨å…‹éš†æ–¹æ³•å³å¯ã€‚</li>
<li><strong>åŠ¨æ€é…ç½®</strong>ï¼š è¿è¡Œæ—¶å¯ä»¥åŠ¨æ€åŠ è½½å’Œå¤åˆ¶å¯¹è±¡ã€‚</li>
</ol>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ol>
<li>å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹å¤æ‚æˆ–è€—æ—¶ã€‚</li>
<li>éœ€è¦å¤šä¸ªç›¸ä¼¼å¯¹è±¡ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´å·®å¼‚è¾ƒå°ã€‚</li>
<li>ç³»ç»Ÿéœ€è¦ç‹¬ç«‹äºå¯¹è±¡çš„åˆ›å»ºä¸ç»„åˆæ–¹å¼ã€‚</li>
</ol>
<h3 id="æµ…æ‹·è´ä¸æ·±æ‹·è´"><a class="header-anchor" href="#æµ…æ‹·è´ä¸æ·±æ‹·è´">Â¶</a>æµ…æ‹·è´ä¸æ·±æ‹·è´</h3>
<ul>
<li><strong>æµ…æ‹·è´</strong>ï¼š åªå¤åˆ¶åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¼•ç”¨ç±»å‹ä»…å¤åˆ¶å¼•ç”¨åœ°å€ã€‚</li>
<li><strong>æ·±æ‹·è´</strong>ï¼š é€’å½’å¤åˆ¶æ‰€æœ‰å±‚çº§çš„å¯¹è±¡ã€‚</li>
</ul>
<p>å®ç°æ·±æ‹·è´çš„æ–¹æ³•æœ‰ä¸¤ç§</p>
<ol>
<li>
<p>æ‰‹åŠ¨å¤åˆ¶æ¯ä¸ªå­—æ®µ</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> Prototype <span class="title function_">clone</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Prototype</span>(<span class="built_in">this</span>.field); <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><i class="conum" data-value="1"></i> åˆ›å»ºå¯¹è±¡ï¼Œè€Œéè°ƒç”¨<code>super.clone();</code></p>
</li>
<li>
<p>åºåˆ—åŒ–ååºåˆ—åŒ–(é€‚ç”¨äºå¯åºåˆ—åŒ–çš„å¯¹è±¡)</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T <span class="keyword">extends</span> <span class="title class_">Serializable</span>&gt; T <span class="title function_">deepCopy</span><span class="params">(T object)</span> &#123;</span><br><span class="line"> <span class="keyword">try</span> (<span class="type">ByteArrayOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>(); <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(bos)) &#123;</span><br><span class="line">   oos.writeObject(object);</span><br><span class="line">   <span class="keyword">try</span> (<span class="type">ByteArrayInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayInputStream</span>(bos.toByteArray()); <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(bis)) &#123;</span><br><span class="line">     <span class="keyword">return</span> (T) ois.readObjet();</span><br><span class="line">   &#125;</span><br><span class="line"> &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">   <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h2>
<table>
<thead>
<tr>
<th><strong>ç‰¹æ€§</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>æ¨¡å¼ç±»å‹</td>
<td>åˆ›å»ºæ¨¡å¼</td>
</tr>
<tr>
<td>æ ¸å¿ƒæœºåˆ¶</td>
<td>å…‹éš†å·²å­˜åœ¨å¯¹è±¡</td>
</tr>
<tr>
<td>ä¸»è¦ä¼˜ç‚¹</td>
<td>æé«˜æ€§èƒ½ã€ç®€åŒ–åˆ›å»ºæµç¨‹</td>
</tr>
<tr>
<td>å…³é”®æ¥å£/ç±»</td>
<td><code>Cloneable,Object.clone()</code></td>
</tr>
<tr>
<td>é€‚ç”¨åœºæ™¯</td>
<td>å¯¹è±¡åˆ›å»ºå¤æ‚ã€éœ€è¦å¤šä¸ªç›¸ä¼¼å¯¹è±¡</td>
</tr>
</tbody>
</table>
</div></article><nav class="article-nav"><div class="article-nav-prev">ğŸ”™<a href="/2025/05/10/pattern/basic/structural/Adapter/">é€‚é…å™¨æ¨¡å¼(Adapter Pattern)</a></div><div class="article-nav-next">ğŸ”œ<a href="/2025/05/10/pattern/basic/creational/Factory/">å·¥å‚æ¨¡å¼(Factory Pattern)</a></div></nav><div id="base-discus"><div id="disqus_thread"></div><script>var disqus_shortname = 'barudisshu-github-io';
var disqus_identifier = '2025/05/10/pattern/basic/creational/Prototype/';
var disqus_title = 'åŸå‹æ¨¡å¼(Prototype Pattern)';
var disqus_url = 'https://galudisu.info/2025/05/10/pattern/basic/creational/Prototype/';
(function () {
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//#{theme.disqus}.disqus.com/count.js" async>  </script></div></div></div><footer class="base-footer"><div class="footer-wrapper"><span>Â©2016 - 2025 <a href="https://galudisu.info">barudisshu</a>, unless otherwise noted.</span></div></footer><div class="dom-ready">
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>

<link rel="stylesheet" href="//cdn.bootcss.com/pace/1.0.2/themes/green/pace-theme-flash.min.css">

<script src="/js/base.js"></script>

<script src="/js/rabbit-lyrics.js"></script>
</div></body></html>