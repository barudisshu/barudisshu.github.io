<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><title>适配器模式(Adapter Pattern)</title>
<link rel="stylesheet" href="/css/layout.css">
<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="/css/vendors/rabbit-lyrics.css">
<link rel="shortcut icon" href="/img/favicon.ico"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="简单易懂の现代魔法" type="application/atom+xml">
</head><body><header class="base-menu"><div class="menu-wrapper"><div class="menu-layout-bg"></div><nav class="menu-content"><ul class="menu-list"><li class="menu-item"><a class="menu-link" href="/">简单易懂の现代魔法</a></li><li class="menu-item"><a class="menu-link" href="/archives/">Archives</a></li><li class="menu-item"><a class="menu-link" target="_blank" rel="noopener" href="http://weibo.com/u/2360401155">Weibo</a></li><li class="menu-item"><a class="menu-link" href="/about">About</a></li><li class="menu-item"><a class="menu-link" href="/atom.xml">Rss</a></li></ul></nav></div></header><header class="base-mobile-menu"><div class="mobile-menu-wrapper"><div class="menu-layout-bg"></div><nav class="menu-content"><ul class="menu-list"><li class="menu-item"><a class="menu-link" href="/">简单易懂の现代魔法</a></li><li class="menu-item"><a class="menu-link" href="/archives/">Archives</a></li><li class="menu-item"><a class="menu-link" target="_blank" rel="noopener" href="http://weibo.com/u/2360401155">Weibo</a></li><li class="menu-item"><a class="menu-link" href="/about">About</a></li><li class="menu-item"><a class="menu-link" href="/atom.xml">Rss</a></li></ul></nav><div class="toggle-menu" id="mobile-menu-toggle"><span class="menu-bar"></span><span class="menu-bar"> </span><span class="menu-bar"></span></div></div></header><div class="base-content"><div class="base-content-main"><article class="article-main"><h1 class="article-title">适配器模式(Adapter Pattern)</h1><div class="article-meta"><p class="meta-item meta-time"><span class="meta-item-title"></span><i class="icon-calendar"> </i>2025-05-10</p><p class="meta-item meta-tag"><span class="meta-item-title"></span><i class="icon-tags"> </i><a class="tag-link" href="/tags/structural/">structural<span class="tag">, </span></a><a class="tag-link" href="/tags/adapter/">adapter</a></p></div><div class="article-content"><blockquote>
<p>将一个类的接口转换成客户期望的另一个接口，适配器<strong>让原本接口不兼容的类可以相互合作</strong>。</p>
</blockquote>
<img src="/assert/puml/2a6bbd20a8b38a99f1740f1e7b862f2c4b63171866066a1456c7427c71f071cb.svg"/>
<span id="more"></span>
<h3 id="核心作用"><a class="header-anchor" href="#核心作用">¶</a>核心作用</h3>
<ul>
<li><strong>兼容性</strong>： 使得原本由于接口部匹配而无法一起工作的类能够协同工作。</li>
<li><strong>复用性</strong>： 允许复用已有的类，即使它们不符合当前系统的统一结构标准。</li>
<li><strong>解耦性</strong>： 避免修改已有代码的前提下实现新功能对接。</li>
</ul>
<h3 id="适用场景"><a class="header-anchor" href="#适用场景">¶</a>适用场景</h3>
<ol>
<li>系统需要使用一些已有类，但这些类的接口不符合系统要求</li>
<li>希望复用一些旧的组件或第三方库，但它们的接口与当前系统不一致</li>
<li>在不修改原有代码的基础上进行接口适配</li>
</ol>
<h3 id="模式结构"><a class="header-anchor" href="#模式结构">¶</a>模式结构</h3>
<table>
<thead>
<tr>
<th><strong>角色</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Target</td>
<td>客户端使用的接口，是期望的目标接口</td>
</tr>
<tr>
<td>Adaptee</td>
<td>已有的类，其接口与目标接口不兼容</td>
</tr>
<tr>
<td>Adapter</td>
<td>实现目标接口，并持有<code>Adaptee</code>对象，通过组合/继承的方式完成适配</td>
</tr>
</tbody>
</table>
<h3 id="示例"><a class="header-anchor" href="#示例">¶</a>示例</h3>
<p>最容易理解该模式的莫过于我们常用的电源适配器(adapter)，手机充电器一般都是5v左右，中国家用交流电压220v，日本100v，手机充电器代工方富士康需要生产一个适配器(降压器)来对手机进行充电，不然会过热起火。</p>
<table>
<thead>
<tr>
<th><strong>角色</strong></th>
<th><strong>实例</strong></th>
<th><strong>作用</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Target</td>
<td>一部手机Mobile</td>
<td>给手机充电</td>
</tr>
<tr>
<td>Adaptee</td>
<td>220v的交流电</td>
<td>用交流电给手机充电，但电压不兼容</td>
</tr>
<tr>
<td>Adapter</td>
<td>手机充电器</td>
<td>富士康需要制作可提供5电压的充电器</td>
</tr>
<tr>
<td>ConcreteAdapter1</td>
<td>220v -&gt; 5v充电器</td>
<td>大陆用充电器</td>
</tr>
<tr>
<td>ConcreteAdapter2</td>
<td>100v -&gt; 5v充电器</td>
<td>日本美国标准用充电器</td>
</tr>
<tr>
<td>ConcreteAdapter3</td>
<td>230v -&gt; 5v充电器</td>
<td>欧洲标准用充电器</td>
</tr>
</tbody>
</table>
<p>示例代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PowerTarget</span> &#123;  <span class="comment">// <i class="conum" data-value="1"></i></span></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaAdaptee</span> &#123; <span class="comment">// <i class="conum" data-value="2"></i></span></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">v220Charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">v230Charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">v100Charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span>; <span class="comment">// <i class="conum" data-value="3"></i></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaMobileAdapter</span> <span class="keyword">implements</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> ChinaAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">ChinaMobileAdapter</span><span class="params">(ChinaAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v220Charget(target);  <span class="comment">// <i class="conum" data-value="4"></i></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeMobileAdapter</span> <span class="keyword">implements</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> EuropeAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">EuropeMobileAdapter</span><span class="params">(EuropeAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v230Charget(target);  <span class="comment">// <i class="conum" data-value="5"></i></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanMobileAdapter</span> <span class="keyword">implements</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> JapanAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">JapanMobileAdapter</span><span class="params">(JapanAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v100Charget(target);  <span class="comment">// <i class="conum" data-value="5"></i></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><i class="conum" data-value="1"></i> 目标接口，这里为给手机充电<br>
<i class="conum" data-value="2"></i> 被适配器<br>
<i class="conum" data-value="3"></i> 适配器<br>
<i class="conum" data-value="4"></i> 用220v的交流电，给目标手机充电<br>
<i class="conum" data-value="5"></i> 用230v的交流电，给目标手机充电<br>
<i class="conum" data-value="6"></i> 用100v的交流电，给目标手机充电</p>
<h3 id="适配器模式-工厂模式"><a class="header-anchor" href="#适配器模式-工厂模式">¶</a>适配器模式+工厂模式</h3>
<p>上面的例子中明显不符合“开闭原则”的，往往需要配合<a href="/2025/05/10/pattern/basic/creational/Factory/">工厂模式(Factory Pattern)</a>一起使用，即可以用<a href="/2025/05/10/pattern/basic/creational/Factory/#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Factory-Method-Pattern">工厂方法</a>，也可以用<a href="/2025/05/10/pattern/basic/creational/Factory/#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82-Abstract-Factory-Pattern">抽象工厂</a>。依具体情况而定：</p>
<p>下面是一种改进办法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PowerTarget</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaAdaptee</span> <span class="keyword">implements</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeAdaptee</span> <span class="keyword">implements</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanAdaptee</span> <span class="keyword">implements</span> <span class="title class_">MobileAdaptee</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">charge</span><span class="params">(PowerTarget target)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> MobileAdaptee adaptee;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">MobileAdapter</span><span class="params">(MobileAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.adaptee = adaptee;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span>;    <span class="comment">// <i class="conum" data-value="1"></i> </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaMobileAdapter</span> <span class="keyword">extends</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">ChinaMobileAdapter</span><span class="params">(ChinaAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(adaptee);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v220Charge(target);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EuropeMobileAdapter</span> <span class="keyword">extends</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">EuropeMobileAdapter</span><span class="params">(EuropeAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(adaptee);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v230Charge(target);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JapanMobileAdapter</span> <span class="keyword">extends</span> <span class="title class_">MobileAdapter</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">JapanMobileAdapter</span><span class="params">(JapanAdaptee adaptee)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(adaptee);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">powerOn</span><span class="params">(PowerTarget target)</span> &#123;</span><br><span class="line">    adaptee.v100Charge(target);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><i class="conum" data-value="1"></i> 如果不希望扩展，可以直接使用<code>switch</code>进行模式匹配变更为<a href="/2025/05/10/pattern/basic/creational/Factory/#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Simple-Factory-Pattern">简单工厂</a>.</p>
<h3 id="适配器模式-策略模式"><a class="header-anchor" href="#适配器模式-策略模式">¶</a>适配器模式+策略模式</h3>
<p><a href="/2025/05/10/pattern/basic/behavioral/Strategy/">策略模式</a>中通常会结合适配器进行动态的上下文逻辑切换。例如：</p>
<ul>
<li>不同支付渠道(微信、支付宝、Paypal)通过统一接口调用，但内部使用各自适配器。</li>
<li>文件导入导出： CSV、Excel、JSON使用统一格式，但地层使用不同解析库。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PaymentStrategy</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeChatPayAdapter</span> <span class="keyword">implements</span> <span class="title class_">PamentStrategy</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> WeChatPay weChatPay;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span> &#123;</span><br><span class="line">    weChatPay.charge(amount);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="适配器-外观模式"><a class="header-anchor" href="#适配器-外观模式">¶</a>适配器+外观模式</h3>
<p>外观模式就是为一组实现提供了“一键”处理，结合适配器模式可以隐藏<code>adapter</code>自身的复杂性。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NotificationFacade</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> SmsAdapter smsAdapter;</span><br><span class="line">  <span class="keyword">private</span> EmailAdapter emailAdapter;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendNotification</span><span class="params">(String type, String message)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;sms&quot;</span>.equals(type)) &#123;</span><br><span class="line">      smsAdapter.send(message);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;email&quot;</span>.equals(type)) &#123;</span><br><span class="line">      emailAdapter.send(message);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>和上面的简单工厂不同，外观模式的实现是确定的，所以不会违反“开闭原则”。</p>
<h3 id="适配器-模板方法"><a class="header-anchor" href="#适配器-模板方法">¶</a>适配器+模板方法</h3>
<p>场景：</p>
<p>在固定流程中嵌入适配器逻辑，完成特定步骤的适配工作。适用于独立开发流程，避免相互干扰，提高开发效率。</p>
<p>示例：</p>
<ul>
<li>数据处理流程中的数据源适配(数据库、文件、API)，每种数据源都需适配成统一格式。</li>
<li>报表生成框架中适配不同数据来源。</li>
</ul>
<h3 id="与装饰模式的区别"><a class="header-anchor" href="#与装饰模式的区别">¶</a>与装饰模式的区别</h3>
<p>适配器模式和装饰器模式的结构非常相似，都是通过持有已有对象的一种实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Owner</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> Internal internal;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">Owner</span><span class="params">(Internal in)</span> &#123;</span><br><span class="line">     ....</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但其核心目标不同：</p>
<table>
<thead>
<tr>
<th>模式</th>
<th>目的</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Adapter</code></td>
<td>将一个类的接口转换成客户端期望的另一个兼容接口，解决<strong>接口不兼容问题</strong>。</td>
</tr>
<tr>
<td><code>Decorator</code></td>
<td>动态地给对象添加职责或功能，提供比继承更灵活的扩展方式。</td>
</tr>
</tbody>
</table>
<ul>
<li>区别口诀</li>
</ul>
<ul>
<li><code>Adapter</code>是“改头换面”，为了兼容；</li>
<li><code>Decorator</code>是“锦上添花”，实现增强。</li>
</ul>
</div></article><div id="base-discus"><div id="disqus_thread"></div><script>var disqus_shortname = 'barudisshu-github-io';
var disqus_identifier = '2025/05/10/pattern/basic/structural/Adapter/';
var disqus_title = '适配器模式(Adapter Pattern)';
var disqus_url = 'https://galudisu.info/2025/05/10/pattern/basic/structural/Adapter/';
(function () {
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//#{theme.disqus}.disqus.com/count.js" async>  </script></div></div></div><footer class="base-footer"><div class="footer-wrapper"><span>©2016 - 2025 <a href="https://galudisu.info">barudisshu</a>, unless otherwise noted.</span></div></footer><div class="dom-ready">
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>

<link rel="stylesheet" href="//cdn.bootcss.com/pace/1.0.2/themes/green/pace-theme-flash.min.css">

<script src="/js/base.js"></script>

<script src="/js/rabbit-lyrics.js"></script>
</div></body></html>