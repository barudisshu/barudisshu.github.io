<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="647px" preserveAspectRatio="none" style="width:1023px;height:647px;background:#FFFFFF;" version="1.1" viewBox="0 0 1023 647" width="1023px" zoomAndPan="magnify"><defs/><g><rect fill="#D3D3D3" height="635.9141" style="stroke:#181818;stroke-width:0.5;" width="292.6538" x="143.5762" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="286.6538" x="146.5762" y="18.0669">SDK / Server Provider Manager System</text><rect fill="#ADD8E6" height="635.9141" style="stroke:#181818;stroke-width:0.5;" width="366.4346" x="644.7559" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="196.5488" x="729.6987" y="18.0669">Internal Service(Decouple)</text><g><title>Client</title><rect fill="#FFBDBD" height="159.0625" style="stroke:#181818;stroke-width:1;" width="10" x="284.9031" y="82.7266"/></g><g><title>Server</title><rect fill="#FFBBBB" height="137.9297" style="stroke:#181818;stroke-width:1;" width="10" x="726.0571" y="241.7891"/></g><g><title>Resource</title><rect fill="#E9967A" height="92.5313" style="stroke:#181818;stroke-width:1;" width="10" x="910.2744" y="432.9844"/></g><rect fill="none" height="138.7969" style="stroke:#000000;stroke-width:1.5;" width="788.8611" x="228.3293" y="394.7188"/><g><title>ResourceOwner</title><rect fill="#000000" fill-opacity="0.00000" height="467.7891" width="8" x="63.4258" y="72.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="67" x2="67" y1="72.7266" y2="540.5156"/></g><line style="stroke:#181818;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="67" x2="67" y1="540.5156" y2="581.3203"/><g><title>ResourceOwner</title><rect fill="#000000" fill-opacity="0.00000" height="10" width="8" x="63.4258" y="581.3203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="67" x2="67" y1="581.3203" y2="591.3203"/></g><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="467.7891" width="8" x="285.9031" y="72.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="289.3293" x2="289.3293" y1="72.7266" y2="540.5156"/></g><line style="stroke:#181818;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="289.3293" x2="289.3293" y1="540.5156" y2="581.3203"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="10" width="8" x="285.9031" y="581.3203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="289.3293" x2="289.3293" y1="581.3203" y2="591.3203"/></g><g><title>Server</title><rect fill="#000000" fill-opacity="0.00000" height="467.7891" width="8" x="727.0571" y="72.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="730.7559" x2="730.7559" y1="72.7266" y2="540.5156"/></g><line style="stroke:#181818;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="730.7559" x2="730.7559" y1="540.5156" y2="581.3203"/><g><title>Server</title><rect fill="#000000" fill-opacity="0.00000" height="10" width="8" x="727.0571" y="581.3203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="730.7559" x2="730.7559" y1="581.3203" y2="591.3203"/></g><g><title>Resource</title><rect fill="#000000" fill-opacity="0.00000" height="467.7891" width="8" x="911.2744" y="72.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="914.3584" x2="914.3584" y1="72.7266" y2="540.5156"/></g><line style="stroke:#181818;stroke-width:1;stroke-dasharray:1.0,4.0;" x1="914.3584" x2="914.3584" y1="540.5156" y2="581.3203"/><g><title>Resource</title><rect fill="#000000" fill-opacity="0.00000" height="10" width="8" x="911.2744" y="581.3203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="914.3584" x2="914.3584" y1="581.3203" y2="591.3203"/></g><g class="participant participant-head" data-participant="ResourceOwner\n(User)"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124.8516" x="5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.8516" x="12" y="45.1279">ResourceOwner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.834" x="46.0088" y="61.4248">(User)</text></g><g class="participant participant-tail" data-participant="ResourceOwner\n(User)"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124.8516" x="5" y="590.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.8516" x="12" y="610.3154">ResourceOwner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.834" x="46.0088" y="626.6123">(User)</text></g><g class="participant participant-head" data-participant="Client\n(Application)"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.1475" x="238.3293" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="269.6379" y="45.1279">Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.1475" x="245.3293" y="61.4248">(Application)</text></g><g class="participant participant-tail" data-participant="Client\n(Application)"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.1475" x="238.3293" y="590.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="269.6379" y="610.3154">Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.1475" x="245.3293" y="626.6123">(Application)</text></g><g class="participant participant-head" data-participant="Server\n(AuthorizationServer)"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.6025" x="648.7559" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.9102" x="708.1021" y="45.1279">Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.6025" x="655.7559" y="61.4248">(AuthorizationServer)</text></g><g class="participant participant-tail" data-participant="Server\n(AuthorizationServer)"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.6025" x="648.7559" y="590.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.9102" x="708.1021" y="610.3154">Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.6025" x="655.7559" y="626.6123">(AuthorizationServer)</text></g><g class="participant participant-head" data-participant="Resource\n(AuthorizationResource)"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183.832" x="823.3584" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.1396" x="882.7046" y="45.1279">Resource</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.832" x="830.3584" y="61.4248">(AuthorizationResource)</text></g><g class="participant participant-tail" data-participant="Resource\n(AuthorizationResource)"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183.832" x="823.3584" y="590.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.1396" x="882.7046" y="610.3154">Resource</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.832" x="830.3584" y="626.6123">(AuthorizationResource)</text></g><g><title>Client</title><rect fill="#FFBDBD" height="159.0625" style="stroke:#181818;stroke-width:1;" width="10" x="284.9031" y="82.7266"/></g><g><title>Server</title><rect fill="#FFBBBB" height="137.9297" style="stroke:#181818;stroke-width:1;" width="10" x="726.0571" y="241.7891"/></g><g><title>Resource</title><rect fill="#E9967A" height="92.5313" style="stroke:#181818;stroke-width:1;" width="10" x="910.2744" y="432.9844"/></g><g class="message" data-participant-1="ResourceOwner\n(User)" data-participant-2="Client\n(Application)"><polygon fill="#181818" points="272.9031,99.8594,282.9031,103.8594,272.9031,107.8594,276.9031,103.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="67.4258" x2="278.9031" y1="103.8594" y2="103.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.7241" x="74.4258" y="98.7935">Ask for Request</text></g><rect fill="#FEFFDD" height="83" style="stroke:#181818;stroke-width:0.5;" width="278" x="150" y="116.8594"/><text fill="#9621A2" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.0693" x="154" y="132.9263">client_id</text><text fill="#9621A2" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.564" x="154" y="148.0591">client_secret</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.2676" x="154" y="163.1919">[scope]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="154" y="178.3247">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270.9941" x="154" y="193.4575">note that aboves only store in Client peer</text><g class="message" data-participant-1="Client\n(Application)" data-participant-2="Server\n(AuthorizationServer)"><polygon fill="#181818" points="714.0571,237.7891,724.0571,241.7891,714.0571,245.7891,718.0571,241.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="289.9031" x2="720.0571" y1="241.7891" y2="241.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="94.2817" x="296.9031" y="221.5903">AccessToken</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.3901" x="395.3171" y="221.5903">Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270.772" x="296.9031" y="236.7231">[carry with client_id, client_secret, scope]</text></g><rect fill="#FEFFDD" height="83" style="stroke:#181818;stroke-width:0.5;" width="253" x="604" y="254.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.7456" x="608" y="270.856">Needs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="608" y="285.9888">&#160;&#160;&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="61.166" x="624.5293" y="285.9888">client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="608" y="301.1216">&#160;&#160;&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="93.1074" x="624.5293" y="301.1216">client_secret</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="608" y="316.2544">&#160;&#160;&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="94.688" x="624.5293" y="316.2544">grant_type =</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="129.3525" x="723.7432" y="316.2544">client_credentials</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5.0718" x="624.5293" y="331.3872">[</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="42.4976" x="629.6011" y="331.3872">scope</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5.0718" x="672.0986" y="331.3872">]</text><g class="message" data-participant-1="Server\n(AuthorizationServer)" data-participant-2="Client\n(Application)"><polygon fill="#181818" points="300.9031,375.7188,290.9031,379.7188,300.9031,383.7188,296.9031,379.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="294.9031" x2="730.0571" y1="379.7188" y2="379.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="94.2817" x="306.9031" y="359.52">AccessToken</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.0195" x="405.3171" y="359.52">Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321.4009" x="306.9031" y="374.6528">[+ Option but Not Recommended Refresh Token]</text></g><path d="M228.3293,394.7188 L304.9534,394.7188 L304.9534,401.8516 L294.9534,411.8516 L228.3293,411.8516 L228.3293,394.7188" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="138.7969" style="stroke:#000000;stroke-width:1.5;" width="788.8611" x="228.3293" y="394.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="243.3293" y="407.7856">loop</text><g class="message" data-participant-1="Client\n(Application)" data-participant-2="Resource\n(AuthorizationResource)"><polygon fill="#181818" points="898.2744,428.9844,908.2744,432.9844,898.2744,436.9844,902.2744,432.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="289.9031" x2="904.2744" y1="432.9844" y2="432.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.3354" x="296.9031" y="427.9185">Call API with Access Token</text></g><rect fill="#FEFFDD" height="53" style="stroke:#181818;stroke-width:0.5;" width="108" x="860" y="445.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.1177" x="864" y="462.0513">Verify</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="864" y="477.1841">&#160;&#160;&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="83.7383" x="880.5293" y="477.1841">is legality ?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="864" y="492.3169">&#160;&#160;&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="84.2842" x="880.5293" y="492.3169">is expired ?</text><g class="message" data-participant-1="Resource\n(AuthorizationResource)" data-participant-2="Client\n(Application)"><polygon fill="#181818" points="300.9031,521.5156,290.9031,525.5156,300.9031,529.5156,296.9031,525.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="294.9031" x2="914.2744" y1="525.5156" y2="525.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1982" x="306.9031" y="520.4497">Response With Data[</text><text fill="#A209E1" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98.7949" x="444.1013" y="520.4497">Unauthorized</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.3799" x="542.8962" y="520.4497">|</text><text fill="#006400" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90.9556" x="547.2761" y="520.4497">Real wanted</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5.0718" x="638.2317" y="520.4497">]</text></g><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132.1182" x="423.5427" y="564.7261">subsequent as you wish</text><!--SRC=[ZLHDJnin4BtxLuoI2sm9AHmg4L6gG0f2RG6HqXu2GevtabXnRDVs9cpL7z_nBXjbI_FXo-vwPfvdtdjhorsGGbgk0pJkqPlC2RnTQ7IFUk_1ezjlC3OqBz3ezxv06_hevkZWpfcvJEdb6zTyJCz-xWFE6j3yAiUJSELupkmgz8MIg0DXTgrLKl0WZIPer2aG-kiHrpgWqrmLfqY1UpqK9hCAzolWSvKX0reryBAf29w5YN7oTm5Vxj8XR_AhEV-jgFPN6sDS13dd0TVD0CtBo_FUUO-jeGzQP-jAEz3rKnWP1_VuAqCVcDE6JZAHudMKnMbEXL5KrJpvS7p4Zyz4aVaiqzDs4JZRaEHHE0orn84Nnk8JApwA1iA41-13wiE3qIe77un3a1hAfi0YkiXHqIzZwwY9esyMfmD9qXK2lVzkfgYJfA827lL0SEToMCWmWUM81r0Rv01Ucqzncr2hKcvkgf2KLasE7KnsWvZwuYskTZj9bcqdIRlzlqWvnPles95HdqDk4JukXNIOLYfIKKfFoPMlfAnX3298mKpSVbgLQilehKrsVQkLjqPx-f46x-3MnZGOPW5kJA2OCBCP7OmflOyS-WaKTNMjjj3Ab35siy6s_yqTkE1AGVVkkZHJEKJPpOefjWD1iyVTjC_LpEYQENQuKQ8iFz39KRvKAKca1uLZhcJ8uLEIr2FuOYNfN0IM0gvZuhJLsesAIZFu6QdeyS07bS6wn-zFFX-HanuqVor7Scxbi3zLNaeaN3b4JQdtIFVrWjowcbcNU0ToudoC7HuU-cpeumL0Tmpta9kC52FZKEGl]--></g></svg>